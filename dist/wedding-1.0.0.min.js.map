{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","plumbing/index.coffee","components/default.js","components/emblem.js","components/errors.js","components/index.js","node_modules/browserify/node_modules/browser-resolve/empty.js","node_modules/browserify/node_modules/process/browser.js","node_modules/extend/index.js","node_modules/injectinto/inject.js","node_modules/odo-async/async.js","node_modules/odo-hub/hub.js","node_modules/odo-hub/node_modules/odo-sequencer/sequencer.js","node_modules/odo-hub/node_modules/odo-template/template.js","node_modules/odo-relay/layers.coffee","node_modules/odo-relay/parallelqueries.coffee","node_modules/odo-relay/relay.js","node_modules/odojs/component.coffee","node_modules/odojs/compose.coffee","node_modules/odojs/hook.coffee","node_modules/odojs/mount.coffee","node_modules/odojs/node_modules/raf/index.js","node_modules/odojs/node_modules/raf/node_modules/performance-now/lib/performance-now.js","node_modules/odojs/node_modules/setimmediate/setImmediate.js","node_modules/odojs/node_modules/vdom-thunk/immutable-thunk.js","node_modules/odojs/node_modules/vdom-thunk/index.js","node_modules/odojs/node_modules/vdom-thunk/partial.js","node_modules/odojs/node_modules/vdom-thunk/shallow-eq.js","node_modules/odojs/node_modules/vdom-to-html/create-attribute.js","node_modules/odojs/node_modules/vdom-to-html/index.js","node_modules/odojs/node_modules/vdom-to-html/node_modules/escape-html/index.js","node_modules/odojs/node_modules/vdom-to-html/node_modules/param-case/node_modules/sentence-case/node_modules/lower-case/lower-case.js","node_modules/odojs/node_modules/vdom-to-html/node_modules/param-case/node_modules/sentence-case/sentence-case.js","node_modules/odojs/node_modules/vdom-to-html/node_modules/param-case/node_modules/sentence-case/vendor/camel-case-regexp.js","node_modules/odojs/node_modules/vdom-to-html/node_modules/param-case/node_modules/sentence-case/vendor/non-word-regexp.js","node_modules/odojs/node_modules/vdom-to-html/node_modules/param-case/node_modules/sentence-case/vendor/trailing-digit-regexp.js","node_modules/odojs/node_modules/vdom-to-html/node_modules/param-case/param-case.js","node_modules/odojs/node_modules/vdom-to-html/node_modules/virtual-dom/virtual-hyperscript/hooks/attribute-hook.js","node_modules/odojs/node_modules/vdom-to-html/node_modules/virtual-dom/virtual-hyperscript/hooks/soft-set-hook.js","node_modules/odojs/node_modules/vdom-to-html/node_modules/virtual-dom/vnode/is-thunk.js","node_modules/odojs/node_modules/vdom-to-html/node_modules/virtual-dom/vnode/is-vnode.js","node_modules/odojs/node_modules/vdom-to-html/node_modules/virtual-dom/vnode/is-vtext.js","node_modules/odojs/node_modules/vdom-to-html/node_modules/virtual-dom/vnode/version.js","node_modules/odojs/node_modules/vdom-to-html/node_modules/xtend/immutable.js","node_modules/odojs/node_modules/vdom-to-html/property-config.js","node_modules/odojs/node_modules/vdom-to-html/void-elements.js","node_modules/odojs/node_modules/virtual-dom/create-element.js","node_modules/odojs/node_modules/virtual-dom/diff.js","node_modules/odojs/node_modules/virtual-dom/h.js","node_modules/odojs/node_modules/virtual-dom/node_modules/browser-split/index.js","node_modules/odojs/node_modules/virtual-dom/node_modules/ev-store/index.js","node_modules/odojs/node_modules/virtual-dom/node_modules/ev-store/node_modules/individual/index.js","node_modules/odojs/node_modules/virtual-dom/node_modules/ev-store/node_modules/individual/one-version.js","node_modules/odojs/node_modules/virtual-dom/node_modules/global/document.js","node_modules/odojs/node_modules/virtual-dom/node_modules/is-object/index.js","node_modules/odojs/node_modules/virtual-dom/node_modules/x-is-array/index.js","node_modules/odojs/node_modules/virtual-dom/patch.js","node_modules/odojs/node_modules/virtual-dom/vdom/apply-properties.js","node_modules/odojs/node_modules/virtual-dom/vdom/create-element.js","node_modules/odojs/node_modules/virtual-dom/vdom/dom-index.js","node_modules/odojs/node_modules/virtual-dom/vdom/patch-op.js","node_modules/odojs/node_modules/virtual-dom/vdom/patch.js","node_modules/odojs/node_modules/virtual-dom/vdom/update-widget.js","node_modules/odojs/node_modules/virtual-dom/virtual-hyperscript/hooks/ev-hook.js","node_modules/odojs/node_modules/virtual-dom/virtual-hyperscript/index.js","node_modules/odojs/node_modules/virtual-dom/virtual-hyperscript/parse-tag.js","node_modules/odojs/node_modules/virtual-dom/virtual-hyperscript/svg-attribute-namespace.js","node_modules/odojs/node_modules/virtual-dom/virtual-hyperscript/svg.js","node_modules/odojs/node_modules/virtual-dom/vnode/handle-thunk.js","node_modules/odojs/node_modules/virtual-dom/vnode/is-vhook.js","node_modules/odojs/node_modules/virtual-dom/vnode/is-widget.js","node_modules/odojs/node_modules/virtual-dom/vnode/version.js","node_modules/odojs/node_modules/virtual-dom/vnode/vnode.js","node_modules/odojs/node_modules/virtual-dom/vnode/vpatch.js","node_modules/odojs/node_modules/virtual-dom/vnode/vtext.js","node_modules/odojs/node_modules/virtual-dom/vtree/diff-props.js","node_modules/odojs/node_modules/virtual-dom/vtree/diff.js","node_modules/odojs/odo.js","node_modules/odojs/stringify.coffee","node_modules/odojs/widget.coffee","node_modules/odoql-json/filter.js","node_modules/odoql-json/query.js","node_modules/odoql-json/store.js","node_modules/odoql-localstorage/store.js","node_modules/odoql/node_modules/jsondiffpatch/src/contexts/context.js","node_modules/odoql/node_modules/jsondiffpatch/src/contexts/diff.js","node_modules/odoql/node_modules/jsondiffpatch/src/contexts/patch.js","node_modules/odoql/node_modules/jsondiffpatch/src/contexts/reverse.js","node_modules/odoql/node_modules/jsondiffpatch/src/date-reviver.js","node_modules/odoql/node_modules/jsondiffpatch/src/diffpatcher.js","node_modules/odoql/node_modules/jsondiffpatch/src/environment.js","node_modules/odoql/node_modules/jsondiffpatch/src/filters/arrays.js","node_modules/odoql/node_modules/jsondiffpatch/src/filters/dates.js","node_modules/odoql/node_modules/jsondiffpatch/src/filters/lcs.js","node_modules/odoql/node_modules/jsondiffpatch/src/filters/nested.js","node_modules/odoql/node_modules/jsondiffpatch/src/filters/texts.js","node_modules/odoql/node_modules/jsondiffpatch/src/filters/trivial.js","node_modules/odoql/node_modules/jsondiffpatch/src/main.js","node_modules/odoql/node_modules/jsondiffpatch/src/pipe.js","node_modules/odoql/node_modules/jsondiffpatch/src/processor.js","node_modules/odoql/plugin.js","node_modules/odoql/ql.coffee","node_modules/odoql/ql.js","node_modules/odoql/ql/build.coffee","node_modules/odoql/ql/build.js","node_modules/odoql/ql/desc.coffee","node_modules/odoql/ql/desc.js","node_modules/odoql/ql/diff.coffee","node_modules/odoql/ql/diff.js","node_modules/odoql/ql/exec.coffee","node_modules/odoql/ql/exec.js","node_modules/odoql/ql/merge.coffee","node_modules/odoql/ql/merge.js","node_modules/odoql/ql/split.coffee","node_modules/odoql/ql/split.js","node_modules/page/index.js","node_modules/page/node_modules/path-to-regexp/index.js","node_modules/page/node_modules/path-to-regexp/node_modules/isarray/index.js","node_modules/superagent/lib/client.js","node_modules/superagent/node_modules/component-emitter/index.js","node_modules/superagent/node_modules/reduce-component/index.js","node_modules/svg4everybody/svg4everybody.js","node_modules/xhr/index.js","node_modules/xhr/node_modules/global/window.js","node_modules/xhr/node_modules/once/once.js","node_modules/xhr/node_modules/parse-headers/node_modules/for-each/index.js","node_modules/xhr/node_modules/parse-headers/node_modules/for-each/node_modules/is-function/index.js","node_modules/xhr/node_modules/parse-headers/node_modules/trim/index.js","node_modules/xhr/node_modules/parse-headers/parse-headers.js","plumbing/form2js.js","plumbing/intent.js","plumbing/router.js","plumbing/scene.js","plumbing/stores.js","ui/icons.js","ui/index.js"],"names":[],"mappings":"AAAA;ACAA,IAAA,gBAAA;;AAAA,GAAA,GAAM,OAAA,CAAQ,SAAR,CAAN,CAAA;;AAAA,MAEM,CAAC,GAAP,GAAa,GAFb,CAAA;;AAAA,IAGA,GAAO,OAAA,CAAQ,MAAR,CAHP,CAAA;;AAAA,KAIA,GAAQ,OAAA,CAAQ,SAAR,CAJR,CAAA;;AAAA,OAKA,CAAQ,UAAR,CALA,CAAA;;AAAA,IAQA,CAAA,CARA,CAAA;;AAAA,MAWM,CAAC,eAAe,CAAC,GAAvB,CAAA,CAXA,CAAA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvCA;AACA;AACA;AACA;AACA;;ACJA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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,CAAQ,WAAR,CAAV,CAAA;;AAAA,MAEM,CAAC,OAAP,GAAiB,SAAC,SAAD,EAAY,IAAZ,GAAA;SACf,SAAS,CAAC,KAAV,GAAkB,SAAC,EAAD,EAAK,KAAL,EAAY,MAAZ,GAAA;AAChB,QAAA,KAAA;AAAA,IAAA,KAAA,GAAQ,OAAA,CAAQ,SAAR,EAAmB,KAAnB,EAA0B,MAA1B,EAAkC,EAAlC,CAAR,CAAA;AAAA,IACA,KAAK,CAAC,KAAN,CAAA,CADA,CAAA;WAEA;AAAA,MAAA,MAAA,EAAQ,SAAC,KAAD,EAAQ,MAAR,GAAA;eACN,KAAK,CAAC,MAAN,CAAa,KAAb,EAAoB,MAApB,EADM;MAAA,CAAR;AAAA,MAEA,KAAA,EAAO,SAAC,KAAD,EAAQ,MAAR,GAAA;eACL,KAAK,CAAC,KAAN,CAAY,KAAZ,EAAmB,MAAnB,EADK;MAAA,CAFP;AAAA,MAIA,OAAA,EAAS,SAAA,GAAA;eACP,KAAK,CAAC,OAAN,CAAA,EADO;MAAA,CAJT;MAHgB;EAAA,EADH;AAAA,CAFjB,CAAA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AChFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7BA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxCA;AACA;;ACDA;AACA;;ACDA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjBA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvBA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACfA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7DA;AACA;AACA;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACXA,MAAM,CAAC,OAAP,GACE;AAAA,EAAA,KAAA,EAAO,SAAC,IAAD,EAAO,MAAP,EAAe,KAAf,GAAA;WACL;AAAA,MAAA,OAAA,EAAS,IAAT;AAAA,MACA,QAAA,EAAU,MADV;AAAA,MAEA,OAAA,EAAS,KAFT;MADK;EAAA,CAAP;AAAA,EAIA,UAAA,EAAY,SAAC,IAAD,EAAO,MAAP,EAAe,KAAf,GAAA;WACV;AAAA,MAAA,OAAA,EAAS,IAAT;AAA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6B,CAA7B,CAAV,CADF;GADA;AAGA,EAAA,IAAe,OAAO,CAAC,MAAR,KAAkB,CAAjC;AAAA,WAAO,IAAP,CAAA;GAHA;AAAA,EAIA,MAAA,GAAS,EAJT,CAAA;AAKA,OAAA,yCAAA;uBAAA;AAAA,IAAA,KAAA,CAAM,MAAN,EAAc,MAAA,CAAO,EAAP,EAAW,KAAX,CAAd,CAAA,CAAA;AAAA,GALA;SAMA,OAPe;AAAA,CAzDjB,CAAA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjHA,IAAA,mJAAA;;AAAA,MAAM,CAAC,OAAP,GAAiB,SAAC,KAAD,EAAQ,KAAR,GAAA;AACf,MAAA,+BAAA;AAAA,EAAA,KAAA,GAAQ,EAAR,CAAA;AAAA,EACA,OAAA,GAAU,EADV,CAAA;AAEA,OAAA,YAAA;uBAAA;AACE,IAAA,UAAG,KAAK,CAAC,OAAN,EAAA,aAAiB,KAAjB,EAAA,GAAA,MAAH;AACE,MAAA,KAAM,CAAA,GAAA,CAAN,GAAa,KAAb,CADF;KAAA,MAAA;AAGE,MAAA,OAAQ,CAAA,GAAA,CAAR,GAAe,KAAf,CAHF;KADF;AAAA,GAFA;SAOA;AAAA,IAAA,KAAA,EAAO,KAAP;AAAA,IACA,OAAA,EAAS,OADT;IARe;AAAA,CAAjB,CAAA;;;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7kBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1MA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnmCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC1KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7BA;AACA;AACA","file":"wedding-1.0.0.min.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","hub = require 'odo-hub'\n# give sneaky libraries access to hub - e.g. odojs and odoql\nwindow.hub = hub\npage = require 'page'\nscene = require './scene'\nrequire './intent'\n\n# Connect to the url\npage()\n\n# Tell the loading screen that we successfully finished loading.\nwindow.__loadinghandle.fin()","// Generated by CoffeeScript 1.9.1\nvar component, dom, emblem, extend, form2js, hub, inject, ql, ref, rsvp, widget;\n\nref = require('odojs'), component = ref.component, dom = ref.dom, widget = ref.widget;\n\ninject = require('injectinto');\n\nql = require('odoql/ql');\n\nhub = require('odo-hub');\n\nform2js = require('../plumbing/form2js');\n\nemblem = require('./emblem');\n\nextend = require('extend');\n\nrsvp = component({\n  render: function(state, params) {\n    var checkboxattrs, contents, fn, i, index, items, len, name, nameinput, ref1, whoattrs;\n    if (state == null) {\n      return dom('span');\n    }\n    nameinput = function(index, name, cb) {\n      return dom('div', [\n        dom('input', {\n          onkeyup: function(e) {\n            if (e.keyCode === 13) {\n              return cb(e.target.value);\n            }\n          },\n          onblur: function(e) {\n            return cb(e.target.value);\n          },\n          attributes: {\n            name: params.eventid + \".attending[\" + index + \"]\",\n            type: 'text',\n            autocomplete: 'off',\n            autocorrect: 'off',\n            autocapitalize: 'words',\n            value: name\n          }\n        })\n      ]);\n    };\n    items = [];\n    ref1 = state.attending;\n    fn = function(index) {\n      return items.push(nameinput(index, name, function(newname) {\n        return hub.emit(\"{eventid} attendee {index} is {name}\", {\n          eventid: params.eventid,\n          index: index,\n          name: newname\n        });\n      }));\n    };\n    for (index = i = 0, len = ref1.length; i < len; index = ++i) {\n      name = ref1[index];\n      fn(index);\n    }\n    checkboxattrs = {\n      name: params.eventid + \".going\",\n      type: 'checkbox',\n      value: 'true'\n    };\n    if (state.going) {\n      checkboxattrs.checked = 'checked';\n    }\n    contents = [\n      dom('label', [\n        dom('input', {\n          attributes: checkboxattrs,\n          onchange: function(e) {\n            return hub.emit('{eventid} RSVP {attending}', {\n              eventid: params.eventid,\n              attending: e.target.checked\n            });\n          }\n        }), dom('span'), dom('span', params.eventtitle)\n      ])\n    ];\n    whoattrs = {\n      \"class\": 'attending'\n    };\n    if (!state.going) {\n      whoattrs.style = 'display: none;';\n    }\n    contents.push(dom('div', {\n      attributes: whoattrs\n    }, [dom('h3', 'Who is attending?'), dom('div', items)]));\n    return dom('div', contents);\n  }\n});\n\ninject.bind('page:default', component({\n  query: function(params) {\n    return {\n      invite: ql.query('invites', params.page.code)\n    };\n  },\n  render: function(state, params) {\n    var submit, titileattr;\n    if (state.invite == null) {\n      setTimeout(function() {\n        return hub.emit('event error, {code} not found', params.page);\n      }, 20);\n      return dom('div');\n    }\n    submit = function(e) {\n      var data;\n      e.preventDefault();\n      data = form2js(e.target, null, false);\n      data = extend({}, {\n        to: state.invite.to\n      }, data);\n      hub.emit('event code {code} submitted', {\n        code: params.page.code,\n        data: data\n      });\n      return false;\n    };\n    titileattr = {\n      attributes: {\n        \"class\": 'title',\n        src: '/title.png'\n      }\n    };\n    return dom('div', {\n      attributes: {\n        \"class\": 'wrapper'\n      }\n    }, [\n      emblem(), dom('h1', state.invite.to), dom('p', {\n        attributes: {\n          \"class\": 'large'\n        }\n      }, ['You are invited to the Wedding of ', dom('br'), 'Thomas Coats & Harvinder Kaur']), state.invite['prewedding'] != null ? dom('div', [dom('p', 'Thomas and Harvinder have chosen to celebrate their wedding over two days to include the Punjabi wedding traditions.')]) : dom('div', [dom('p', 'Thomas and Harvinder have chosen to follow a traditional Punjabi wedding ceremony.')]), state.invite['prewedding'] != null ? dom('div', [\n        dom('h2', 'Maiyan'), dom('p', [\n          '10am - 10pm', dom('br'), 'Friday 2nd October', dom('br'), dom('a', {\n            attributes: {\n              href: 'https://www.google.co.nz/maps/place/Bow+Street+Studios/@-37.799761,174.867363,17z/data=!3m1!4b1!4m2!3m1!1s0x6d12d41762787c37:0xdaa5f7641ec6868c'\n            }\n          }, 'Bow Street Studios')\n        ]), dom('p', 'The Punjabi wedding preparation ceremonies are known as Maiyan. We will be performing Vatna, Mehndi, Jaggo and Choora. Sangeet, Giddha and Bhangra will be present throughout the day - singing and dancing.'), dom('p', [\n          'Everyone celebrates differently, some of these ceremonies are ', dom('a', {\n            attributes: {\n              href: 'http://en.wikipedia.org/wiki/Punjabi_wedding_traditions'\n            }\n          }, 'described in more detail on wikipedia'), '.'\n        ]), dom('p', 'Vatna the bride and groom are washed with turmeric, mustard oil and chick pea flour.'), dom('p', 'Mehndi, also known as Henna, is a paste used to draw designs on the skin.'), dom('p', 'Jaggo is celebration dancing and loud noises to invite the neighbours to the wedding (symbolically, not literally).'), dom('p', 'Choora are bangles worn by the bride.'), dom('ul', [dom('li', 'We would appreciate if everyone coming contributed a plate to the lunch or dinner.'), dom('li', 'No alcohol will be present during these ceremonies.')])\n      ]) : dom('span'), state.invite['ceremony'] != null ? dom('div', [\n        dom('h2', 'Anand Karaj'), dom('p', [\n          '8:30am - 1pm', dom('br'), 'Saturday 3rd October', dom('br'), dom('a', {\n            attributes: {\n              href: 'https://www.google.co.nz/maps/place/New+Zealand+Sikh+Society+Hamilton/@-37.71328,175.211584,17z/data=!3m1!4b1!4m2!3m1!1s0x6d6d23350d4539e1:0x16a1c12e4ab4036a'\n            }\n          }, 'Te Rapa Sikh Gurdwara')\n        ]), dom('p', 'Anand Karaj literally translates as \"Blissful Union\" and is the Sikh marriage ceremony in which two individuals are joined in an equal partnership. A Sikh wedding involves greetings, breakfast, the ceremony, lunch and farewell.'), dom('p', 'Milni the brides side act as hosts and welcome the grooms side to the temple and to the wedding. The bride herself remains in a back room of the temple until the beginning of the ceremony.'), dom('p', 'Breakfast is then served to the arriving guests.'), dom('p', 'During the ceremony men sit on one side of the temple hall and women on the other side. The groom takes his place in front of Sri Guru Granth Sahib, the Sikh holy text. The bride joins him.'), dom('p', 'The ceremony starts with Ards, a Sikh prayer said before and after events. At various time during the ceremony everyone will be called to stand and sit.'), dom('p', 'The father of the bride then places one end of a scarf or sash worn by the groom over his shoulders in his daughters hand signifying that she is now leaving his care to join her husbands.'), dom('p', 'The Lavan hymn of Guru Ram Das is then recited in four stanzas. At the end of each stanza the groom and bride walk clockwise around Sri Guru Granth Sahib. The Lavan hymn describes the progression of love between a husband and wife which is analogous to that between the soul (bride) and God (the husband).'), dom('p', 'The Anand hymn by Guru Amar Das is then recited. During the start and the end of the ceremony Kirtan is practiced. This involves chanting with a musical accompaniment.'), dom('p', 'Hukamnama. Sri Guru Granth Sahib is opened to any page at random and the hymn is read out as the days order from the Guru for the occasion.'), dom('p', 'Karah Prashad the ceremonial sacramental pudding is given to everyone to mark the end of the ceremony.'), dom('p', 'The ceremony lasts for about two hours'), dom('p', 'Lunch is then served in Langar.'), dom('p', 'At around 1pm the Bride and Groom are sent off in Dholi.'), dom('ul', [dom('li', 'The temple is a holy place'), dom('li', 'Decent knee length or full length dresses or pants for women'), dom('li', 'Men wear full length pants'), dom('li', 'Heads to be covered at all times in temple with either a scarf or a bandana'), dom('li', 'No smoking or drinking alcohol on temple premises'), dom('li', 'No tobacco in pockets, please leave in car'), dom('li', 'No drinking beforehand')])\n      ]) : dom('span'), state.invite['reception'] != null ? dom('div', [\n        dom('h2', 'Wedding Reception'), dom('p', [\n          '5pm - Late', dom('br'), 'Saturday 3rd October', dom('br'), dom('a', {\n            attributes: {\n              href: 'https://www.google.co.nz/maps/place/Bow+Street+Studios/@-37.799761,174.867363,17z/data=!3m1!4b1!4m2!3m1!1s0x6d12d41762787c37:0xdaa5f7641ec6868c'\n            }\n          }, 'Bow Street Studios')\n        ]), dom('p', 'Dinner and drinks with the happy couple.')\n      ]) : dom('span'), state.invite['breakfast'] != null ? dom('div', [\n        dom('h2', 'Breakfast with Newlyweds'), dom('p', [\n          '10am', dom('br'), 'Sunday 4th October', dom('br'), dom('a', {\n            attributes: {\n              href: 'https://www.google.co.nz/maps/place/Raglan+Roast/@-37.800179,174.868397,17z/data=!3m1!4b1!4m2!3m1!1s0x6d12d4176d6a36f9:0x3a3e2a740ee1d2a5'\n            }\n          }, 'Raglan Roast')\n        ]), dom('p', 'We invite anyone staying in Raglan to join us for our morning breakfast and to say our goodbyes before we depart.')\n      ]) : void 0, (state.invite['breakfast'] != null) || (state.invite['prewedding'] != null) ? dom('div', [\n        dom('h2', 'Accomodation'), dom('p', 'There are several places to stay in and around Raglan.'), dom('a', {\n          attributes: {\n            href: 'http://www.raglansunsetmotel.co.nz/'\n          }\n        }, 'Raglan Sunset Motel'), dom('p', 'Raglan Sunset Motel features 24 units offering a range of accommodation, studio units, Family Studios for up to 5 people an Executive unit and a 2 Bedroom self contained apartment for up to 8 people.'), dom('a', {\n          attributes: {\n            href: 'https://www.facebook.com/raglanpalm'\n          }\n        }, 'Raglan Palm Beach Motel'), dom('p', 'Family and single motel units. Canoes and kayaks available.'), dom('a', {\n          attributes: {\n            href: 'http://www.raglanholidaypark.co.nz/'\n          }\n        }, 'Raglan Kopua Holiday Park'), dom('p', 'Raglan Kopua Holiday Park offers tent, campervan or caravan, backpacker, cabin and motel units.'), dom('a', {\n          attributes: {\n            href: 'http://www.hiddenvalleyraglan.com/'\n          }\n        }, 'Hidden Valley Luxury Retreat'), dom('p', 'Two studio rooms each with private spa and Tree Tops Spa Chalet  our most private and luxurious accommodation.'), dom('a', {\n          attributes: {\n            href: 'http://raglanfarmstay.com/'\n          }\n        }, 'Raglan Farmstay'), dom('p', 'Rooms in the old Farmhouse are available along with two new wood lined cabins. Also available is a sleep out with five beds.'), dom('a', {\n          attributes: {\n            href: 'http://www.raglan.net.nz/2009/10/harbour-view-hotel/'\n          }\n        }, 'Harbour View Hotel'), dom('p', 'The hotel boasts 3 double rooms, 3 twin, 1 single and 2 family rooms (one sleeping up to 5 and the other up to 4).'), dom('a', {\n          attributes: {\n            href: 'http://www.oceanviewraglan.com/'\n          }\n        }, 'Ocean View Raglan'), dom('p', 'Bed and Breakfast. There are several rooms available with either king single, queen or king beds to suit whatever your needs.'), dom('a', {\n          attributes: {\n            href: 'http://www.solscape.co.nz/'\n          }\n        }, 'Solscape'), dom('p', 'Eco accomodation. Stay in self contained cottages, recycled railway cabooses, earth domes or a Tipi Forest.')\n      ]) : void 0, dom('div', [\n        dom('h2', 'Notes'), dom('p', 'A wedding gift is not required but gratefully received.'), dom('p', 'We have been living together for more than six years and have an established house full of furniture and appliances. Instead of a material gift we would very much appreciate a contribution to our honeymoon.'), dom('p', 'Sponsoring part of our holiday will help us celebrate your contribution. We can think of you at that time.'), dom('p', 'Here are some ideas for sponsoring.'), dom('ol', [dom('li', 'A roadside snack'), dom('li', 'A meal together'), dom('li', 'An activity during the day'), dom('li', 'Accomodation for one night'), dom('li', 'A short flight to a neighbouring area'), dom('li', 'A flight to a distant land')]), dom('p', 'If you decide to sponsor part of our honeymoon, thank you! And please let us know so we can think of you.'), dom('div', {\n          attributes: {\n            \"class\": 'grid grid--top'\n          }\n        }, [dom('div', [dom('h4', 'International:'), dom('strong', 'Our details:'), dom('br'), 'T P Coats, K Harvinder', dom('br'), '3 Sandes Street,', dom('br'), 'Ohaupo 3803', dom('br'), dom('br'), dom('strong', 'Bank details:'), dom('br'), 'Citibank N.A, 23 Customs St, Auckland, New Zealand', dom('br'), dom('strong', 'SWIFT code:'), dom('span', ' CITINZ2X'), dom('br'), 'Your full name and street address is needed (not PO Box)', dom('br'), '38-9004-0745246-01']), dom('div', [dom('h4', 'Within New Zealand:'), 'T P Coats, K Harvinder', dom('br'), 'Kiwibank', dom('br'), '38-9004-0745246-01'])])\n      ]), dom('hr'), dom('h2', 'RSVP'), dom('form', {\n        onsubmit: submit\n      }, [\n        rsvp(state.invite['prewedding'], {\n          eventid: 'prewedding',\n          eventtitle: 'RSVP to Maiyan'\n        }), rsvp(state.invite['ceremony'], {\n          eventid: 'ceremony',\n          eventtitle: 'RSVP to Anand Karaj (wedding ceremony)'\n        }), rsvp(state.invite['reception'], {\n          eventid: 'reception',\n          eventtitle: 'RSVP to the Wedding Reception'\n        }), rsvp(state.invite['breakfast'], {\n          eventid: 'breakfast',\n          eventtitle: 'RSVP to Breakfast'\n        }), dom('label', {\n          attributes: {\n            \"class\": 'comments'\n          }\n        }, [\n          dom('span', 'Comments'), dom('textarea', {\n            value: state.invite.comments,\n            attributes: {\n              name: 'comments'\n            }\n          })\n        ]), dom('button', {\n          attributes: {\n            type: 'submit'\n          }\n        }, 'Save RSVP'), params.success ? dom('div', 'Thank you, this RSVP has been saved. If you need to update any details just revisit this page and click save again.') : void 0\n      ])\n    ]);\n  }\n}));\n","// Generated by CoffeeScript 1.9.1\nvar Emblem, component, inject, ref, svg;\n\nref = require('odojs'), svg = ref.svg, component = ref.component;\n\ninject = require('injectinto');\n\nrequire('svg4everybody');\n\nEmblem = component({\n  render: function() {\n    return svg('svg', {\n      attributes: {\n        role: 'img',\n        \"class\": 'emblem'\n      }\n    }, [\n      svg('use', {\n        'xlink:href': \"/dist/wedding-1.0.0.min.svg#emblem\"\n      })\n    ]);\n  }\n});\n\ninject.bind('emblem', Emblem);\n\nmodule.exports = Emblem;\n","// Generated by CoffeeScript 1.9.1\nvar component, dom, inject, ref, svg;\n\nref = require('odojs'), component = ref.component, dom = ref.dom, svg = ref.svg;\n\ninject = require('injectinto');\n\ninject.bind('page:error', component({\n  render: function(state, params) {\n    var titileattr;\n    titileattr = {\n      attributes: {\n        \"class\": 'title'\n      },\n      style: {\n        width: '100%'\n      }\n    };\n    return dom('div', {\n      attributes: {\n        \"class\": 'wrapper error grid grid--center'\n      }\n    }, [\n      dom('div', [\n        dom('div', {\n          attributes: {\n            \"class\": 'logo'\n          }\n        }, [\n          svg('svg', titileattr, [\n            svg('use', {\n              'xlink:href': \"/dist/wedding-1.0.0.min.svg#emblem\"\n            })\n          ])\n        ]), dom('div', [dom('h1', params.page.message), dom('p', params.page.details)])\n      ])\n    ]);\n  }\n}));\n","// Generated by CoffeeScript 1.9.1\nrequire('./errors');\n\nrequire('./default');\n","","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    draining = true;\n    var currentQueue;\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        var i = -1;\n        while (++i < len) {\n            currentQueue[i]();\n        }\n        len = queue.length;\n    }\n    draining = false;\n}\nprocess.nextTick = function (fun) {\n    queue.push(fun);\n    if (!draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","var hasOwn = Object.prototype.hasOwnProperty;\nvar toString = Object.prototype.toString;\nvar undefined;\n\nvar isPlainObject = function isPlainObject(obj) {\n\t'use strict';\n\tif (!obj || toString.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar has_own_constructor = hasOwn.call(obj, 'constructor');\n\tvar has_is_property_of_method = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !has_own_constructor && !has_is_property_of_method) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) {}\n\n\treturn key === undefined || hasOwn.call(obj, key);\n};\n\nmodule.exports = function extend() {\n\t'use strict';\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[0],\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t} else if ((typeof target !== 'object' && typeof target !== 'function') || target == null) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = target[name];\n\t\t\t\tcopy = options[name];\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target === copy) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = Array.isArray(copy)))) {\n\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\tclone = src && Array.isArray(src) ? src : [];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t}\n\n\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\ttarget[name] = extend(deep, clone, copy);\n\n\t\t\t\t// Don't bring in undefined values\n\t\t\t\t} else if (copy !== undefined) {\n\t\t\t\t\ttarget[name] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\n","// Generated by CoffeeScript 1.8.0\nvar bind,\n  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\n\nbind = function() {\n  var Inject;\n  Inject = (function() {\n    function Inject() {\n      this.clear = __bind(this.clear, this);\n      this.many = __bind(this.many, this);\n      this.firstornone = __bind(this.firstornone, this);\n      this.first = __bind(this.first, this);\n      this.oneornone = __bind(this.oneornone, this);\n      this.one = __bind(this.one, this);\n      this.bind = __bind(this.bind, this);\n      this.bindings = {};\n    }\n\n    Inject.prototype.bind = function(key, item) {\n      var i, k;\n      if (typeof key === 'object') {\n        for (k in key) {\n          i = key[k];\n          this.bind(k, i);\n        }\n        return;\n      }\n      if (this.bindings[key] == null) {\n        this.bindings[key] = [];\n      }\n      if (Array.isArray(item)) {\n        return this.bindings[key] = this.bindings[key].concat(item);\n      } else {\n        return this.bindings[key].push(item);\n      }\n    };\n\n    Inject.prototype.one = function(key) {\n      var items;\n      if (this.bindings[key] == null) {\n        throw \"\" + key + \" not found\";\n      }\n      items = this.bindings[key];\n      if (items.length > 1) {\n        throw \"\" + key + \" too many bound\";\n      }\n      return items[0];\n    };\n\n    Inject.prototype.oneornone = function(key) {\n      var items;\n      if (this.bindings[key] == null) {\n        return null;\n      }\n      items = this.bindings[key];\n      if (items.length > 1) {\n        throw \"\" + key + \" too many bound\";\n      }\n      return items[0];\n    };\n\n    Inject.prototype.first = function(key) {\n      if (this.bindings[key] == null) {\n        throw \"\" + key + \" not found\";\n      }\n      return this.bindings[key][0];\n    };\n\n    Inject.prototype.firstornone = function(key) {\n      if (this.bindings[key] == null) {\n        return null;\n      }\n      return this.bindings[key][0];\n    };\n\n    Inject.prototype.many = function(key) {\n      if (this.bindings[key] == null) {\n        return [];\n      }\n      return this.bindings[key];\n    };\n\n    Inject.prototype.clear = function(key) {\n      return delete this.bindings[key];\n    };\n\n    return Inject;\n\n  })();\n  return new Inject;\n};\n\nif (typeof define !== \"undefined\" && define !== null) {\n  define([], bind);\n} else if (typeof module !== \"undefined\" && module !== null) {\n  module.exports = bind();\n} else {\n  window.inject = bind();\n}\n","// Generated by CoffeeScript 1.8.0\nvar bind;\n\nbind = function() {\n  return {\n    series: function(tasks, callback) {\n      var next, result;\n      tasks = tasks.slice(0);\n      next = function(cb) {\n        var task;\n        if (tasks.length === 0) {\n          return cb();\n        }\n        task = tasks.shift();\n        return task(function() {\n          return next(cb);\n        });\n      };\n      result = function(cb) {\n        return next(cb);\n      };\n      if (callback != null) {\n        result(callback);\n      }\n      return result;\n    },\n    parallel: function(tasks, callback) {\n      var count, result;\n      count = tasks.length;\n      result = function(cb) {\n        var task, _i, _len, _results;\n        if (count === 0) {\n          return cb();\n        }\n        _results = [];\n        for (_i = 0, _len = tasks.length; _i < _len; _i++) {\n          task = tasks[_i];\n          _results.push(task(function() {\n            count--;\n            if (count === 0) {\n              return cb();\n            }\n          }));\n        }\n        return _results;\n      };\n      if (callback != null) {\n        result(callback);\n      }\n      return result;\n    },\n    delay: function(callback) {\n      return setTimeout(callback, 1);\n    }\n  };\n};\n\nmodule.exports = bind();\n","// Generated by CoffeeScript 1.8.0\nvar Sequencer, async, bind, template,\n  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\n\nSequencer = require('odo-sequencer');\n\nasync = require('odo-async');\n\ntemplate = require('odo-template');\n\nbind = function() {\n  var Hub;\n  Hub = (function() {\n    function Hub() {\n      this.ready = __bind(this.ready, this);\n      this.emit = __bind(this.emit, this);\n      this.all = __bind(this.all, this);\n      this.any = __bind(this.any, this);\n      this.once = __bind(this.once, this);\n      this._once = __bind(this._once, this);\n      this.every = __bind(this.every, this);\n      this._every = __bind(this._every, this);\n      this._listeners = {};\n      this._all = [];\n      this._seq = new Sequencer();\n    }\n\n    Hub.prototype._every = function(e, cb) {\n      if (this._listeners[e] == null) {\n        this._listeners[e] = [];\n      }\n      this._listeners[e].push(cb);\n      return {\n        off: (function(_this) {\n          return function() {\n            var index;\n            index = _this._listeners[e].indexOf(cb);\n            if (index !== -1) {\n              return _this._listeners[e].splice(index, 1);\n            }\n          };\n        })(this)\n      };\n    };\n\n    Hub.prototype.every = function(events, cb) {\n      var bindings, e, _i, _len;\n      if (!(events instanceof Array)) {\n        events = [events];\n      }\n      bindings = (function() {\n        var _i, _len, _results;\n        _results = [];\n        for (_i = 0, _len = events.length; _i < _len; _i++) {\n          e = events[_i];\n          _results.push({\n            event: e\n          });\n        }\n        return _results;\n      })();\n      for (_i = 0, _len = bindings.length; _i < _len; _i++) {\n        e = bindings[_i];\n        e.binding = this._every(e.event, cb);\n      }\n      return {\n        off: (function(_this) {\n          return function() {\n            var _j, _len1, _results;\n            _results = [];\n            for (_j = 0, _len1 = bindings.length; _j < _len1; _j++) {\n              e = bindings[_j];\n              _results.push(e.binding.off());\n            }\n            return _results;\n          };\n        })(this)\n      };\n    };\n\n    Hub.prototype._once = function(e, cb) {\n      var binding;\n      binding = this.every(e, (function(_this) {\n        return function(payload, callback) {\n          binding.off();\n          return cb(payload, callback);\n        };\n      })(this));\n      return {\n        off: function() {\n          return binding.off();\n        }\n      };\n    };\n\n    Hub.prototype.once = function(events, cb) {\n      var bindings, count, e, _i, _len;\n      if (!(events instanceof Array)) {\n        events = [events];\n      }\n      count = 0;\n      bindings = (function() {\n        var _i, _len, _results;\n        _results = [];\n        for (_i = 0, _len = events.length; _i < _len; _i++) {\n          e = events[_i];\n          count++;\n          _results.push({\n            event: e,\n            complete: false\n          });\n        }\n        return _results;\n      })();\n      for (_i = 0, _len = bindings.length; _i < _len; _i++) {\n        e = bindings[_i];\n        e.binding = this._once(e.event, function(m, callback) {\n          count--;\n          e.complete = true;\n          if (count === 0) {\n            return cb(m, callback);\n          } else {\n            return callback();\n          }\n        });\n      }\n      return {\n        off: function() {\n          var _j, _len1, _results;\n          _results = [];\n          for (_j = 0, _len1 = bindings.length; _j < _len1; _j++) {\n            e = bindings[_j];\n            _results.push(e.binding.off());\n          }\n          return _results;\n        }\n      };\n    };\n\n    Hub.prototype.any = function(events, cb) {\n      var bindings, e, unbind, _i, _len;\n      bindings = (function() {\n        var _i, _len, _results;\n        _results = [];\n        for (_i = 0, _len = events.length; _i < _len; _i++) {\n          e = events[_i];\n          _results.push({\n            event: e\n          });\n        }\n        return _results;\n      })();\n      unbind = function() {\n        var _i, _len, _results;\n        _results = [];\n        for (_i = 0, _len = bindings.length; _i < _len; _i++) {\n          e = bindings[_i];\n          _results.push(e.binding.off());\n        }\n        return _results;\n      };\n      for (_i = 0, _len = bindings.length; _i < _len; _i++) {\n        e = bindings[_i];\n        e.binding = this._once(e.event, function() {\n          unbind();\n          return cb();\n        });\n      }\n      return {\n        off: unbind\n      };\n    };\n\n    Hub.prototype.all = function(cb) {\n      this._all.push(cb);\n      return {\n        off: function() {\n          var index;\n          index = this._all.indexOf(cb);\n          if (index !== -1) {\n            return this._all.splice(index, 1);\n          }\n        }\n      };\n    };\n\n    Hub.prototype.emit = function(e, m, ecb) {\n      var description, listener, tasks, _fn, _fn1, _i, _j, _len, _len1, _ref, _ref1;\n      description = \"\" + (template(e, m));\n      tasks = [];\n      _ref = this._all;\n      _fn = (function(_this) {\n        return function(listener) {\n          return tasks.push(function(pcb) {\n            return _this._seq.exec(description, function(scb) {\n              return listener(e, description, m, function() {\n                pcb();\n                return scb();\n              });\n            });\n          });\n        };\n      })(this);\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        listener = _ref[_i];\n        _fn(listener);\n      }\n      if (this._listeners[e] != null) {\n        _ref1 = this._listeners[e].slice();\n        _fn1 = (function(_this) {\n          return function(listener) {\n            return tasks.push(function(pcb) {\n              return _this._seq.exec(description, function(scb) {\n                return listener(m, function() {\n                  pcb();\n                  return scb();\n                });\n              });\n            });\n          };\n        })(this);\n        for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {\n          listener = _ref1[_j];\n          _fn1(listener);\n        }\n      }\n      return async.parallel(tasks, function() {\n        if (ecb != null) {\n          return ecb();\n        }\n      });\n    };\n\n    Hub.prototype.ready = function(cb) {\n      return this._seq.ready(cb);\n    };\n\n    return Hub;\n\n  })();\n  return new Hub();\n};\n\nmodule.exports = bind();\n","// Generated by CoffeeScript 1.8.0\nvar async, bind,\n  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\n\nasync = require('odo-async');\n\nbind = function() {\n  var Sequencer;\n  return Sequencer = (function() {\n    function Sequencer() {\n      this.ready = __bind(this.ready, this);\n      this.exec = __bind(this.exec, this);\n      this._next = __bind(this._next, this);\n      this._queue = [];\n      this._inprogress = false;\n      this._timeout = 1000;\n      this._ready = [];\n    }\n\n    Sequencer.prototype._next = function() {\n      var duration, item;\n      this._inprogress = true;\n      if (this._interval != null) {\n        clearInterval(this._interval);\n      }\n      if (this._queue.length === 0) {\n        if (this._ready.length === 0) {\n          return this._inprogress = false;\n        }\n        this._queue.push({\n          description: 'ready',\n          action: this._ready.shift()\n        });\n      }\n      item = this._queue.shift();\n      duration = 0;\n      this._interval = setInterval((function(_this) {\n        return function() {\n          duration += _this._timeout;\n          return console.log(\"? \" + item.description + \" has been running for \" + (duration / 1000) + \" seconds\");\n        };\n      })(this), this._timeout);\n      return item.action((function(_this) {\n        return function() {\n          if (item.callback != null) {\n            item.callback();\n          }\n          return _this._next();\n        };\n      })(this));\n    };\n\n    Sequencer.prototype.exec = function(description, action, cb) {\n      this._queue.push({\n        description: description,\n        action: action,\n        callback: cb\n      });\n      if (!this._inprogress) {\n        return async.delay(this._next);\n      }\n    };\n\n    Sequencer.prototype.ready = function(callback) {\n      if (!this._inprogress) {\n        return callback(function() {});\n      }\n      return this._ready.push(callback);\n    };\n\n    return Sequencer;\n\n  })();\n};\n\nmodule.exports = bind();\n","// Generated by CoffeeScript 1.8.0\nvar bind;\n\nbind = function() {\n  return function(string, payload) {\n    if (payload == null) {\n      return string;\n    }\n    return string.replace(/{([^{}]+)}/g, function(original, key) {\n      if (payload[key] == null) {\n        return original;\n      }\n      return payload[key];\n    });\n  };\n};\n\nmodule.exports = bind();\n","# Layered state\n# Layers are created independently, and can be committed or rolled back\n\nextend = require 'extend'\n\nmodule.exports = (initialState) ->\n  _state = {}\n  _layers = []\n  \n  if initialState?\n    extend yes, _state, initialState\n  \n  apply: (diff) ->\n    extend yes, _state, diff\n  \n  clear: ->\n    _state = {}\n  \n  get: ->\n    result = {}\n    extend result, _state\n    for layer in _layers\n      extend yes, result, layer\n    result\n  \n  layer: (layer) ->\n    _layers.push layer\n    rollback: ->\n      index _layers.indexOf layer\n      _layers.splice index, 1\n    commit: ->\n      index _layers.indexOf layer\n      _layers.splice index, 1\n      extend _state, layer","# Spin up to max number of parallel, cancellable tasks referenced by key. New tasks cancel and replace older tasks with the same key.\nmodule.exports = (max, idle) ->\n  _batch = {}\n  _running = []\n  _queued = []\n  start = (entry) ->\n    entry.startedAt = new Date().getTime()\n    cancel = entry.task (err, cb) ->\n      index = _running.indexOf entry\n      _running.splice index, 1\n      if !err?\n        fin = new Date().getTime()\n        for key in entry.keys\n          _batch[key] = fin - entry.startedAt\n        cb entry.keys\n      next()\n    # was synchronous, exit early\n    return if _running.indexOf(entry) is -1\n    # is async, create cancel method\n    if typeof cancel isnt 'function'\n      cancel = ->\n    entry.cancel = cancel\n    next()\n  next = ->\n    if idle? and _running.length is 0 and _queued.length is 0\n      idle _batch\n      _batch = {}\n      return\n    return if _queued.length is 0\n    return if _running.length >= max\n    start _queued.shift()\n  result =\n    cancel: (keys) ->\n      _queued = _queued.filter (entry) ->\n        entry.keys = entry.keys.filter (key) ->\n          keys.indexOf(key) is -1\n        return yes if entry.keys.length isnt 0\n        return no\n      _running = _running.filter (entry) ->\n        entry.keys = entry.keys.filter (key) ->\n          keys.indexOf(key) is -1\n        return yes if entry.keys.length isnt 0\n        entry.cancel()\n        return no\n    add: (keys, task) ->\n      entry =\n        keys: keys\n        task: task\n      result.cancel keys\n      _queued.push entry\n    exec: -> next()","// Generated by CoffeeScript 1.9.1\nvar async, extend, layers, parallelqueries, ql;\n\nextend = require('extend');\n\nparallelqueries = require('./parallelqueries');\n\nql = require('odoql/ql');\n\nlayers = require('./layers');\n\nasync = require('odo-async');\n\nmodule.exports = function(el, component, stores) {\n  var Relay, _layers, _memory, _query, _scene, _state, pq, update;\n  _scene = null;\n  _memory = {};\n  _query = {};\n  _state = layers();\n  _layers = [];\n  update = function() {\n    if (_scene == null) {\n      Relay.mount();\n      return;\n    }\n    return _scene.update(_state.get(), _memory);\n  };\n  pq = parallelqueries(5, function(timings) {\n    var _, _timings, key;\n    if ((typeof window !== \"undefined\" && window !== null ? window.hub : void 0) != null) {\n      _timings = {};\n      for (key in timings) {\n        _ = timings[key];\n        _timings[key] = timings[key];\n      }\n      window.hub.emit('queries completed', _timings);\n    }\n    return update();\n  });\n  Relay = {\n    mount: function() {\n      return _scene = component.mount(el, _state.get(), _memory);\n    },\n    update: function(params) {\n      var diff, newquery;\n      extend(_memory, params);\n      newquery = component.query(_memory);\n      diff = ql.diff(_query, newquery);\n      _query = newquery;\n      if (Object.keys(diff).length === 0) {\n        return update();\n      }\n      if ((typeof window !== \"undefined\" && window !== null ? window.hub : void 0) != null) {\n        window.hub.emit('queries starting', {\n          diff: diff,\n          description: ql.desc(diff)\n        });\n      }\n      return async.delay(function() {\n        var fn, i, len, q;\n        diff = ql.build(diff, stores);\n        fn = function(q) {\n          return pq.add(q.keys, function(cb) {\n            return q.query(function(err, results) {\n              if ((err != null) && ((typeof window !== \"undefined\" && window !== null ? window.hub : void 0) != null)) {\n                window.hub.emit('query error {err}', {\n                  err: err\n                });\n              }\n              return cb(err, function(keys) {\n                var j, key, len1, updates;\n                updates = {};\n                for (j = 0, len1 = keys.length; j < len1; j++) {\n                  key = keys[j];\n                  updates[key] = results[key];\n                }\n                return _state.apply(updates);\n              });\n            });\n          });\n        };\n        for (i = 0, len = diff.length; i < len; i++) {\n          q = diff[i];\n          fn(q);\n        }\n        return pq.exec();\n      });\n    },\n    layer: _state.layer,\n    params: function() {\n      return _memory;\n    },\n    state: function() {\n      return _state.get();\n    },\n    unmount: function() {\n      _scene.unmount();\n      return _scene = null;\n    }\n  };\n  return Relay;\n};\n","extend = require 'extend'\n\ncomponent = (spec) ->\n  spec = extend {}, spec\n  Component = (state, params) ->\n    spec.render.call spec, state, params\n  Component.use = (plugin) -> plugin Component, spec\n  for plugin in component.plugins\n    Component.use plugin\n  Component\ncomponent.plugins = []\ncomponent.use = (plugin) -> component.plugins.push plugin\n\nmodule.exports = component","create = require 'virtual-dom/create-element'\ndiff = require 'virtual-dom/diff'\npatch = require 'virtual-dom/patch'\nVText = require 'virtual-dom/vnode/vtext'\nraf = require 'raf'\n\ntime = (description, cb) ->\n  startedAt = new Date().getTime()\n  cb()\n  endedAt = new Date().getTime()\n  if window?.hub?\n    window.hub.emit '{description} in {duration}ms',\n      description: description\n      startedAt: startedAt\n      endedAt: endedAt\n      duration: endedAt - startedAt\n\nmodule.exports = (component, state, params, parent) ->\n  status = 'init'\n  tree = null\n  target = null\n  time 'scene created', ->\n    tree = component state, params\n    target = create tree\n  status = 'idle'\n  \n  apply = (state, params) ->\n    if status is 'rendering'\n      throw new Error 'Mutant rampage'\n    status = 'rendering'\n    time 'scene updated', ->\n      newTree = component state, params\n      patches = diff tree, newTree\n      target = patch target, patches\n      tree = newTree\n    status = 'idle'\n  \n  payload = null\n  target: target\n  status: status\n  mount: ->\n    parent.appendChild target\n  update: (state, params) ->\n    if status is 'rendering'\n      throw new Error 'Mutant rampage'\n    # pending apply, update state and params\n    if status is 'pending'\n      payload =\n        state: state\n        params: params\n      return\n    # wait for animation frame to apply\n    if status is 'idle'\n      status = 'pending'\n      payload =\n        state: state\n        params: params\n      raf ->\n        # have already applied the state\n        return if payload is null\n        apply payload.state, payload.params\n        payload = null\n  apply: apply\n  unmount: ->\n    # patch against nothing for unmount\n    patch target, diff tree, new VText ''","create = require 'virtual-dom/create-element'\ncompose = require './compose'\nextend = require 'extend'\ndom = require 'virtual-dom/h'\nrequire 'setimmediate'\n\nclass Hook\n  constructor: (@component, @spec, @state, @params) ->\n    if !@spec.enter?\n      @spec.enter = (item) -> @item.mount()\n    if !@spec.exit?\n      @spec.exit = (item) -> @item.unmount()\n    if !@spec.transition?\n      @spec.transition = (olditem, newitem) ->\n        olditem.unmount()\n        item.mount()\n  type: 'Widget'\n  create: ->\n    @item = compose @component, @state, @params, @el\n    @spec.enter.call @spec, @item, @state, @params\n  remove: ->\n    @spec.exit.call @spec, @item, @state, @params\n  init: ->\n    @el = create dom 'div'\n    setImmediate => @create()\n    @el\n  update: (prev, el) ->\n    { @el, @item } = prev\n    # same component, no transition\n    if prev.component is @component\n      return el if !@component?\n      return el @item.update @state, @params\n    # nothing previously\n    if !prev.component?\n      @create()\n      return el\n    # going to nothing\n    if !@component?\n      @remove()\n      return el\n    # transition\n    olditem = @item\n    @item = compose @component, @state, @params, el\n    @spec.transition.call @spec, olditem, @item, @state, @params\n    el\n  destroy: -> @remove()\n\nhook = (spec) ->\n  spec = extend {}, spec\n  Component = (component, state, params) ->\n    new Hook component, spec, state, params\n  Component.use = (plugin) -> plugin Component, spec\n  for plugin in hook.plugins\n    Component.use plugin\n  Component\nhook.plugins = []\nhook.use = (plugin) -> hook.plugins.push plugin\n\nmodule.exports = hook","compose = require './compose'\n\nmodule.exports = (component, spec) ->\n  component.mount = (el, state, params) ->\n    scene = compose component, state, params, el\n    scene.mount()\n    update: (state, params) ->\n      scene.update state, params\n    apply: (state, params) ->\n      scene.apply state, params\n    unmount: ->\n      scene.unmount()","var now = require('performance-now')\n  , global = typeof window === 'undefined' ? {} : window\n  , vendors = ['moz', 'webkit']\n  , suffix = 'AnimationFrame'\n  , raf = global['request' + suffix]\n  , caf = global['cancel' + suffix] || global['cancelRequest' + suffix]\n  , isNative = true\n\nfor(var i = 0; i < vendors.length && !raf; i++) {\n  raf = global[vendors[i] + 'Request' + suffix]\n  caf = global[vendors[i] + 'Cancel' + suffix]\n      || global[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif(!raf || !caf) {\n  isNative = false\n\n  var last = 0\n    , id = 0\n    , queue = []\n    , frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if(queue.length === 0) {\n      var _now = now()\n        , next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for(var i = 0; i < cp.length; i++) {\n          if(!cp[i].cancelled) {\n            try{\n              cp[i].callback(last)\n            } catch(e) {\n              setTimeout(function() { throw e }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for(var i = 0; i < queue.length; i++) {\n      if(queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nmodule.exports = function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  if(!isNative) {\n    return raf.call(global, fn)\n  }\n  return raf.call(global, function() {\n    try{\n      fn.apply(this, arguments)\n    } catch(e) {\n      setTimeout(function() { throw e }, 0)\n    }\n  })\n}\nmodule.exports.cancel = function() {\n  caf.apply(global, arguments)\n}\n","// Generated by CoffeeScript 1.6.3\n(function() {\n  var getNanoSeconds, hrtime, loadTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - loadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    loadTime = getNanoSeconds();\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n\n/*\n//@ sourceMappingURL=performance-now.map\n*/\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var setImmediate;\n\n    function addFromSetImmediateArguments(args) {\n        tasksByHandle[nextHandle] = partiallyApplied.apply(undefined, args);\n        return nextHandle++;\n    }\n\n    // This function accepts the same arguments as setImmediate, but\n    // returns a function that requires no arguments.\n    function partiallyApplied(handler) {\n        var args = [].slice.call(arguments, 1);\n        return function() {\n            if (typeof handler === \"function\") {\n                handler.apply(undefined, args);\n            } else {\n                (new Function(\"\" + handler))();\n            }\n        };\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(partiallyApplied(runIfPresent, handle), 0);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    task();\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function installNextTickImplementation() {\n        setImmediate = function() {\n            var handle = addFromSetImmediateArguments(arguments);\n            process.nextTick(partiallyApplied(runIfPresent, handle));\n            return handle;\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        setImmediate = function() {\n            var handle = addFromSetImmediateArguments(arguments);\n            global.postMessage(messagePrefix + handle, \"*\");\n            return handle;\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        setImmediate = function() {\n            var handle = addFromSetImmediateArguments(arguments);\n            channel.port2.postMessage(handle);\n            return handle;\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        setImmediate = function() {\n            var handle = addFromSetImmediateArguments(arguments);\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n            return handle;\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        setImmediate = function() {\n            var handle = addFromSetImmediateArguments(arguments);\n            setTimeout(partiallyApplied(runIfPresent, handle), 0);\n            return handle;\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(new Function(\"return this\")()));\n","function Thunk(fn, args, key, eqArgs) {\r\n    this.fn = fn;\r\n    this.args = args;\r\n    this.key = key;\r\n    this.eqArgs = eqArgs;\r\n}\r\n\r\nThunk.prototype.type = 'Thunk';\r\nThunk.prototype.render = render;\r\nmodule.exports = Thunk;\r\n\r\nfunction shouldUpdate(current, previous) {\r\n    if (!current || !previous || current.fn !== previous.fn) {\r\n        return true;\r\n    }\r\n\r\n    var cargs = current.args;\r\n    var pargs = previous.args;\r\n\r\n    return !current.eqArgs(cargs, pargs);\r\n}\r\n\r\nfunction render(previous) {\r\n    if (shouldUpdate(this, previous)) {\r\n        return this.fn.apply(null, this.args);\r\n    } else {\r\n        return previous.vnode;\r\n    }\r\n}\r\n","var Partial = require('./partial');\r\n\r\nmodule.exports = Partial();\r\n","var shallowEq = require('./shallow-eq');\nvar Thunk = require('./immutable-thunk');\n\nmodule.exports = createPartial;\n\nfunction createPartial(eq) {\n    return function partial(fn) {\n        var args = copyOver(arguments, 1);\n        var firstArg = args[0];\n        var key;\n\n        var eqArgs = eq || shallowEq;\n\n        if (typeof firstArg === 'object' && firstArg !== null) {\n            if ('key' in firstArg) {\n                key = firstArg.key;\n            } else if ('id' in firstArg) {\n                key = firstArg.id;\n            }\n        }\n\n        return new Thunk(fn, args, key, eqArgs);\n    };\n}\n\nfunction copyOver(list, offset) {\n    var newList = [];\n    for (var i = list.length - 1; i >= offset; i--) {\n        newList[i - offset] = list[i];\n    }\n    return newList;\n}\n","module.exports = shallowEq;\r\n\r\nfunction shallowEq(currentArgs, previousArgs) {\r\n    if (currentArgs.length === 0 && previousArgs.length === 0) {\r\n        return true;\r\n    }\r\n\r\n    if (currentArgs.length !== previousArgs.length) {\r\n        return false;\r\n    }\r\n\r\n    var len = currentArgs.length;\r\n\r\n    for (var i = 0; i < len; i++) {\r\n        if (currentArgs[i] !== previousArgs[i]) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    return true;\r\n}\r\n","var escape = require('escape-html');\nvar propConfig = require('./property-config');\nvar types = propConfig.attributeTypes;\nvar properties = propConfig.properties;\nvar attributeNames = propConfig.attributeNames;\n\nvar prefixAttribute = memoizeString(function (name) {\n  return escape(name) + '=\"';\n});\n\nmodule.exports = createAttribute;\n\n/**\n * Create attribute string.\n *\n * @param {String} name The name of the property or attribute\n * @param {*} value The value\n * @param {Boolean} [isAttribute] Denotes whether `name` is an attribute.\n * @return {?String} Attribute string || null if not a valid property or custom attribute.\n */\n\nfunction createAttribute(name, value, isAttribute) {\n  var attrType = properties[name];\n  if (attrType) {\n    if (shouldSkip(name, value)) return '';\n    name = (attributeNames[name] || name).toLowerCase();\n    // for BOOLEAN `value` only has to be truthy\n    // for OVERLOADED_BOOLEAN `value` has to be === true\n    if ((attrType === types.BOOLEAN) ||\n        (attrType === types.OVERLOADED_BOOLEAN && value === true)) {\n      return escape(name);\n    }\n    return prefixAttribute(name) + escape(value) + '\"';\n  } else if (isAttribute) {\n    if (value == null) return '';\n    return prefixAttribute(name) + escape(value) + '\"';\n  }\n  // return null if `name` is neither a valid property nor an attribute\n  return null;\n}\n\n/**\n * Should skip false boolean attributes.\n */\n\nfunction shouldSkip(name, value) {\n  var attrType = properties[name];\n  return value == null ||\n    (attrType === types.BOOLEAN && !value) ||\n    (attrType === types.OVERLOADED_BOOLEAN && value === false);\n}\n\n/**\n * Memoizes the return value of a function that accepts one string argument.\n *\n * @param {function} callback\n * @return {function}\n */\n\nfunction memoizeString(callback) {\n  var cache = {};\n  return function(string) {\n    if (cache.hasOwnProperty(string)) {\n      return cache[string];\n    } else {\n      return cache[string] = callback.call(this, string);\n    }\n  };\n}","var escape = require('escape-html');\nvar extend = require('xtend');\nvar isVNode = require('virtual-dom/vnode/is-vnode');\nvar isVText = require('virtual-dom/vnode/is-vtext');\nvar isThunk = require('virtual-dom/vnode/is-thunk');\nvar softHook = require('virtual-dom/virtual-hyperscript/hooks/soft-set-hook');\nvar attrHook = require('virtual-dom/virtual-hyperscript/hooks/attribute-hook');\nvar paramCase = require('param-case');\nvar createAttribute = require('./create-attribute');\nvar voidElements = require('./void-elements');\n\nmodule.exports = toHTML;\n\nfunction toHTML(node, parent) {\n  if (!node) return '';\n\n  if (isThunk(node)) {\n    node = node.render();\n  }\n\n  if (isVNode(node)) {\n    return openTag(node) + tagContent(node) + closeTag(node);\n  } else if (isVText(node)) {\n    if (parent && parent.tagName.toLowerCase() === 'script') return String(node.text);\n    return escape(String(node.text));\n  }\n\n  return '';\n}\n\nfunction openTag(node) {\n  var props = node.properties;\n  var ret = '<' + node.tagName.toLowerCase();\n\n  for (var name in props) {\n    var value = props[name];\n    if (value == null) continue;\n\n    if (name == 'attributes') {\n      value = extend({}, value);\n      for (var attrProp in value) {\n        ret += ' ' + createAttribute(attrProp, value[attrProp], true);\n      }\n      continue;\n    }\n\n    if (name == 'style') {\n      var css = '';\n      value = extend({}, value);\n      for (var styleProp in value) {\n        css += paramCase(styleProp) + ': ' + value[styleProp] + '; ';\n      }\n      value = css.trim();\n    }\n\n    if (value instanceof softHook || value instanceof attrHook) {\n      ret += ' ' + createAttribute(name, value.value, true);\n      continue;\n    }\n\n    var attr = createAttribute(name, value);\n    if (attr) ret += ' ' + attr;\n  }\n\n  return ret + '>';\n}\n\nfunction tagContent(node) {\n  var innerHTML = node.properties.innerHTML;\n  if (innerHTML != null) return innerHTML;\n  else {\n    var ret = '';\n    if (node.children && node.children.length) {\n      for (var i = 0, l = node.children.length; i<l; i++) {\n        var child = node.children[i];\n        ret += toHTML(child, node);\n      }\n    }\n    return ret;\n  }\n}\n\nfunction closeTag(node) {\n  var tag = node.tagName.toLowerCase();\n  return voidElements[tag] ? '' : '</' + tag + '>';\n}","/**\n * Escape special characters in the given string of html.\n *\n * @param  {String} html\n * @return {String}\n * @api private\n */\n\nmodule.exports = function(html) {\n  return String(html)\n    .replace(/&/g, '&amp;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#39;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;');\n}\n","/**\n * Special language-specific overrides.\n *\n * Source: ftp://ftp.unicode.org/Public/UCD/latest/ucd/SpecialCasing.txt\n *\n * @type {Object}\n */\nvar LANGUAGES = {\n  tr: {\n    regexp: /\\u0130|\\u0049|\\u0049\\u0307/g,\n    map: {\n      '\\u0130': '\\u0069',\n      '\\u0049': '\\u0131',\n      '\\u0049\\u0307': '\\u0069'\n    }\n  },\n  az: {\n    regexp: /[\\u0130]/g,\n    map: {\n      '\\u0130': '\\u0069',\n      '\\u0049': '\\u0131',\n      '\\u0049\\u0307': '\\u0069'\n    }\n  },\n  lt: {\n    regexp: /[\\u0049\\u004A\\u012E\\u00CC\\u00CD\\u0128]/g,\n    map: {\n      '\\u0049': '\\u0069\\u0307',\n      '\\u004A': '\\u006A\\u0307',\n      '\\u012E': '\\u012F\\u0307',\n      '\\u00CC': '\\u0069\\u0307\\u0300',\n      '\\u00CD': '\\u0069\\u0307\\u0301',\n      '\\u0128': '\\u0069\\u0307\\u0303'\n    }\n  }\n}\n\n/**\n * Lowercase a string.\n *\n * @param  {String} str\n * @return {String}\n */\nmodule.exports = function (str, locale) {\n  var lang = LANGUAGES[locale]\n\n  str = str == null ? '' : String(str)\n\n  if (lang) {\n    str = str.replace(lang.regexp, function (m) { return lang.map[m] })\n  }\n\n  return str.toLowerCase()\n}\n","var lowerCase = require('lower-case')\n\nvar NON_WORD_REGEXP = require('./vendor/non-word-regexp')\nvar CAMEL_CASE_REGEXP = require('./vendor/camel-case-regexp')\nvar TRAILING_DIGIT_REGEXP = require('./vendor/trailing-digit-regexp')\n\n/**\n * Sentence case a string.\n *\n * @param  {String} str\n * @param  {String} locale\n * @param  {String} replacement\n * @return {String}\n */\nmodule.exports = function (str, locale, replacement) {\n  if (str == null) {\n    return ''\n  }\n\n  replacement = replacement || ' '\n\n  function replace (match, index, string) {\n    if (index === 0 || index === (string.length - match.length)) {\n      return ''\n    }\n\n    return replacement\n  }\n\n  str = String(str)\n    // Support camel case (\"camelCase\" -> \"camel Case\").\n    .replace(CAMEL_CASE_REGEXP, '$1 $2')\n    // Support digit groups (\"test2012\" -> \"test 2012\").\n    .replace(TRAILING_DIGIT_REGEXP, '$1 $2')\n    // Remove all non-word characters and replace with a single space.\n    .replace(NON_WORD_REGEXP, replace)\n\n  // Lower case the entire string.\n  return lowerCase(str, locale)\n}\n","module.exports = /([\\u0061-\\u007A\\u00B5\\u00DF-\\u00F6\\u00F8-\\u00FF\\u0101\\u0103\\u0105\\u0107\\u0109\\u010B\\u010D\\u010F\\u0111\\u0113\\u0115\\u0117\\u0119\\u011B\\u011D\\u011F\\u0121\\u0123\\u0125\\u0127\\u0129\\u012B\\u012D\\u012F\\u0131\\u0133\\u0135\\u0137\\u0138\\u013A\\u013C\\u013E\\u0140\\u0142\\u0144\\u0146\\u0148\\u0149\\u014B\\u014D\\u014F\\u0151\\u0153\\u0155\\u0157\\u0159\\u015B\\u015D\\u015F\\u0161\\u0163\\u0165\\u0167\\u0169\\u016B\\u016D\\u016F\\u0171\\u0173\\u0175\\u0177\\u017A\\u017C\\u017E-\\u0180\\u0183\\u0185\\u0188\\u018C\\u018D\\u0192\\u0195\\u0199-\\u019B\\u019E\\u01A1\\u01A3\\u01A5\\u01A8\\u01AA\\u01AB\\u01AD\\u01B0\\u01B4\\u01B6\\u01B9\\u01BA\\u01BD-\\u01BF\\u01C6\\u01C9\\u01CC\\u01CE\\u01D0\\u01D2\\u01D4\\u01D6\\u01D8\\u01DA\\u01DC\\u01DD\\u01DF\\u01E1\\u01E3\\u01E5\\u01E7\\u01E9\\u01EB\\u01ED\\u01EF\\u01F0\\u01F3\\u01F5\\u01F9\\u01FB\\u01FD\\u01FF\\u0201\\u0203\\u0205\\u0207\\u0209\\u020B\\u020D\\u020F\\u0211\\u0213\\u0215\\u0217\\u0219\\u021B\\u021D\\u021F\\u0221\\u0223\\u0225\\u0227\\u0229\\u022B\\u022D\\u022F\\u0231\\u0233-\\u0239\\u023C\\u023F\\u0240\\u0242\\u0247\\u0249\\u024B\\u024D\\u024F-\\u0293\\u0295-\\u02AF\\u0371\\u0373\\u0377\\u037B-\\u037D\\u0390\\u03AC-\\u03CE\\u03D0\\u03D1\\u03D5-\\u03D7\\u03D9\\u03DB\\u03DD\\u03DF\\u03E1\\u03E3\\u03E5\\u03E7\\u03E9\\u03EB\\u03ED\\u03EF-\\u03F3\\u03F5\\u03F8\\u03FB\\u03FC\\u0430-\\u045F\\u0461\\u0463\\u0465\\u0467\\u0469\\u046B\\u046D\\u046F\\u0471\\u0473\\u0475\\u0477\\u0479\\u047B\\u047D\\u047F\\u0481\\u048B\\u048D\\u048F\\u0491\\u0493\\u0495\\u0497\\u0499\\u049B\\u049D\\u049F\\u04A1\\u04A3\\u04A5\\u04A7\\u04A9\\u04AB\\u04AD\\u04AF\\u04B1\\u04B3\\u04B5\\u04B7\\u04B9\\u04BB\\u04BD\\u04BF\\u04C2\\u04C4\\u04C6\\u04C8\\u04CA\\u04CC\\u04CE\\u04CF\\u04D1\\u04D3\\u04D5\\u04D7\\u04D9\\u04DB\\u04DD\\u04DF\\u04E1\\u04E3\\u04E5\\u04E7\\u04E9\\u04EB\\u04ED\\u04EF\\u04F1\\u04F3\\u04F5\\u04F7\\u04F9\\u04FB\\u04FD\\u04FF\\u0501\\u0503\\u0505\\u0507\\u0509\\u050B\\u050D\\u050F\\u0511\\u0513\\u0515\\u0517\\u0519\\u051B\\u051D\\u051F\\u0521\\u0523\\u0525\\u0527\\u0561-\\u0587\\u1D00-\\u1D2B\\u1D6B-\\u1D77\\u1D79-\\u1D9A\\u1E01\\u1E03\\u1E05\\u1E07\\u1E09\\u1E0B\\u1E0D\\u1E0F\\u1E11\\u1E13\\u1E15\\u1E17\\u1E19\\u1E1B\\u1E1D\\u1E1F\\u1E21\\u1E23\\u1E25\\u1E27\\u1E29\\u1E2B\\u1E2D\\u1E2F\\u1E31\\u1E33\\u1E35\\u1E37\\u1E39\\u1E3B\\u1E3D\\u1E3F\\u1E41\\u1E43\\u1E45\\u1E47\\u1E49\\u1E4B\\u1E4D\\u1E4F\\u1E51\\u1E53\\u1E55\\u1E57\\u1E59\\u1E5B\\u1E5D\\u1E5F\\u1E61\\u1E63\\u1E65\\u1E67\\u1E69\\u1E6B\\u1E6D\\u1E6F\\u1E71\\u1E73\\u1E75\\u1E77\\u1E79\\u1E7B\\u1E7D\\u1E7F\\u1E81\\u1E83\\u1E85\\u1E87\\u1E89\\u1E8B\\u1E8D\\u1E8F\\u1E91\\u1E93\\u1E95-\\u1E9D\\u1E9F\\u1EA1\\u1EA3\\u1EA5\\u1EA7\\u1EA9\\u1EAB\\u1EAD\\u1EAF\\u1EB1\\u1EB3\\u1EB5\\u1EB7\\u1EB9\\u1EBB\\u1EBD\\u1EBF\\u1EC1\\u1EC3\\u1EC5\\u1EC7\\u1EC9\\u1ECB\\u1ECD\\u1ECF\\u1ED1\\u1ED3\\u1ED5\\u1ED7\\u1ED9\\u1EDB\\u1EDD\\u1EDF\\u1EE1\\u1EE3\\u1EE5\\u1EE7\\u1EE9\\u1EEB\\u1EED\\u1EEF\\u1EF1\\u1EF3\\u1EF5\\u1EF7\\u1EF9\\u1EFB\\u1EFD\\u1EFF-\\u1F07\\u1F10-\\u1F15\\u1F20-\\u1F27\\u1F30-\\u1F37\\u1F40-\\u1F45\\u1F50-\\u1F57\\u1F60-\\u1F67\\u1F70-\\u1F7D\\u1F80-\\u1F87\\u1F90-\\u1F97\\u1FA0-\\u1FA7\\u1FB0-\\u1FB4\\u1FB6\\u1FB7\\u1FBE\\u1FC2-\\u1FC4\\u1FC6\\u1FC7\\u1FD0-\\u1FD3\\u1FD6\\u1FD7\\u1FE0-\\u1FE7\\u1FF2-\\u1FF4\\u1FF6\\u1FF7\\u210A\\u210E\\u210F\\u2113\\u212F\\u2134\\u2139\\u213C\\u213D\\u2146-\\u2149\\u214E\\u2184\\u2C30-\\u2C5E\\u2C61\\u2C65\\u2C66\\u2C68\\u2C6A\\u2C6C\\u2C71\\u2C73\\u2C74\\u2C76-\\u2C7B\\u2C81\\u2C83\\u2C85\\u2C87\\u2C89\\u2C8B\\u2C8D\\u2C8F\\u2C91\\u2C93\\u2C95\\u2C97\\u2C99\\u2C9B\\u2C9D\\u2C9F\\u2CA1\\u2CA3\\u2CA5\\u2CA7\\u2CA9\\u2CAB\\u2CAD\\u2CAF\\u2CB1\\u2CB3\\u2CB5\\u2CB7\\u2CB9\\u2CBB\\u2CBD\\u2CBF\\u2CC1\\u2CC3\\u2CC5\\u2CC7\\u2CC9\\u2CCB\\u2CCD\\u2CCF\\u2CD1\\u2CD3\\u2CD5\\u2CD7\\u2CD9\\u2CDB\\u2CDD\\u2CDF\\u2CE1\\u2CE3\\u2CE4\\u2CEC\\u2CEE\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\uA641\\uA643\\uA645\\uA647\\uA649\\uA64B\\uA64D\\uA64F\\uA651\\uA653\\uA655\\uA657\\uA659\\uA65B\\uA65D\\uA65F\\uA661\\uA663\\uA665\\uA667\\uA669\\uA66B\\uA66D\\uA681\\uA683\\uA685\\uA687\\uA689\\uA68B\\uA68D\\uA68F\\uA691\\uA693\\uA695\\uA697\\uA723\\uA725\\uA727\\uA729\\uA72B\\uA72D\\uA72F-\\uA731\\uA733\\uA735\\uA737\\uA739\\uA73B\\uA73D\\uA73F\\uA741\\uA743\\uA745\\uA747\\uA749\\uA74B\\uA74D\\uA74F\\uA751\\uA753\\uA755\\uA757\\uA759\\uA75B\\uA75D\\uA75F\\uA761\\uA763\\uA765\\uA767\\uA769\\uA76B\\uA76D\\uA76F\\uA771-\\uA778\\uA77A\\uA77C\\uA77F\\uA781\\uA783\\uA785\\uA787\\uA78C\\uA78E\\uA791\\uA793\\uA7A1\\uA7A3\\uA7A5\\uA7A7\\uA7A9\\uA7FA\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFF41-\\uFF5A])([\\u0041-\\u005A\\u00C0-\\u00D6\\u00D8-\\u00DE\\u0100\\u0102\\u0104\\u0106\\u0108\\u010A\\u010C\\u010E\\u0110\\u0112\\u0114\\u0116\\u0118\\u011A\\u011C\\u011E\\u0120\\u0122\\u0124\\u0126\\u0128\\u012A\\u012C\\u012E\\u0130\\u0132\\u0134\\u0136\\u0139\\u013B\\u013D\\u013F\\u0141\\u0143\\u0145\\u0147\\u014A\\u014C\\u014E\\u0150\\u0152\\u0154\\u0156\\u0158\\u015A\\u015C\\u015E\\u0160\\u0162\\u0164\\u0166\\u0168\\u016A\\u016C\\u016E\\u0170\\u0172\\u0174\\u0176\\u0178\\u0179\\u017B\\u017D\\u0181\\u0182\\u0184\\u0186\\u0187\\u0189-\\u018B\\u018E-\\u0191\\u0193\\u0194\\u0196-\\u0198\\u019C\\u019D\\u019F\\u01A0\\u01A2\\u01A4\\u01A6\\u01A7\\u01A9\\u01AC\\u01AE\\u01AF\\u01B1-\\u01B3\\u01B5\\u01B7\\u01B8\\u01BC\\u01C4\\u01C7\\u01CA\\u01CD\\u01CF\\u01D1\\u01D3\\u01D5\\u01D7\\u01D9\\u01DB\\u01DE\\u01E0\\u01E2\\u01E4\\u01E6\\u01E8\\u01EA\\u01EC\\u01EE\\u01F1\\u01F4\\u01F6-\\u01F8\\u01FA\\u01FC\\u01FE\\u0200\\u0202\\u0204\\u0206\\u0208\\u020A\\u020C\\u020E\\u0210\\u0212\\u0214\\u0216\\u0218\\u021A\\u021C\\u021E\\u0220\\u0222\\u0224\\u0226\\u0228\\u022A\\u022C\\u022E\\u0230\\u0232\\u023A\\u023B\\u023D\\u023E\\u0241\\u0243-\\u0246\\u0248\\u024A\\u024C\\u024E\\u0370\\u0372\\u0376\\u0386\\u0388-\\u038A\\u038C\\u038E\\u038F\\u0391-\\u03A1\\u03A3-\\u03AB\\u03CF\\u03D2-\\u03D4\\u03D8\\u03DA\\u03DC\\u03DE\\u03E0\\u03E2\\u03E4\\u03E6\\u03E8\\u03EA\\u03EC\\u03EE\\u03F4\\u03F7\\u03F9\\u03FA\\u03FD-\\u042F\\u0460\\u0462\\u0464\\u0466\\u0468\\u046A\\u046C\\u046E\\u0470\\u0472\\u0474\\u0476\\u0478\\u047A\\u047C\\u047E\\u0480\\u048A\\u048C\\u048E\\u0490\\u0492\\u0494\\u0496\\u0498\\u049A\\u049C\\u049E\\u04A0\\u04A2\\u04A4\\u04A6\\u04A8\\u04AA\\u04AC\\u04AE\\u04B0\\u04B2\\u04B4\\u04B6\\u04B8\\u04BA\\u04BC\\u04BE\\u04C0\\u04C1\\u04C3\\u04C5\\u04C7\\u04C9\\u04CB\\u04CD\\u04D0\\u04D2\\u04D4\\u04D6\\u04D8\\u04DA\\u04DC\\u04DE\\u04E0\\u04E2\\u04E4\\u04E6\\u04E8\\u04EA\\u04EC\\u04EE\\u04F0\\u04F2\\u04F4\\u04F6\\u04F8\\u04FA\\u04FC\\u04FE\\u0500\\u0502\\u0504\\u0506\\u0508\\u050A\\u050C\\u050E\\u0510\\u0512\\u0514\\u0516\\u0518\\u051A\\u051C\\u051E\\u0520\\u0522\\u0524\\u0526\\u0531-\\u0556\\u10A0-\\u10C5\\u10C7\\u10CD\\u1E00\\u1E02\\u1E04\\u1E06\\u1E08\\u1E0A\\u1E0C\\u1E0E\\u1E10\\u1E12\\u1E14\\u1E16\\u1E18\\u1E1A\\u1E1C\\u1E1E\\u1E20\\u1E22\\u1E24\\u1E26\\u1E28\\u1E2A\\u1E2C\\u1E2E\\u1E30\\u1E32\\u1E34\\u1E36\\u1E38\\u1E3A\\u1E3C\\u1E3E\\u1E40\\u1E42\\u1E44\\u1E46\\u1E48\\u1E4A\\u1E4C\\u1E4E\\u1E50\\u1E52\\u1E54\\u1E56\\u1E58\\u1E5A\\u1E5C\\u1E5E\\u1E60\\u1E62\\u1E64\\u1E66\\u1E68\\u1E6A\\u1E6C\\u1E6E\\u1E70\\u1E72\\u1E74\\u1E76\\u1E78\\u1E7A\\u1E7C\\u1E7E\\u1E80\\u1E82\\u1E84\\u1E86\\u1E88\\u1E8A\\u1E8C\\u1E8E\\u1E90\\u1E92\\u1E94\\u1E9E\\u1EA0\\u1EA2\\u1EA4\\u1EA6\\u1EA8\\u1EAA\\u1EAC\\u1EAE\\u1EB0\\u1EB2\\u1EB4\\u1EB6\\u1EB8\\u1EBA\\u1EBC\\u1EBE\\u1EC0\\u1EC2\\u1EC4\\u1EC6\\u1EC8\\u1ECA\\u1ECC\\u1ECE\\u1ED0\\u1ED2\\u1ED4\\u1ED6\\u1ED8\\u1EDA\\u1EDC\\u1EDE\\u1EE0\\u1EE2\\u1EE4\\u1EE6\\u1EE8\\u1EEA\\u1EEC\\u1EEE\\u1EF0\\u1EF2\\u1EF4\\u1EF6\\u1EF8\\u1EFA\\u1EFC\\u1EFE\\u1F08-\\u1F0F\\u1F18-\\u1F1D\\u1F28-\\u1F2F\\u1F38-\\u1F3F\\u1F48-\\u1F4D\\u1F59\\u1F5B\\u1F5D\\u1F5F\\u1F68-\\u1F6F\\u1FB8-\\u1FBB\\u1FC8-\\u1FCB\\u1FD8-\\u1FDB\\u1FE8-\\u1FEC\\u1FF8-\\u1FFB\\u2102\\u2107\\u210B-\\u210D\\u2110-\\u2112\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u2130-\\u2133\\u213E\\u213F\\u2145\\u2183\\u2C00-\\u2C2E\\u2C60\\u2C62-\\u2C64\\u2C67\\u2C69\\u2C6B\\u2C6D-\\u2C70\\u2C72\\u2C75\\u2C7E-\\u2C80\\u2C82\\u2C84\\u2C86\\u2C88\\u2C8A\\u2C8C\\u2C8E\\u2C90\\u2C92\\u2C94\\u2C96\\u2C98\\u2C9A\\u2C9C\\u2C9E\\u2CA0\\u2CA2\\u2CA4\\u2CA6\\u2CA8\\u2CAA\\u2CAC\\u2CAE\\u2CB0\\u2CB2\\u2CB4\\u2CB6\\u2CB8\\u2CBA\\u2CBC\\u2CBE\\u2CC0\\u2CC2\\u2CC4\\u2CC6\\u2CC8\\u2CCA\\u2CCC\\u2CCE\\u2CD0\\u2CD2\\u2CD4\\u2CD6\\u2CD8\\u2CDA\\u2CDC\\u2CDE\\u2CE0\\u2CE2\\u2CEB\\u2CED\\u2CF2\\uA640\\uA642\\uA644\\uA646\\uA648\\uA64A\\uA64C\\uA64E\\uA650\\uA652\\uA654\\uA656\\uA658\\uA65A\\uA65C\\uA65E\\uA660\\uA662\\uA664\\uA666\\uA668\\uA66A\\uA66C\\uA680\\uA682\\uA684\\uA686\\uA688\\uA68A\\uA68C\\uA68E\\uA690\\uA692\\uA694\\uA696\\uA722\\uA724\\uA726\\uA728\\uA72A\\uA72C\\uA72E\\uA732\\uA734\\uA736\\uA738\\uA73A\\uA73C\\uA73E\\uA740\\uA742\\uA744\\uA746\\uA748\\uA74A\\uA74C\\uA74E\\uA750\\uA752\\uA754\\uA756\\uA758\\uA75A\\uA75C\\uA75E\\uA760\\uA762\\uA764\\uA766\\uA768\\uA76A\\uA76C\\uA76E\\uA779\\uA77B\\uA77D\\uA77E\\uA780\\uA782\\uA784\\uA786\\uA78B\\uA78D\\uA790\\uA792\\uA7A0\\uA7A2\\uA7A4\\uA7A6\\uA7A8\\uA7AA\\uFF21-\\uFF3A\\u0030-\\u0039\\u00B2\\u00B3\\u00B9\\u00BC-\\u00BE\\u0660-\\u0669\\u06F0-\\u06F9\\u07C0-\\u07C9\\u0966-\\u096F\\u09E6-\\u09EF\\u09F4-\\u09F9\\u0A66-\\u0A6F\\u0AE6-\\u0AEF\\u0B66-\\u0B6F\\u0B72-\\u0B77\\u0BE6-\\u0BF2\\u0C66-\\u0C6F\\u0C78-\\u0C7E\\u0CE6-\\u0CEF\\u0D66-\\u0D75\\u0E50-\\u0E59\\u0ED0-\\u0ED9\\u0F20-\\u0F33\\u1040-\\u1049\\u1090-\\u1099\\u1369-\\u137C\\u16EE-\\u16F0\\u17E0-\\u17E9\\u17F0-\\u17F9\\u1810-\\u1819\\u1946-\\u194F\\u19D0-\\u19DA\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1B50-\\u1B59\\u1BB0-\\u1BB9\\u1C40-\\u1C49\\u1C50-\\u1C59\\u2070\\u2074-\\u2079\\u2080-\\u2089\\u2150-\\u2182\\u2185-\\u2189\\u2460-\\u249B\\u24EA-\\u24FF\\u2776-\\u2793\\u2CFD\\u3007\\u3021-\\u3029\\u3038-\\u303A\\u3192-\\u3195\\u3220-\\u3229\\u3248-\\u324F\\u3251-\\u325F\\u3280-\\u3289\\u32B1-\\u32BF\\uA620-\\uA629\\uA6E6-\\uA6EF\\uA830-\\uA835\\uA8D0-\\uA8D9\\uA900-\\uA909\\uA9D0-\\uA9D9\\uAA50-\\uAA59\\uABF0-\\uABF9\\uFF10-\\uFF19])/g\n","module.exports = /[^\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA697\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA793\\uA7A0-\\uA7AA\\uA7F8-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC\\u0030-\\u0039\\u00B2\\u00B3\\u00B9\\u00BC-\\u00BE\\u0660-\\u0669\\u06F0-\\u06F9\\u07C0-\\u07C9\\u0966-\\u096F\\u09E6-\\u09EF\\u09F4-\\u09F9\\u0A66-\\u0A6F\\u0AE6-\\u0AEF\\u0B66-\\u0B6F\\u0B72-\\u0B77\\u0BE6-\\u0BF2\\u0C66-\\u0C6F\\u0C78-\\u0C7E\\u0CE6-\\u0CEF\\u0D66-\\u0D75\\u0E50-\\u0E59\\u0ED0-\\u0ED9\\u0F20-\\u0F33\\u1040-\\u1049\\u1090-\\u1099\\u1369-\\u137C\\u16EE-\\u16F0\\u17E0-\\u17E9\\u17F0-\\u17F9\\u1810-\\u1819\\u1946-\\u194F\\u19D0-\\u19DA\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1B50-\\u1B59\\u1BB0-\\u1BB9\\u1C40-\\u1C49\\u1C50-\\u1C59\\u2070\\u2074-\\u2079\\u2080-\\u2089\\u2150-\\u2182\\u2185-\\u2189\\u2460-\\u249B\\u24EA-\\u24FF\\u2776-\\u2793\\u2CFD\\u3007\\u3021-\\u3029\\u3038-\\u303A\\u3192-\\u3195\\u3220-\\u3229\\u3248-\\u324F\\u3251-\\u325F\\u3280-\\u3289\\u32B1-\\u32BF\\uA620-\\uA629\\uA6E6-\\uA6EF\\uA830-\\uA835\\uA8D0-\\uA8D9\\uA900-\\uA909\\uA9D0-\\uA9D9\\uAA50-\\uAA59\\uABF0-\\uABF9\\uFF10-\\uFF19]+/g\n","module.exports = /([\\u0030-\\u0039\\u00B2\\u00B3\\u00B9\\u00BC-\\u00BE\\u0660-\\u0669\\u06F0-\\u06F9\\u07C0-\\u07C9\\u0966-\\u096F\\u09E6-\\u09EF\\u09F4-\\u09F9\\u0A66-\\u0A6F\\u0AE6-\\u0AEF\\u0B66-\\u0B6F\\u0B72-\\u0B77\\u0BE6-\\u0BF2\\u0C66-\\u0C6F\\u0C78-\\u0C7E\\u0CE6-\\u0CEF\\u0D66-\\u0D75\\u0E50-\\u0E59\\u0ED0-\\u0ED9\\u0F20-\\u0F33\\u1040-\\u1049\\u1090-\\u1099\\u1369-\\u137C\\u16EE-\\u16F0\\u17E0-\\u17E9\\u17F0-\\u17F9\\u1810-\\u1819\\u1946-\\u194F\\u19D0-\\u19DA\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1B50-\\u1B59\\u1BB0-\\u1BB9\\u1C40-\\u1C49\\u1C50-\\u1C59\\u2070\\u2074-\\u2079\\u2080-\\u2089\\u2150-\\u2182\\u2185-\\u2189\\u2460-\\u249B\\u24EA-\\u24FF\\u2776-\\u2793\\u2CFD\\u3007\\u3021-\\u3029\\u3038-\\u303A\\u3192-\\u3195\\u3220-\\u3229\\u3248-\\u324F\\u3251-\\u325F\\u3280-\\u3289\\u32B1-\\u32BF\\uA620-\\uA629\\uA6E6-\\uA6EF\\uA830-\\uA835\\uA8D0-\\uA8D9\\uA900-\\uA909\\uA9D0-\\uA9D9\\uAA50-\\uAA59\\uABF0-\\uABF9\\uFF10-\\uFF19])([^\\u0030-\\u0039\\u00B2\\u00B3\\u00B9\\u00BC-\\u00BE\\u0660-\\u0669\\u06F0-\\u06F9\\u07C0-\\u07C9\\u0966-\\u096F\\u09E6-\\u09EF\\u09F4-\\u09F9\\u0A66-\\u0A6F\\u0AE6-\\u0AEF\\u0B66-\\u0B6F\\u0B72-\\u0B77\\u0BE6-\\u0BF2\\u0C66-\\u0C6F\\u0C78-\\u0C7E\\u0CE6-\\u0CEF\\u0D66-\\u0D75\\u0E50-\\u0E59\\u0ED0-\\u0ED9\\u0F20-\\u0F33\\u1040-\\u1049\\u1090-\\u1099\\u1369-\\u137C\\u16EE-\\u16F0\\u17E0-\\u17E9\\u17F0-\\u17F9\\u1810-\\u1819\\u1946-\\u194F\\u19D0-\\u19DA\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1B50-\\u1B59\\u1BB0-\\u1BB9\\u1C40-\\u1C49\\u1C50-\\u1C59\\u2070\\u2074-\\u2079\\u2080-\\u2089\\u2150-\\u2182\\u2185-\\u2189\\u2460-\\u249B\\u24EA-\\u24FF\\u2776-\\u2793\\u2CFD\\u3007\\u3021-\\u3029\\u3038-\\u303A\\u3192-\\u3195\\u3220-\\u3229\\u3248-\\u324F\\u3251-\\u325F\\u3280-\\u3289\\u32B1-\\u32BF\\uA620-\\uA629\\uA6E6-\\uA6EF\\uA830-\\uA835\\uA8D0-\\uA8D9\\uA900-\\uA909\\uA9D0-\\uA9D9\\uAA50-\\uAA59\\uABF0-\\uABF9\\uFF10-\\uFF19])/g\n","var sentenceCase = require('sentence-case');\n\n/**\n * Param case a string.\n *\n * @param  {String} string\n * @param  {String} [locale]\n * @return {String}\n */\nmodule.exports = function (string, locale) {\n  return sentenceCase(string, locale, '-');\n};\n","'use strict';\n\nmodule.exports = AttributeHook;\n\nfunction AttributeHook(namespace, value) {\n    if (!(this instanceof AttributeHook)) {\n        return new AttributeHook(namespace, value);\n    }\n\n    this.namespace = namespace;\n    this.value = value;\n}\n\nAttributeHook.prototype.hook = function (node, prop, prev) {\n    if (prev && prev.type === 'AttributeHook' &&\n        prev.value === this.value &&\n        prev.namespace === this.namespace) {\n        return;\n    }\n\n    node.setAttributeNS(this.namespace, prop, this.value);\n};\n\nAttributeHook.prototype.unhook = function (node, prop, next) {\n    if (next && next.type === 'AttributeHook' &&\n        next.namespace === this.namespace) {\n        return;\n    }\n\n    var colonPosition = prop.indexOf(':');\n    var localName = colonPosition > -1 ? prop.substr(colonPosition + 1) : prop;\n    node.removeAttributeNS(this.namespace, localName);\n};\n\nAttributeHook.prototype.type = 'AttributeHook';\n","'use strict';\n\nmodule.exports = SoftSetHook;\n\nfunction SoftSetHook(value) {\n    if (!(this instanceof SoftSetHook)) {\n        return new SoftSetHook(value);\n    }\n\n    this.value = value;\n}\n\nSoftSetHook.prototype.hook = function (node, propertyName) {\n    if (node[propertyName] !== this.value) {\n        node[propertyName] = this.value;\n    }\n};\n","module.exports = isThunk\r\n\r\nfunction isThunk(t) {\r\n    return t && t.type === \"Thunk\"\r\n}\r\n","var version = require(\"./version\")\n\nmodule.exports = isVirtualNode\n\nfunction isVirtualNode(x) {\n    return x && x.type === \"VirtualNode\" && x.version === version\n}\n","var version = require(\"./version\")\n\nmodule.exports = isVirtualText\n\nfunction isVirtualText(x) {\n    return x && x.type === \"VirtualText\" && x.version === version\n}\n","module.exports = \"2\"\n","module.exports = extend\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (source.hasOwnProperty(key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","/**\n * Attribute types.\n */\n\nvar types = {\n  BOOLEAN: 1,\n  OVERLOADED_BOOLEAN: 2\n};\n\n/**\n * Properties.\n *\n * Taken from https://github.com/facebook/react/blob/847357e42e5267b04dd6e297219eaa125ab2f9f4/src/browser/ui/dom/HTMLDOMPropertyConfig.js\n *\n */\n\nvar properties = {\n  /**\n   * Standard Properties\n   */\n  accept: true,\n  acceptCharset: true,\n  accessKey: true,\n  action: true,\n  allowFullScreen: types.BOOLEAN,\n  allowTransparency: true,\n  alt: true,\n  async: types.BOOLEAN,\n  autocomplete: true,\n  autofocus: types.BOOLEAN,\n  autoplay: types.BOOLEAN,\n  cellPadding: true,\n  cellSpacing: true,\n  charset: true,\n  checked: types.BOOLEAN,\n  classID: true,\n  className: true,\n  cols: true,\n  colSpan: true,\n  content: true,\n  contentEditable: true,\n  contextMenu: true,\n  controls: types.BOOLEAN,\n  coords: true,\n  crossOrigin: true,\n  data: true, // For `<object />` acts as `src`.\n  dateTime: true,\n  defer: types.BOOLEAN,\n  dir: true,\n  disabled: types.BOOLEAN,\n  download: types.OVERLOADED_BOOLEAN,\n  draggable: true,\n  enctype: true,\n  form: true,\n  formAction: true,\n  formEncType: true,\n  formMethod: true,\n  formNoValidate: types.BOOLEAN,\n  formTarget: true,\n  frameBorder: true,\n  headers: true,\n  height: true,\n  hidden: types.BOOLEAN,\n  href: true,\n  hreflang: true,\n  htmlFor: true,\n  httpEquiv: true,\n  icon: true,\n  id: true,\n  label: true,\n  lang: true,\n  list: true,\n  loop: types.BOOLEAN,\n  manifest: true,\n  marginHeight: true,\n  marginWidth: true,\n  max: true,\n  maxLength: true,\n  media: true,\n  mediaGroup: true,\n  method: true,\n  min: true,\n  multiple: types.BOOLEAN,\n  muted: types.BOOLEAN,\n  name: true,\n  noValidate: types.BOOLEAN,\n  open: true,\n  pattern: true,\n  placeholder: true,\n  poster: true,\n  preload: true,\n  radiogroup: true,\n  readOnly: types.BOOLEAN,\n  rel: true,\n  required: types.BOOLEAN,\n  role: true,\n  rows: true,\n  rowSpan: true,\n  sandbox: true,\n  scope: true,\n  scrolling: true,\n  seamless: types.BOOLEAN,\n  selected: types.BOOLEAN,\n  shape: true,\n  size: true,\n  sizes: true,\n  span: true,\n  spellcheck: true,\n  src: true,\n  srcdoc: true,\n  srcset: true,\n  start: true,\n  step: true,\n  style: true,\n  tabIndex: true,\n  target: true,\n  title: true,\n  type: true,\n  useMap: true,\n  value: true,\n  width: true,\n  wmode: true,\n\n  /**\n   * Non-standard Properties\n   */\n  // autoCapitalize and autoCorrect are supported in Mobile Safari for\n  // keyboard hints.\n  autocapitalize: true,\n  autocorrect: true,\n  // itemProp, itemScope, itemType are for Microdata support. See\n  // http://schema.org/docs/gs.html\n  itemProp: true,\n  itemScope: types.BOOLEAN,\n  itemType: true,\n  // property is supported for OpenGraph in meta tags.\n  property: true\n};\n\n/**\n * Properties to attributes mapping.\n *\n * The ones not here are simply converted to lower case.\n */\n\nvar attributeNames = {\n  acceptCharset: 'accept-charset',\n  className: 'class',\n  htmlFor: 'for',\n  httpEquiv: 'http-equiv'\n};\n\n/**\n * Exports.\n */\n\nmodule.exports = {\n  attributeTypes: types,\n  properties: properties,\n  attributeNames: attributeNames\n};","\n/**\n * Void elements.\n *\n * https://github.com/facebook/react/blob/v0.12.0/src/browser/ui/ReactDOMComponent.js#L99\n */\n\nmodule.exports = {\n  'area': true,\n  'base': true,\n  'br': true,\n  'col': true,\n  'embed': true,\n  'hr': true,\n  'img': true,\n  'input': true,\n  'keygen': true,\n  'link': true,\n  'meta': true,\n  'param': true,\n  'source': true,\n  'track': true,\n  'wbr': true\n};","var createElement = require(\"./vdom/create-element.js\")\n\nmodule.exports = createElement\n","var diff = require(\"./vtree/diff.js\")\n\nmodule.exports = diff\n","var h = require(\"./virtual-hyperscript/index.js\")\n\nmodule.exports = h\n","/*!\n * Cross-Browser Split 1.1.1\n * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>\n * Available under the MIT License\n * ECMAScript compliant, uniform cross-browser split method\n */\n\n/**\n * Splits a string into an array of strings using a regex or string separator. Matches of the\n * separator are not included in the result array. However, if `separator` is a regex that contains\n * capturing groups, backreferences are spliced into the result each time `separator` is matched.\n * Fixes browser bugs compared to the native `String.prototype.split` and can be used reliably\n * cross-browser.\n * @param {String} str String to split.\n * @param {RegExp|String} separator Regex or string to use for separating the string.\n * @param {Number} [limit] Maximum number of items to include in the result array.\n * @returns {Array} Array of substrings.\n * @example\n *\n * // Basic use\n * split('a b c d', ' ');\n * // -> ['a', 'b', 'c', 'd']\n *\n * // With limit\n * split('a b c d', ' ', 2);\n * // -> ['a', 'b']\n *\n * // Backreferences in result array\n * split('..word1 word2..', /([a-z]+)(\\d+)/i);\n * // -> ['..', 'word', '1', ' ', 'word', '2', '..']\n */\nmodule.exports = (function split(undef) {\n\n  var nativeSplit = String.prototype.split,\n    compliantExecNpcg = /()??/.exec(\"\")[1] === undef,\n    // NPCG: nonparticipating capturing group\n    self;\n\n  self = function(str, separator, limit) {\n    // If `separator` is not a regex, use `nativeSplit`\n    if (Object.prototype.toString.call(separator) !== \"[object RegExp]\") {\n      return nativeSplit.call(str, separator, limit);\n    }\n    var output = [],\n      flags = (separator.ignoreCase ? \"i\" : \"\") + (separator.multiline ? \"m\" : \"\") + (separator.extended ? \"x\" : \"\") + // Proposed for ES6\n      (separator.sticky ? \"y\" : \"\"),\n      // Firefox 3+\n      lastLastIndex = 0,\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      separator = new RegExp(separator.source, flags + \"g\"),\n      separator2, match, lastIndex, lastLength;\n    str += \"\"; // Type-convert\n    if (!compliantExecNpcg) {\n      // Doesn't need flags gy, but they don't hurt\n      separator2 = new RegExp(\"^\" + separator.source + \"$(?!\\\\s)\", flags);\n    }\n    /* Values for `limit`, per the spec:\n     * If undefined: 4294967295 // Math.pow(2, 32) - 1\n     * If 0, Infinity, or NaN: 0\n     * If positive number: limit = Math.floor(limit); if (limit > 4294967295) limit -= 4294967296;\n     * If negative number: 4294967296 - Math.floor(Math.abs(limit))\n     * If other: Type-convert, then use the above rules\n     */\n    limit = limit === undef ? -1 >>> 0 : // Math.pow(2, 32) - 1\n    limit >>> 0; // ToUint32(limit)\n    while (match = separator.exec(str)) {\n      // `separator.lastIndex` is not reliable cross-browser\n      lastIndex = match.index + match[0].length;\n      if (lastIndex > lastLastIndex) {\n        output.push(str.slice(lastLastIndex, match.index));\n        // Fix browsers whose `exec` methods don't consistently return `undefined` for\n        // nonparticipating capturing groups\n        if (!compliantExecNpcg && match.length > 1) {\n          match[0].replace(separator2, function() {\n            for (var i = 1; i < arguments.length - 2; i++) {\n              if (arguments[i] === undef) {\n                match[i] = undef;\n              }\n            }\n          });\n        }\n        if (match.length > 1 && match.index < str.length) {\n          Array.prototype.push.apply(output, match.slice(1));\n        }\n        lastLength = match[0].length;\n        lastLastIndex = lastIndex;\n        if (output.length >= limit) {\n          break;\n        }\n      }\n      if (separator.lastIndex === match.index) {\n        separator.lastIndex++; // Avoid an infinite loop\n      }\n    }\n    if (lastLastIndex === str.length) {\n      if (lastLength || !separator.test(\"\")) {\n        output.push(\"\");\n      }\n    } else {\n      output.push(str.slice(lastLastIndex));\n    }\n    return output.length > limit ? output.slice(0, limit) : output;\n  };\n\n  return self;\n})();\n","'use strict';\n\nvar OneVersionConstraint = require('individual/one-version');\n\nvar MY_VERSION = '7';\nOneVersionConstraint('ev-store', MY_VERSION);\n\nvar hashKey = '__EV_STORE_KEY@' + MY_VERSION;\n\nmodule.exports = EvStore;\n\nfunction EvStore(elem) {\n    var hash = elem[hashKey];\n\n    if (!hash) {\n        hash = elem[hashKey] = {};\n    }\n\n    return hash;\n}\n","'use strict';\n\n/*global window, global*/\n\nvar root = typeof window !== 'undefined' ?\n    window : typeof global !== 'undefined' ?\n    global : {};\n\nmodule.exports = Individual;\n\nfunction Individual(key, value) {\n    if (key in root) {\n        return root[key];\n    }\n\n    root[key] = value;\n\n    return value;\n}\n","'use strict';\n\nvar Individual = require('./index.js');\n\nmodule.exports = OneVersion;\n\nfunction OneVersion(moduleName, version, defaultValue) {\n    var key = '__INDIVIDUAL_ONE_VERSION_' + moduleName;\n    var enforceKey = key + '_ENFORCE_SINGLETON';\n\n    var versionValue = Individual(enforceKey, version);\n\n    if (versionValue !== version) {\n        throw new Error('Can only have one copy of ' +\n            moduleName + '.\\n' +\n            'You already have version ' + versionValue +\n            ' installed.\\n' +\n            'This means you cannot install version ' + version);\n    }\n\n    return Individual(key, defaultValue);\n}\n","var topLevel = typeof global !== 'undefined' ? global :\n    typeof window !== 'undefined' ? window : {}\nvar minDoc = require('min-document');\n\nif (typeof document !== 'undefined') {\n    module.exports = document;\n} else {\n    var doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'];\n\n    if (!doccy) {\n        doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'] = minDoc;\n    }\n\n    module.exports = doccy;\n}\n","\"use strict\";\n\nmodule.exports = function isObject(x) {\n\treturn typeof x === \"object\" && x !== null;\n};\n","var nativeIsArray = Array.isArray\nvar toString = Object.prototype.toString\n\nmodule.exports = nativeIsArray || isArray\n\nfunction isArray(obj) {\n    return toString.call(obj) === \"[object Array]\"\n}\n","var patch = require(\"./vdom/patch.js\")\n\nmodule.exports = patch\n","var isObject = require(\"is-object\")\nvar isHook = require(\"../vnode/is-vhook.js\")\n\nmodule.exports = applyProperties\n\nfunction applyProperties(node, props, previous) {\n    for (var propName in props) {\n        var propValue = props[propName]\n\n        if (propValue === undefined) {\n            removeProperty(node, propName, propValue, previous);\n        } else if (isHook(propValue)) {\n            removeProperty(node, propName, propValue, previous)\n            if (propValue.hook) {\n                propValue.hook(node,\n                    propName,\n                    previous ? previous[propName] : undefined)\n            }\n        } else {\n            if (isObject(propValue)) {\n                patchObject(node, props, previous, propName, propValue);\n            } else {\n                node[propName] = propValue\n            }\n        }\n    }\n}\n\nfunction removeProperty(node, propName, propValue, previous) {\n    if (previous) {\n        var previousValue = previous[propName]\n\n        if (!isHook(previousValue)) {\n            if (propName === \"attributes\") {\n                for (var attrName in previousValue) {\n                    node.removeAttribute(attrName)\n                }\n            } else if (propName === \"style\") {\n                for (var i in previousValue) {\n                    node.style[i] = \"\"\n                }\n            } else if (typeof previousValue === \"string\") {\n                node[propName] = \"\"\n            } else {\n                node[propName] = null\n            }\n        } else if (previousValue.unhook) {\n            previousValue.unhook(node, propName, propValue)\n        }\n    }\n}\n\nfunction patchObject(node, props, previous, propName, propValue) {\n    var previousValue = previous ? previous[propName] : undefined\n\n    // Set attributes\n    if (propName === \"attributes\") {\n        for (var attrName in propValue) {\n            var attrValue = propValue[attrName]\n\n            if (attrValue === undefined) {\n                node.removeAttribute(attrName)\n            } else {\n                node.setAttribute(attrName, attrValue)\n            }\n        }\n\n        return\n    }\n\n    if(previousValue && isObject(previousValue) &&\n        getPrototype(previousValue) !== getPrototype(propValue)) {\n        node[propName] = propValue\n        return\n    }\n\n    if (!isObject(node[propName])) {\n        node[propName] = {}\n    }\n\n    var replacer = propName === \"style\" ? \"\" : undefined\n\n    for (var k in propValue) {\n        var value = propValue[k]\n        node[propName][k] = (value === undefined) ? replacer : value\n    }\n}\n\nfunction getPrototype(value) {\n    if (Object.getPrototypeOf) {\n        return Object.getPrototypeOf(value)\n    } else if (value.__proto__) {\n        return value.__proto__\n    } else if (value.constructor) {\n        return value.constructor.prototype\n    }\n}\n","var document = require(\"global/document\")\n\nvar applyProperties = require(\"./apply-properties\")\n\nvar isVNode = require(\"../vnode/is-vnode.js\")\nvar isVText = require(\"../vnode/is-vtext.js\")\nvar isWidget = require(\"../vnode/is-widget.js\")\nvar handleThunk = require(\"../vnode/handle-thunk.js\")\n\nmodule.exports = createElement\n\nfunction createElement(vnode, opts) {\n    var doc = opts ? opts.document || document : document\n    var warn = opts ? opts.warn : null\n\n    vnode = handleThunk(vnode).a\n\n    if (isWidget(vnode)) {\n        return vnode.init()\n    } else if (isVText(vnode)) {\n        return doc.createTextNode(vnode.text)\n    } else if (!isVNode(vnode)) {\n        if (warn) {\n            warn(\"Item is not a valid virtual dom node\", vnode)\n        }\n        return null\n    }\n\n    var node = (vnode.namespace === null) ?\n        doc.createElement(vnode.tagName) :\n        doc.createElementNS(vnode.namespace, vnode.tagName)\n\n    var props = vnode.properties\n    applyProperties(node, props)\n\n    var children = vnode.children\n\n    for (var i = 0; i < children.length; i++) {\n        var childNode = createElement(children[i], opts)\n        if (childNode) {\n            node.appendChild(childNode)\n        }\n    }\n\n    return node\n}\n","// Maps a virtual DOM tree onto a real DOM tree in an efficient manner.\n// We don't want to read all of the DOM nodes in the tree so we use\n// the in-order tree indexing to eliminate recursion down certain branches.\n// We only recurse into a DOM node if we know that it contains a child of\n// interest.\n\nvar noChild = {}\n\nmodule.exports = domIndex\n\nfunction domIndex(rootNode, tree, indices, nodes) {\n    if (!indices || indices.length === 0) {\n        return {}\n    } else {\n        indices.sort(ascending)\n        return recurse(rootNode, tree, indices, nodes, 0)\n    }\n}\n\nfunction recurse(rootNode, tree, indices, nodes, rootIndex) {\n    nodes = nodes || {}\n\n\n    if (rootNode) {\n        if (indexInRange(indices, rootIndex, rootIndex)) {\n            nodes[rootIndex] = rootNode\n        }\n\n        var vChildren = tree.children\n\n        if (vChildren) {\n\n            var childNodes = rootNode.childNodes\n\n            for (var i = 0; i < tree.children.length; i++) {\n                rootIndex += 1\n\n                var vChild = vChildren[i] || noChild\n                var nextIndex = rootIndex + (vChild.count || 0)\n\n                // skip recursion down the tree if there are no nodes down here\n                if (indexInRange(indices, rootIndex, nextIndex)) {\n                    recurse(childNodes[i], vChild, indices, nodes, rootIndex)\n                }\n\n                rootIndex = nextIndex\n            }\n        }\n    }\n\n    return nodes\n}\n\n// Binary search for an index in the interval [left, right]\nfunction indexInRange(indices, left, right) {\n    if (indices.length === 0) {\n        return false\n    }\n\n    var minIndex = 0\n    var maxIndex = indices.length - 1\n    var currentIndex\n    var currentItem\n\n    while (minIndex <= maxIndex) {\n        currentIndex = ((maxIndex + minIndex) / 2) >> 0\n        currentItem = indices[currentIndex]\n\n        if (minIndex === maxIndex) {\n            return currentItem >= left && currentItem <= right\n        } else if (currentItem < left) {\n            minIndex = currentIndex + 1\n        } else  if (currentItem > right) {\n            maxIndex = currentIndex - 1\n        } else {\n            return true\n        }\n    }\n\n    return false;\n}\n\nfunction ascending(a, b) {\n    return a > b ? 1 : -1\n}\n","var applyProperties = require(\"./apply-properties\")\n\nvar isWidget = require(\"../vnode/is-widget.js\")\nvar VPatch = require(\"../vnode/vpatch.js\")\n\nvar render = require(\"./create-element\")\nvar updateWidget = require(\"./update-widget\")\n\nmodule.exports = applyPatch\n\nfunction applyPatch(vpatch, domNode, renderOptions) {\n    var type = vpatch.type\n    var vNode = vpatch.vNode\n    var patch = vpatch.patch\n\n    switch (type) {\n        case VPatch.REMOVE:\n            return removeNode(domNode, vNode)\n        case VPatch.INSERT:\n            return insertNode(domNode, patch, renderOptions)\n        case VPatch.VTEXT:\n            return stringPatch(domNode, vNode, patch, renderOptions)\n        case VPatch.WIDGET:\n            return widgetPatch(domNode, vNode, patch, renderOptions)\n        case VPatch.VNODE:\n            return vNodePatch(domNode, vNode, patch, renderOptions)\n        case VPatch.ORDER:\n            reorderChildren(domNode, patch)\n            return domNode\n        case VPatch.PROPS:\n            applyProperties(domNode, patch, vNode.properties)\n            return domNode\n        case VPatch.THUNK:\n            return replaceRoot(domNode,\n                renderOptions.patch(domNode, patch, renderOptions))\n        default:\n            return domNode\n    }\n}\n\nfunction removeNode(domNode, vNode) {\n    var parentNode = domNode.parentNode\n\n    if (parentNode) {\n        parentNode.removeChild(domNode)\n    }\n\n    destroyWidget(domNode, vNode);\n\n    return null\n}\n\nfunction insertNode(parentNode, vNode, renderOptions) {\n    var newNode = render(vNode, renderOptions)\n\n    if (parentNode) {\n        parentNode.appendChild(newNode)\n    }\n\n    return parentNode\n}\n\nfunction stringPatch(domNode, leftVNode, vText, renderOptions) {\n    var newNode\n\n    if (domNode.nodeType === 3) {\n        domNode.replaceData(0, domNode.length, vText.text)\n        newNode = domNode\n    } else {\n        var parentNode = domNode.parentNode\n        newNode = render(vText, renderOptions)\n\n        if (parentNode) {\n            parentNode.replaceChild(newNode, domNode)\n        }\n    }\n\n    return newNode\n}\n\nfunction widgetPatch(domNode, leftVNode, widget, renderOptions) {\n    var updating = updateWidget(leftVNode, widget)\n    var newNode\n\n    if (updating) {\n        newNode = widget.update(leftVNode, domNode) || domNode\n    } else {\n        newNode = render(widget, renderOptions)\n    }\n\n    var parentNode = domNode.parentNode\n\n    if (parentNode && newNode !== domNode) {\n        parentNode.replaceChild(newNode, domNode)\n    }\n\n    if (!updating) {\n        destroyWidget(domNode, leftVNode)\n    }\n\n    return newNode\n}\n\nfunction vNodePatch(domNode, leftVNode, vNode, renderOptions) {\n    var parentNode = domNode.parentNode\n    var newNode = render(vNode, renderOptions)\n\n    if (parentNode) {\n        parentNode.replaceChild(newNode, domNode)\n    }\n\n    return newNode\n}\n\nfunction destroyWidget(domNode, w) {\n    if (typeof w.destroy === \"function\" && isWidget(w)) {\n        w.destroy(domNode)\n    }\n}\n\nfunction reorderChildren(domNode, bIndex) {\n    var children = []\n    var childNodes = domNode.childNodes\n    var len = childNodes.length\n    var i\n    var reverseIndex = bIndex.reverse\n\n    for (i = 0; i < len; i++) {\n        children.push(domNode.childNodes[i])\n    }\n\n    var insertOffset = 0\n    var move\n    var node\n    var insertNode\n    var chainLength\n    var insertedLength\n    var nextSibling\n    for (i = 0; i < len;) {\n        move = bIndex[i]\n        chainLength = 1\n        if (move !== undefined && move !== i) {\n            // try to bring forward as long of a chain as possible\n            while (bIndex[i + chainLength] === move + chainLength) {\n                chainLength++;\n            }\n\n            // the element currently at this index will be moved later so increase the insert offset\n            if (reverseIndex[i] > i + chainLength) {\n                insertOffset++\n            }\n\n            node = children[move]\n            insertNode = childNodes[i + insertOffset] || null\n            insertedLength = 0\n            while (node !== insertNode && insertedLength++ < chainLength) {\n                domNode.insertBefore(node, insertNode);\n                node = children[move + insertedLength];\n            }\n\n            // the moved element came from the front of the array so reduce the insert offset\n            if (move + chainLength < i) {\n                insertOffset--\n            }\n        }\n\n        // element at this index is scheduled to be removed so increase insert offset\n        if (i in bIndex.removes) {\n            insertOffset++\n        }\n\n        i += chainLength\n    }\n}\n\nfunction replaceRoot(oldRoot, newRoot) {\n    if (oldRoot && newRoot && oldRoot !== newRoot && oldRoot.parentNode) {\n        console.log(oldRoot)\n        oldRoot.parentNode.replaceChild(newRoot, oldRoot)\n    }\n\n    return newRoot;\n}\n","var document = require(\"global/document\")\nvar isArray = require(\"x-is-array\")\n\nvar domIndex = require(\"./dom-index\")\nvar patchOp = require(\"./patch-op\")\nmodule.exports = patch\n\nfunction patch(rootNode, patches) {\n    return patchRecursive(rootNode, patches)\n}\n\nfunction patchRecursive(rootNode, patches, renderOptions) {\n    var indices = patchIndices(patches)\n\n    if (indices.length === 0) {\n        return rootNode\n    }\n\n    var index = domIndex(rootNode, patches.a, indices)\n    var ownerDocument = rootNode.ownerDocument\n\n    if (!renderOptions) {\n        renderOptions = { patch: patchRecursive }\n        if (ownerDocument !== document) {\n            renderOptions.document = ownerDocument\n        }\n    }\n\n    for (var i = 0; i < indices.length; i++) {\n        var nodeIndex = indices[i]\n        rootNode = applyPatch(rootNode,\n            index[nodeIndex],\n            patches[nodeIndex],\n            renderOptions)\n    }\n\n    return rootNode\n}\n\nfunction applyPatch(rootNode, domNode, patchList, renderOptions) {\n    if (!domNode) {\n        return rootNode\n    }\n\n    var newNode\n\n    if (isArray(patchList)) {\n        for (var i = 0; i < patchList.length; i++) {\n            newNode = patchOp(patchList[i], domNode, renderOptions)\n\n            if (domNode === rootNode) {\n                rootNode = newNode\n            }\n        }\n    } else {\n        newNode = patchOp(patchList, domNode, renderOptions)\n\n        if (domNode === rootNode) {\n            rootNode = newNode\n        }\n    }\n\n    return rootNode\n}\n\nfunction patchIndices(patches) {\n    var indices = []\n\n    for (var key in patches) {\n        if (key !== \"a\") {\n            indices.push(Number(key))\n        }\n    }\n\n    return indices\n}\n","var isWidget = require(\"../vnode/is-widget.js\")\n\nmodule.exports = updateWidget\n\nfunction updateWidget(a, b) {\n    if (isWidget(a) && isWidget(b)) {\n        if (\"name\" in a && \"name\" in b) {\n            return a.id === b.id\n        } else {\n            return a.init === b.init\n        }\n    }\n\n    return false\n}\n","'use strict';\n\nvar EvStore = require('ev-store');\n\nmodule.exports = EvHook;\n\nfunction EvHook(value) {\n    if (!(this instanceof EvHook)) {\n        return new EvHook(value);\n    }\n\n    this.value = value;\n}\n\nEvHook.prototype.hook = function (node, propertyName) {\n    var es = EvStore(node);\n    var propName = propertyName.substr(3);\n\n    es[propName] = this.value;\n};\n\nEvHook.prototype.unhook = function(node, propertyName) {\n    var es = EvStore(node);\n    var propName = propertyName.substr(3);\n\n    es[propName] = undefined;\n};\n","'use strict';\n\nvar isArray = require('x-is-array');\n\nvar VNode = require('../vnode/vnode.js');\nvar VText = require('../vnode/vtext.js');\nvar isVNode = require('../vnode/is-vnode');\nvar isVText = require('../vnode/is-vtext');\nvar isWidget = require('../vnode/is-widget');\nvar isHook = require('../vnode/is-vhook');\nvar isVThunk = require('../vnode/is-thunk');\n\nvar parseTag = require('./parse-tag.js');\nvar softSetHook = require('./hooks/soft-set-hook.js');\nvar evHook = require('./hooks/ev-hook.js');\n\nmodule.exports = h;\n\nfunction h(tagName, properties, children) {\n    var childNodes = [];\n    var tag, props, key, namespace;\n\n    if (!children && isChildren(properties)) {\n        children = properties;\n        props = {};\n    }\n\n    props = props || properties || {};\n    tag = parseTag(tagName, props);\n\n    // support keys\n    if (props.hasOwnProperty('key')) {\n        key = props.key;\n        props.key = undefined;\n    }\n\n    // support namespace\n    if (props.hasOwnProperty('namespace')) {\n        namespace = props.namespace;\n        props.namespace = undefined;\n    }\n\n    // fix cursor bug\n    if (tag === 'INPUT' &&\n        !namespace &&\n        props.hasOwnProperty('value') &&\n        props.value !== undefined &&\n        !isHook(props.value)\n    ) {\n        props.value = softSetHook(props.value);\n    }\n\n    transformProperties(props);\n\n    if (children !== undefined && children !== null) {\n        addChild(children, childNodes, tag, props);\n    }\n\n\n    return new VNode(tag, props, childNodes, key, namespace);\n}\n\nfunction addChild(c, childNodes, tag, props) {\n    if (typeof c === 'string') {\n        childNodes.push(new VText(c));\n    } else if (isChild(c)) {\n        childNodes.push(c);\n    } else if (isArray(c)) {\n        for (var i = 0; i < c.length; i++) {\n            addChild(c[i], childNodes, tag, props);\n        }\n    } else if (c === null || c === undefined) {\n        return;\n    } else {\n        throw UnexpectedVirtualElement({\n            foreignObject: c,\n            parentVnode: {\n                tagName: tag,\n                properties: props\n            }\n        });\n    }\n}\n\nfunction transformProperties(props) {\n    for (var propName in props) {\n        if (props.hasOwnProperty(propName)) {\n            var value = props[propName];\n\n            if (isHook(value)) {\n                continue;\n            }\n\n            if (propName.substr(0, 3) === 'ev-') {\n                // add ev-foo support\n                props[propName] = evHook(value);\n            }\n        }\n    }\n}\n\nfunction isChild(x) {\n    return isVNode(x) || isVText(x) || isWidget(x) || isVThunk(x);\n}\n\nfunction isChildren(x) {\n    return typeof x === 'string' || isArray(x) || isChild(x);\n}\n\nfunction UnexpectedVirtualElement(data) {\n    var err = new Error();\n\n    err.type = 'virtual-hyperscript.unexpected.virtual-element';\n    err.message = 'Unexpected virtual child passed to h().\\n' +\n        'Expected a VNode / Vthunk / VWidget / string but:\\n' +\n        'got:\\n' +\n        errorString(data.foreignObject) +\n        '.\\n' +\n        'The parent vnode is:\\n' +\n        errorString(data.parentVnode)\n        '\\n' +\n        'Suggested fix: change your `h(..., [ ... ])` callsite.';\n    err.foreignObject = data.foreignObject;\n    err.parentVnode = data.parentVnode;\n\n    return err;\n}\n\nfunction errorString(obj) {\n    try {\n        return JSON.stringify(obj, null, '    ');\n    } catch (e) {\n        return String(obj);\n    }\n}\n","'use strict';\n\nvar split = require('browser-split');\n\nvar classIdSplit = /([\\.#]?[a-zA-Z0-9_:-]+)/;\nvar notClassId = /^\\.|#/;\n\nmodule.exports = parseTag;\n\nfunction parseTag(tag, props) {\n    if (!tag) {\n        return 'DIV';\n    }\n\n    var noId = !(props.hasOwnProperty('id'));\n\n    var tagParts = split(tag, classIdSplit);\n    var tagName = null;\n\n    if (notClassId.test(tagParts[1])) {\n        tagName = 'DIV';\n    }\n\n    var classes, part, type, i;\n\n    for (i = 0; i < tagParts.length; i++) {\n        part = tagParts[i];\n\n        if (!part) {\n            continue;\n        }\n\n        type = part.charAt(0);\n\n        if (!tagName) {\n            tagName = part;\n        } else if (type === '.') {\n            classes = classes || [];\n            classes.push(part.substring(1, part.length));\n        } else if (type === '#' && noId) {\n            props.id = part.substring(1, part.length);\n        }\n    }\n\n    if (classes) {\n        if (props.className) {\n            classes.push(props.className);\n        }\n\n        props.className = classes.join(' ');\n    }\n\n    return props.namespace ? tagName : tagName.toUpperCase();\n}\n","'use strict';\n\nvar DEFAULT_NAMESPACE = null;\nvar EV_NAMESPACE = 'http://www.w3.org/2001/xml-events';\nvar XLINK_NAMESPACE = 'http://www.w3.org/1999/xlink';\nvar XML_NAMESPACE = 'http://www.w3.org/XML/1998/namespace';\n\n// http://www.w3.org/TR/SVGTiny12/attributeTable.html\n// http://www.w3.org/TR/SVG/attindex.html\nvar SVG_PROPERTIES = {\n    'about': DEFAULT_NAMESPACE,\n    'accent-height': DEFAULT_NAMESPACE,\n    'accumulate': DEFAULT_NAMESPACE,\n    'additive': DEFAULT_NAMESPACE,\n    'alignment-baseline': DEFAULT_NAMESPACE,\n    'alphabetic': DEFAULT_NAMESPACE,\n    'amplitude': DEFAULT_NAMESPACE,\n    'arabic-form': DEFAULT_NAMESPACE,\n    'ascent': DEFAULT_NAMESPACE,\n    'attributeName': DEFAULT_NAMESPACE,\n    'attributeType': DEFAULT_NAMESPACE,\n    'azimuth': DEFAULT_NAMESPACE,\n    'bandwidth': DEFAULT_NAMESPACE,\n    'baseFrequency': DEFAULT_NAMESPACE,\n    'baseProfile': DEFAULT_NAMESPACE,\n    'baseline-shift': DEFAULT_NAMESPACE,\n    'bbox': DEFAULT_NAMESPACE,\n    'begin': DEFAULT_NAMESPACE,\n    'bias': DEFAULT_NAMESPACE,\n    'by': DEFAULT_NAMESPACE,\n    'calcMode': DEFAULT_NAMESPACE,\n    'cap-height': DEFAULT_NAMESPACE,\n    'class': DEFAULT_NAMESPACE,\n    'clip': DEFAULT_NAMESPACE,\n    'clip-path': DEFAULT_NAMESPACE,\n    'clip-rule': DEFAULT_NAMESPACE,\n    'clipPathUnits': DEFAULT_NAMESPACE,\n    'color': DEFAULT_NAMESPACE,\n    'color-interpolation': DEFAULT_NAMESPACE,\n    'color-interpolation-filters': DEFAULT_NAMESPACE,\n    'color-profile': DEFAULT_NAMESPACE,\n    'color-rendering': DEFAULT_NAMESPACE,\n    'content': DEFAULT_NAMESPACE,\n    'contentScriptType': DEFAULT_NAMESPACE,\n    'contentStyleType': DEFAULT_NAMESPACE,\n    'cursor': DEFAULT_NAMESPACE,\n    'cx': DEFAULT_NAMESPACE,\n    'cy': DEFAULT_NAMESPACE,\n    'd': DEFAULT_NAMESPACE,\n    'datatype': DEFAULT_NAMESPACE,\n    'defaultAction': DEFAULT_NAMESPACE,\n    'descent': DEFAULT_NAMESPACE,\n    'diffuseConstant': DEFAULT_NAMESPACE,\n    'direction': DEFAULT_NAMESPACE,\n    'display': DEFAULT_NAMESPACE,\n    'divisor': DEFAULT_NAMESPACE,\n    'dominant-baseline': DEFAULT_NAMESPACE,\n    'dur': DEFAULT_NAMESPACE,\n    'dx': DEFAULT_NAMESPACE,\n    'dy': DEFAULT_NAMESPACE,\n    'edgeMode': DEFAULT_NAMESPACE,\n    'editable': DEFAULT_NAMESPACE,\n    'elevation': DEFAULT_NAMESPACE,\n    'enable-background': DEFAULT_NAMESPACE,\n    'end': DEFAULT_NAMESPACE,\n    'ev:event': EV_NAMESPACE,\n    'event': DEFAULT_NAMESPACE,\n    'exponent': DEFAULT_NAMESPACE,\n    'externalResourcesRequired': DEFAULT_NAMESPACE,\n    'fill': DEFAULT_NAMESPACE,\n    'fill-opacity': DEFAULT_NAMESPACE,\n    'fill-rule': DEFAULT_NAMESPACE,\n    'filter': DEFAULT_NAMESPACE,\n    'filterRes': DEFAULT_NAMESPACE,\n    'filterUnits': DEFAULT_NAMESPACE,\n    'flood-color': DEFAULT_NAMESPACE,\n    'flood-opacity': DEFAULT_NAMESPACE,\n    'focusHighlight': DEFAULT_NAMESPACE,\n    'focusable': DEFAULT_NAMESPACE,\n    'font-family': DEFAULT_NAMESPACE,\n    'font-size': DEFAULT_NAMESPACE,\n    'font-size-adjust': DEFAULT_NAMESPACE,\n    'font-stretch': DEFAULT_NAMESPACE,\n    'font-style': DEFAULT_NAMESPACE,\n    'font-variant': DEFAULT_NAMESPACE,\n    'font-weight': DEFAULT_NAMESPACE,\n    'format': DEFAULT_NAMESPACE,\n    'from': DEFAULT_NAMESPACE,\n    'fx': DEFAULT_NAMESPACE,\n    'fy': DEFAULT_NAMESPACE,\n    'g1': DEFAULT_NAMESPACE,\n    'g2': DEFAULT_NAMESPACE,\n    'glyph-name': DEFAULT_NAMESPACE,\n    'glyph-orientation-horizontal': DEFAULT_NAMESPACE,\n    'glyph-orientation-vertical': DEFAULT_NAMESPACE,\n    'glyphRef': DEFAULT_NAMESPACE,\n    'gradientTransform': DEFAULT_NAMESPACE,\n    'gradientUnits': DEFAULT_NAMESPACE,\n    'handler': DEFAULT_NAMESPACE,\n    'hanging': DEFAULT_NAMESPACE,\n    'height': DEFAULT_NAMESPACE,\n    'horiz-adv-x': DEFAULT_NAMESPACE,\n    'horiz-origin-x': DEFAULT_NAMESPACE,\n    'horiz-origin-y': DEFAULT_NAMESPACE,\n    'id': DEFAULT_NAMESPACE,\n    'ideographic': DEFAULT_NAMESPACE,\n    'image-rendering': DEFAULT_NAMESPACE,\n    'in': DEFAULT_NAMESPACE,\n    'in2': DEFAULT_NAMESPACE,\n    'initialVisibility': DEFAULT_NAMESPACE,\n    'intercept': DEFAULT_NAMESPACE,\n    'k': DEFAULT_NAMESPACE,\n    'k1': DEFAULT_NAMESPACE,\n    'k2': DEFAULT_NAMESPACE,\n    'k3': DEFAULT_NAMESPACE,\n    'k4': DEFAULT_NAMESPACE,\n    'kernelMatrix': DEFAULT_NAMESPACE,\n    'kernelUnitLength': DEFAULT_NAMESPACE,\n    'kerning': DEFAULT_NAMESPACE,\n    'keyPoints': DEFAULT_NAMESPACE,\n    'keySplines': DEFAULT_NAMESPACE,\n    'keyTimes': DEFAULT_NAMESPACE,\n    'lang': DEFAULT_NAMESPACE,\n    'lengthAdjust': DEFAULT_NAMESPACE,\n    'letter-spacing': DEFAULT_NAMESPACE,\n    'lighting-color': DEFAULT_NAMESPACE,\n    'limitingConeAngle': DEFAULT_NAMESPACE,\n    'local': DEFAULT_NAMESPACE,\n    'marker-end': DEFAULT_NAMESPACE,\n    'marker-mid': DEFAULT_NAMESPACE,\n    'marker-start': DEFAULT_NAMESPACE,\n    'markerHeight': DEFAULT_NAMESPACE,\n    'markerUnits': DEFAULT_NAMESPACE,\n    'markerWidth': DEFAULT_NAMESPACE,\n    'mask': DEFAULT_NAMESPACE,\n    'maskContentUnits': DEFAULT_NAMESPACE,\n    'maskUnits': DEFAULT_NAMESPACE,\n    'mathematical': DEFAULT_NAMESPACE,\n    'max': DEFAULT_NAMESPACE,\n    'media': DEFAULT_NAMESPACE,\n    'mediaCharacterEncoding': DEFAULT_NAMESPACE,\n    'mediaContentEncodings': DEFAULT_NAMESPACE,\n    'mediaSize': DEFAULT_NAMESPACE,\n    'mediaTime': DEFAULT_NAMESPACE,\n    'method': DEFAULT_NAMESPACE,\n    'min': DEFAULT_NAMESPACE,\n    'mode': DEFAULT_NAMESPACE,\n    'name': DEFAULT_NAMESPACE,\n    'nav-down': DEFAULT_NAMESPACE,\n    'nav-down-left': DEFAULT_NAMESPACE,\n    'nav-down-right': DEFAULT_NAMESPACE,\n    'nav-left': DEFAULT_NAMESPACE,\n    'nav-next': DEFAULT_NAMESPACE,\n    'nav-prev': DEFAULT_NAMESPACE,\n    'nav-right': DEFAULT_NAMESPACE,\n    'nav-up': DEFAULT_NAMESPACE,\n    'nav-up-left': DEFAULT_NAMESPACE,\n    'nav-up-right': DEFAULT_NAMESPACE,\n    'numOctaves': DEFAULT_NAMESPACE,\n    'observer': DEFAULT_NAMESPACE,\n    'offset': DEFAULT_NAMESPACE,\n    'opacity': DEFAULT_NAMESPACE,\n    'operator': DEFAULT_NAMESPACE,\n    'order': DEFAULT_NAMESPACE,\n    'orient': DEFAULT_NAMESPACE,\n    'orientation': DEFAULT_NAMESPACE,\n    'origin': DEFAULT_NAMESPACE,\n    'overflow': DEFAULT_NAMESPACE,\n    'overlay': DEFAULT_NAMESPACE,\n    'overline-position': DEFAULT_NAMESPACE,\n    'overline-thickness': DEFAULT_NAMESPACE,\n    'panose-1': DEFAULT_NAMESPACE,\n    'path': DEFAULT_NAMESPACE,\n    'pathLength': DEFAULT_NAMESPACE,\n    'patternContentUnits': DEFAULT_NAMESPACE,\n    'patternTransform': DEFAULT_NAMESPACE,\n    'patternUnits': DEFAULT_NAMESPACE,\n    'phase': DEFAULT_NAMESPACE,\n    'playbackOrder': DEFAULT_NAMESPACE,\n    'pointer-events': DEFAULT_NAMESPACE,\n    'points': DEFAULT_NAMESPACE,\n    'pointsAtX': DEFAULT_NAMESPACE,\n    'pointsAtY': DEFAULT_NAMESPACE,\n    'pointsAtZ': DEFAULT_NAMESPACE,\n    'preserveAlpha': DEFAULT_NAMESPACE,\n    'preserveAspectRatio': DEFAULT_NAMESPACE,\n    'primitiveUnits': DEFAULT_NAMESPACE,\n    'propagate': DEFAULT_NAMESPACE,\n    'property': DEFAULT_NAMESPACE,\n    'r': DEFAULT_NAMESPACE,\n    'radius': DEFAULT_NAMESPACE,\n    'refX': DEFAULT_NAMESPACE,\n    'refY': DEFAULT_NAMESPACE,\n    'rel': DEFAULT_NAMESPACE,\n    'rendering-intent': DEFAULT_NAMESPACE,\n    'repeatCount': DEFAULT_NAMESPACE,\n    'repeatDur': DEFAULT_NAMESPACE,\n    'requiredExtensions': DEFAULT_NAMESPACE,\n    'requiredFeatures': DEFAULT_NAMESPACE,\n    'requiredFonts': DEFAULT_NAMESPACE,\n    'requiredFormats': DEFAULT_NAMESPACE,\n    'resource': DEFAULT_NAMESPACE,\n    'restart': DEFAULT_NAMESPACE,\n    'result': DEFAULT_NAMESPACE,\n    'rev': DEFAULT_NAMESPACE,\n    'role': DEFAULT_NAMESPACE,\n    'rotate': DEFAULT_NAMESPACE,\n    'rx': DEFAULT_NAMESPACE,\n    'ry': DEFAULT_NAMESPACE,\n    'scale': DEFAULT_NAMESPACE,\n    'seed': DEFAULT_NAMESPACE,\n    'shape-rendering': DEFAULT_NAMESPACE,\n    'slope': DEFAULT_NAMESPACE,\n    'snapshotTime': DEFAULT_NAMESPACE,\n    'spacing': DEFAULT_NAMESPACE,\n    'specularConstant': DEFAULT_NAMESPACE,\n    'specularExponent': DEFAULT_NAMESPACE,\n    'spreadMethod': DEFAULT_NAMESPACE,\n    'startOffset': DEFAULT_NAMESPACE,\n    'stdDeviation': DEFAULT_NAMESPACE,\n    'stemh': DEFAULT_NAMESPACE,\n    'stemv': DEFAULT_NAMESPACE,\n    'stitchTiles': DEFAULT_NAMESPACE,\n    'stop-color': DEFAULT_NAMESPACE,\n    'stop-opacity': DEFAULT_NAMESPACE,\n    'strikethrough-position': DEFAULT_NAMESPACE,\n    'strikethrough-thickness': DEFAULT_NAMESPACE,\n    'string': DEFAULT_NAMESPACE,\n    'stroke': DEFAULT_NAMESPACE,\n    'stroke-dasharray': DEFAULT_NAMESPACE,\n    'stroke-dashoffset': DEFAULT_NAMESPACE,\n    'stroke-linecap': DEFAULT_NAMESPACE,\n    'stroke-linejoin': DEFAULT_NAMESPACE,\n    'stroke-miterlimit': DEFAULT_NAMESPACE,\n    'stroke-opacity': DEFAULT_NAMESPACE,\n    'stroke-width': DEFAULT_NAMESPACE,\n    'surfaceScale': DEFAULT_NAMESPACE,\n    'syncBehavior': DEFAULT_NAMESPACE,\n    'syncBehaviorDefault': DEFAULT_NAMESPACE,\n    'syncMaster': DEFAULT_NAMESPACE,\n    'syncTolerance': DEFAULT_NAMESPACE,\n    'syncToleranceDefault': DEFAULT_NAMESPACE,\n    'systemLanguage': DEFAULT_NAMESPACE,\n    'tableValues': DEFAULT_NAMESPACE,\n    'target': DEFAULT_NAMESPACE,\n    'targetX': DEFAULT_NAMESPACE,\n    'targetY': DEFAULT_NAMESPACE,\n    'text-anchor': DEFAULT_NAMESPACE,\n    'text-decoration': DEFAULT_NAMESPACE,\n    'text-rendering': DEFAULT_NAMESPACE,\n    'textLength': DEFAULT_NAMESPACE,\n    'timelineBegin': DEFAULT_NAMESPACE,\n    'title': DEFAULT_NAMESPACE,\n    'to': DEFAULT_NAMESPACE,\n    'transform': DEFAULT_NAMESPACE,\n    'transformBehavior': DEFAULT_NAMESPACE,\n    'type': DEFAULT_NAMESPACE,\n    'typeof': DEFAULT_NAMESPACE,\n    'u1': DEFAULT_NAMESPACE,\n    'u2': DEFAULT_NAMESPACE,\n    'underline-position': DEFAULT_NAMESPACE,\n    'underline-thickness': DEFAULT_NAMESPACE,\n    'unicode': DEFAULT_NAMESPACE,\n    'unicode-bidi': DEFAULT_NAMESPACE,\n    'unicode-range': DEFAULT_NAMESPACE,\n    'units-per-em': DEFAULT_NAMESPACE,\n    'v-alphabetic': DEFAULT_NAMESPACE,\n    'v-hanging': DEFAULT_NAMESPACE,\n    'v-ideographic': DEFAULT_NAMESPACE,\n    'v-mathematical': DEFAULT_NAMESPACE,\n    'values': DEFAULT_NAMESPACE,\n    'version': DEFAULT_NAMESPACE,\n    'vert-adv-y': DEFAULT_NAMESPACE,\n    'vert-origin-x': DEFAULT_NAMESPACE,\n    'vert-origin-y': DEFAULT_NAMESPACE,\n    'viewBox': DEFAULT_NAMESPACE,\n    'viewTarget': DEFAULT_NAMESPACE,\n    'visibility': DEFAULT_NAMESPACE,\n    'width': DEFAULT_NAMESPACE,\n    'widths': DEFAULT_NAMESPACE,\n    'word-spacing': DEFAULT_NAMESPACE,\n    'writing-mode': DEFAULT_NAMESPACE,\n    'x': DEFAULT_NAMESPACE,\n    'x-height': DEFAULT_NAMESPACE,\n    'x1': DEFAULT_NAMESPACE,\n    'x2': DEFAULT_NAMESPACE,\n    'xChannelSelector': DEFAULT_NAMESPACE,\n    'xlink:actuate': XLINK_NAMESPACE,\n    'xlink:arcrole': XLINK_NAMESPACE,\n    'xlink:href': XLINK_NAMESPACE,\n    'xlink:role': XLINK_NAMESPACE,\n    'xlink:show': XLINK_NAMESPACE,\n    'xlink:title': XLINK_NAMESPACE,\n    'xlink:type': XLINK_NAMESPACE,\n    'xml:base': XML_NAMESPACE,\n    'xml:id': XML_NAMESPACE,\n    'xml:lang': XML_NAMESPACE,\n    'xml:space': XML_NAMESPACE,\n    'y': DEFAULT_NAMESPACE,\n    'y1': DEFAULT_NAMESPACE,\n    'y2': DEFAULT_NAMESPACE,\n    'yChannelSelector': DEFAULT_NAMESPACE,\n    'z': DEFAULT_NAMESPACE,\n    'zoomAndPan': DEFAULT_NAMESPACE\n};\n\nmodule.exports = SVGAttributeNamespace;\n\nfunction SVGAttributeNamespace(value) {\n  if (SVG_PROPERTIES.hasOwnProperty(value)) {\n    return SVG_PROPERTIES[value];\n  }\n}\n","'use strict';\n\nvar isArray = require('x-is-array');\n\nvar h = require('./index.js');\n\n\nvar SVGAttributeNamespace = require('./svg-attribute-namespace');\nvar attributeHook = require('./hooks/attribute-hook');\n\nvar SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n\nmodule.exports = svg;\n\nfunction svg(tagName, properties, children) {\n    if (!children && isChildren(properties)) {\n        children = properties;\n        properties = {};\n    }\n\n    properties = properties || {};\n\n    // set namespace for svg\n    properties.namespace = SVG_NAMESPACE;\n\n    var attributes = properties.attributes || (properties.attributes = {});\n\n    for (var key in properties) {\n        if (!properties.hasOwnProperty(key)) {\n            continue;\n        }\n\n        var namespace = SVGAttributeNamespace(key);\n\n        if (namespace === undefined) { // not a svg attribute\n            continue;\n        }\n\n        var value = properties[key];\n\n        if (typeof value !== 'string' &&\n            typeof value !== 'number' &&\n            typeof value !== 'boolean'\n        ) {\n            continue;\n        }\n\n        if (namespace !== null) { // namespaced attribute\n            properties[key] = attributeHook(namespace, value);\n            continue;\n        }\n\n        attributes[key] = value\n        properties[key] = undefined\n    }\n\n    return h(tagName, properties, children);\n}\n\nfunction isChildren(x) {\n    return typeof x === 'string' || isArray(x);\n}\n","var isVNode = require(\"./is-vnode\")\nvar isVText = require(\"./is-vtext\")\nvar isWidget = require(\"./is-widget\")\nvar isThunk = require(\"./is-thunk\")\n\nmodule.exports = handleThunk\n\nfunction handleThunk(a, b) {\n    var renderedA = a\n    var renderedB = b\n\n    if (isThunk(b)) {\n        renderedB = renderThunk(b, a)\n    }\n\n    if (isThunk(a)) {\n        renderedA = renderThunk(a, null)\n    }\n\n    return {\n        a: renderedA,\n        b: renderedB\n    }\n}\n\nfunction renderThunk(thunk, previous) {\n    var renderedThunk = thunk.vnode\n\n    if (!renderedThunk) {\n        renderedThunk = thunk.vnode = thunk.render(previous)\n    }\n\n    if (!(isVNode(renderedThunk) ||\n            isVText(renderedThunk) ||\n            isWidget(renderedThunk))) {\n        throw new Error(\"thunk did not return a valid node\");\n    }\n\n    return renderedThunk\n}\n","module.exports = isHook\n\nfunction isHook(hook) {\n    return hook &&\n      (typeof hook.hook === \"function\" && !hook.hasOwnProperty(\"hook\") ||\n       typeof hook.unhook === \"function\" && !hook.hasOwnProperty(\"unhook\"))\n}\n","module.exports = isWidget\n\nfunction isWidget(w) {\n    return w && w.type === \"Widget\"\n}\n","module.exports = \"1\"\n","var version = require(\"./version\")\nvar isVNode = require(\"./is-vnode\")\nvar isWidget = require(\"./is-widget\")\nvar isThunk = require(\"./is-thunk\")\nvar isVHook = require(\"./is-vhook\")\n\nmodule.exports = VirtualNode\n\nvar noProperties = {}\nvar noChildren = []\n\nfunction VirtualNode(tagName, properties, children, key, namespace) {\n    this.tagName = tagName\n    this.properties = properties || noProperties\n    this.children = children || noChildren\n    this.key = key != null ? String(key) : undefined\n    this.namespace = (typeof namespace === \"string\") ? namespace : null\n\n    var count = (children && children.length) || 0\n    var descendants = 0\n    var hasWidgets = false\n    var hasThunks = false\n    var descendantHooks = false\n    var hooks\n\n    for (var propName in properties) {\n        if (properties.hasOwnProperty(propName)) {\n            var property = properties[propName]\n            if (isVHook(property) && property.unhook) {\n                if (!hooks) {\n                    hooks = {}\n                }\n\n                hooks[propName] = property\n            }\n        }\n    }\n\n    for (var i = 0; i < count; i++) {\n        var child = children[i]\n        if (isVNode(child)) {\n            descendants += child.count || 0\n\n            if (!hasWidgets && child.hasWidgets) {\n                hasWidgets = true\n            }\n\n            if (!hasThunks && child.hasThunks) {\n                hasThunks = true\n            }\n\n            if (!descendantHooks && (child.hooks || child.descendantHooks)) {\n                descendantHooks = true\n            }\n        } else if (!hasWidgets && isWidget(child)) {\n            if (typeof child.destroy === \"function\") {\n                hasWidgets = true\n            }\n        } else if (!hasThunks && isThunk(child)) {\n            hasThunks = true;\n        }\n    }\n\n    this.count = count + descendants\n    this.hasWidgets = hasWidgets\n    this.hasThunks = hasThunks\n    this.hooks = hooks\n    this.descendantHooks = descendantHooks\n}\n\nVirtualNode.prototype.version = version\nVirtualNode.prototype.type = \"VirtualNode\"\n","var version = require(\"./version\")\n\nVirtualPatch.NONE = 0\nVirtualPatch.VTEXT = 1\nVirtualPatch.VNODE = 2\nVirtualPatch.WIDGET = 3\nVirtualPatch.PROPS = 4\nVirtualPatch.ORDER = 5\nVirtualPatch.INSERT = 6\nVirtualPatch.REMOVE = 7\nVirtualPatch.THUNK = 8\n\nmodule.exports = VirtualPatch\n\nfunction VirtualPatch(type, vNode, patch) {\n    this.type = Number(type)\n    this.vNode = vNode\n    this.patch = patch\n}\n\nVirtualPatch.prototype.version = version\nVirtualPatch.prototype.type = \"VirtualPatch\"\n","var version = require(\"./version\")\n\nmodule.exports = VirtualText\n\nfunction VirtualText(text) {\n    this.text = String(text)\n}\n\nVirtualText.prototype.version = version\nVirtualText.prototype.type = \"VirtualText\"\n","var isObject = require(\"is-object\")\nvar isHook = require(\"../vnode/is-vhook\")\n\nmodule.exports = diffProps\n\nfunction diffProps(a, b) {\n    var diff\n\n    for (var aKey in a) {\n        if (!(aKey in b)) {\n            diff = diff || {}\n            diff[aKey] = undefined\n        }\n\n        var aValue = a[aKey]\n        var bValue = b[aKey]\n\n        if (aValue === bValue) {\n            continue\n        } else if (isObject(aValue) && isObject(bValue)) {\n            if (getPrototype(bValue) !== getPrototype(aValue)) {\n                diff = diff || {}\n                diff[aKey] = bValue\n            } else if (isHook(bValue)) {\n                 diff = diff || {}\n                 diff[aKey] = bValue\n            } else {\n                var objectDiff = diffProps(aValue, bValue)\n                if (objectDiff) {\n                    diff = diff || {}\n                    diff[aKey] = objectDiff\n                }\n            }\n        } else {\n            diff = diff || {}\n            diff[aKey] = bValue\n        }\n    }\n\n    for (var bKey in b) {\n        if (!(bKey in a)) {\n            diff = diff || {}\n            diff[bKey] = b[bKey]\n        }\n    }\n\n    return diff\n}\n\nfunction getPrototype(value) {\n  if (Object.getPrototypeOf) {\n    return Object.getPrototypeOf(value)\n  } else if (value.__proto__) {\n    return value.__proto__\n  } else if (value.constructor) {\n    return value.constructor.prototype\n  }\n}\n","var isArray = require(\"x-is-array\")\n\nvar VPatch = require(\"../vnode/vpatch\")\nvar isVNode = require(\"../vnode/is-vnode\")\nvar isVText = require(\"../vnode/is-vtext\")\nvar isWidget = require(\"../vnode/is-widget\")\nvar isThunk = require(\"../vnode/is-thunk\")\nvar handleThunk = require(\"../vnode/handle-thunk\")\n\nvar diffProps = require(\"./diff-props\")\n\nmodule.exports = diff\n\nfunction diff(a, b) {\n    var patch = { a: a }\n    walk(a, b, patch, 0)\n    return patch\n}\n\nfunction walk(a, b, patch, index) {\n    if (a === b) {\n        return\n    }\n\n    var apply = patch[index]\n    var applyClear = false\n\n    if (isThunk(a) || isThunk(b)) {\n        thunks(a, b, patch, index)\n    } else if (b == null) {\n\n        // If a is a widget we will add a remove patch for it\n        // Otherwise any child widgets/hooks must be destroyed.\n        // This prevents adding two remove patches for a widget.\n        if (!isWidget(a)) {\n            clearState(a, patch, index)\n            apply = patch[index]\n        }\n\n        apply = appendPatch(apply, new VPatch(VPatch.REMOVE, a, b))\n    } else if (isVNode(b)) {\n        if (isVNode(a)) {\n            if (a.tagName === b.tagName &&\n                a.namespace === b.namespace &&\n                a.key === b.key) {\n                var propsPatch = diffProps(a.properties, b.properties)\n                if (propsPatch) {\n                    apply = appendPatch(apply,\n                        new VPatch(VPatch.PROPS, a, propsPatch))\n                }\n                apply = diffChildren(a, b, patch, apply, index)\n            } else {\n                apply = appendPatch(apply, new VPatch(VPatch.VNODE, a, b))\n                applyClear = true\n            }\n        } else {\n            apply = appendPatch(apply, new VPatch(VPatch.VNODE, a, b))\n            applyClear = true\n        }\n    } else if (isVText(b)) {\n        if (!isVText(a)) {\n            apply = appendPatch(apply, new VPatch(VPatch.VTEXT, a, b))\n            applyClear = true\n        } else if (a.text !== b.text) {\n            apply = appendPatch(apply, new VPatch(VPatch.VTEXT, a, b))\n        }\n    } else if (isWidget(b)) {\n        if (!isWidget(a)) {\n            applyClear = true;\n        }\n\n        apply = appendPatch(apply, new VPatch(VPatch.WIDGET, a, b))\n    }\n\n    if (apply) {\n        patch[index] = apply\n    }\n\n    if (applyClear) {\n        clearState(a, patch, index)\n    }\n}\n\nfunction diffChildren(a, b, patch, apply, index) {\n    var aChildren = a.children\n    var bChildren = reorder(aChildren, b.children)\n\n    var aLen = aChildren.length\n    var bLen = bChildren.length\n    var len = aLen > bLen ? aLen : bLen\n\n    for (var i = 0; i < len; i++) {\n        var leftNode = aChildren[i]\n        var rightNode = bChildren[i]\n        index += 1\n\n        if (!leftNode) {\n            if (rightNode) {\n                // Excess nodes in b need to be added\n                apply = appendPatch(apply,\n                    new VPatch(VPatch.INSERT, null, rightNode))\n            }\n        } else {\n            walk(leftNode, rightNode, patch, index)\n        }\n\n        if (isVNode(leftNode) && leftNode.count) {\n            index += leftNode.count\n        }\n    }\n\n    if (bChildren.moves) {\n        // Reorder nodes last\n        apply = appendPatch(apply, new VPatch(VPatch.ORDER, a, bChildren.moves))\n    }\n\n    return apply\n}\n\nfunction clearState(vNode, patch, index) {\n    // TODO: Make this a single walk, not two\n    unhook(vNode, patch, index)\n    destroyWidgets(vNode, patch, index)\n}\n\n// Patch records for all destroyed widgets must be added because we need\n// a DOM node reference for the destroy function\nfunction destroyWidgets(vNode, patch, index) {\n    if (isWidget(vNode)) {\n        if (typeof vNode.destroy === \"function\") {\n            patch[index] = appendPatch(\n                patch[index],\n                new VPatch(VPatch.REMOVE, vNode, null)\n            )\n        }\n    } else if (isVNode(vNode) && (vNode.hasWidgets || vNode.hasThunks)) {\n        var children = vNode.children\n        var len = children.length\n        for (var i = 0; i < len; i++) {\n            var child = children[i]\n            index += 1\n\n            destroyWidgets(child, patch, index)\n\n            if (isVNode(child) && child.count) {\n                index += child.count\n            }\n        }\n    } else if (isThunk(vNode)) {\n        thunks(vNode, null, patch, index)\n    }\n}\n\n// Create a sub-patch for thunks\nfunction thunks(a, b, patch, index) {\n    var nodes = handleThunk(a, b);\n    var thunkPatch = diff(nodes.a, nodes.b)\n    if (hasPatches(thunkPatch)) {\n        patch[index] = new VPatch(VPatch.THUNK, null, thunkPatch)\n    }\n}\n\nfunction hasPatches(patch) {\n    for (var index in patch) {\n        if (index !== \"a\") {\n            return true;\n        }\n    }\n\n    return false;\n}\n\n// Execute hooks when two nodes are identical\nfunction unhook(vNode, patch, index) {\n    if (isVNode(vNode)) {\n        if (vNode.hooks) {\n            patch[index] = appendPatch(\n                patch[index],\n                new VPatch(\n                    VPatch.PROPS,\n                    vNode,\n                    undefinedKeys(vNode.hooks)\n                )\n            )\n        }\n\n        if (vNode.descendantHooks || vNode.hasThunks) {\n            var children = vNode.children\n            var len = children.length\n            for (var i = 0; i < len; i++) {\n                var child = children[i]\n                index += 1\n\n                unhook(child, patch, index)\n\n                if (isVNode(child) && child.count) {\n                    index += child.count\n                }\n            }\n        }\n    } else if (isThunk(vNode)) {\n        thunks(vNode, null, patch, index)\n    }\n}\n\nfunction undefinedKeys(obj) {\n    var result = {}\n\n    for (var key in obj) {\n        result[key] = undefined\n    }\n\n    return result\n}\n\n// List diff, naive left to right reordering\nfunction reorder(aChildren, bChildren) {\n\n    var bKeys = keyIndex(bChildren)\n\n    if (!bKeys) {\n        return bChildren\n    }\n\n    var aKeys = keyIndex(aChildren)\n\n    if (!aKeys) {\n        return bChildren\n    }\n\n    var bMatch = {}, aMatch = {}\n\n    for (var aKey in bKeys) {\n        bMatch[bKeys[aKey]] = aKeys[aKey]\n    }\n\n    for (var bKey in aKeys) {\n        aMatch[aKeys[bKey]] = bKeys[bKey]\n    }\n\n    var aLen = aChildren.length\n    var bLen = bChildren.length\n    var len = aLen > bLen ? aLen : bLen\n    var shuffle = []\n    var freeIndex = 0\n    var i = 0\n    var moveIndex = 0\n    var moves = {}\n    var removes = moves.removes = {}\n    var reverse = moves.reverse = {}\n    var hasMoves = false\n\n    while (freeIndex < len) {\n        var move = aMatch[i]\n        if (move !== undefined) {\n            shuffle[i] = bChildren[move]\n            if (move !== moveIndex) {\n                moves[move] = moveIndex\n                reverse[moveIndex] = move\n                hasMoves = true\n            }\n            moveIndex++\n        } else if (i in aMatch) {\n            shuffle[i] = undefined\n            removes[i] = moveIndex++\n            hasMoves = true\n        } else {\n            while (bMatch[freeIndex] !== undefined) {\n                freeIndex++\n            }\n\n            if (freeIndex < len) {\n                var freeChild = bChildren[freeIndex]\n                if (freeChild) {\n                    shuffle[i] = freeChild\n                    if (freeIndex !== moveIndex) {\n                        hasMoves = true\n                        moves[freeIndex] = moveIndex\n                        reverse[moveIndex] = freeIndex\n                    }\n                    moveIndex++\n                }\n                freeIndex++\n            }\n        }\n        i++\n    }\n\n    if (hasMoves) {\n        shuffle.moves = moves\n    }\n\n    return shuffle\n}\n\nfunction keyIndex(children) {\n    var i, keys\n\n    for (i = 0; i < children.length; i++) {\n        var child = children[i]\n\n        if (child.key !== undefined) {\n            keys = keys || {}\n            keys[child.key] = i\n        }\n    }\n\n    return keys\n}\n\nfunction appendPatch(apply, patch) {\n    if (apply) {\n        if (isArray(apply)) {\n            apply.push(patch)\n        } else {\n            apply = [apply, patch]\n        }\n\n        return apply\n    } else {\n        return patch\n    }\n}\n","// Generated by CoffeeScript 1.8.0\nvar component, mount, stringify, widget;\n\ncomponent = require('./component');\n\nwidget = require('./widget');\n\nmount = require('./mount');\n\nstringify = require('./stringify');\n\ncomponent.use(mount);\n\ncomponent.use(stringify);\n\nmodule.exports = {\n  component: component,\n  widget: widget,\n  dom: require('virtual-dom/h'),\n  svg: require('virtual-dom/virtual-hyperscript/svg'),\n  partial: require('vdom-thunk'),\n  compose: require('./compose'),\n  hook: require('./hook')\n};\n","stringify = require 'vdom-to-html'\n\nmodule.exports = (component, spec) ->\n  component.stringify = (state, params) ->\n    stringify spec.render.call spec, state, params","create = require 'virtual-dom/create-element'\nextend = require 'extend'\nrequire 'setimmediate'\n\nclass Widget\n  constructor: (@spec, @state, @params) ->\n  type: 'Widget'\n  init: ->\n    @el = @spec.render.call @, @state, @params\n    dom = create @el\n    @el = dom if dom isnt null\n    setImmediate =>\n      if @spec.afterMount?\n        @spec.afterMount.call @, @el, @state, @params\n    @el\n  update: (prev, el) ->\n    # copy state\n    for k, v of prev\n      @[k] = v if @[k] is undefined\n    result = el\n    if @spec.update?\n      result = @spec.update.call @, el, @state, @params, prev\n      if result isnt null\n        dom = create result\n        result = dom if dom isnt null\n    if @spec.onUpdate?\n      @spec.onUpdate.call @, result, @state, @params, prev\n    result\n  destroy: (el) ->\n    if @spec.beforeUnmount?\n      @spec.beforeUnmount.call @, el, @state, @params\n\nwidget = (spec) ->\n  spec = extend {}, spec\n  Component = (state, params) ->\n    new Widget spec, state, params\n  Component.use = (plugin) -> plugin Component, spec\n  for plugin in widget.plugins\n    Component.use plugin\n  Component\nwidget.plugins = []\nwidget.use = (plugin) -> widget.plugins.push plugin\nwidget.Widget = Widget\n\nmodule.exports = widget","// Generated by CoffeeScript 1.8.0\nvar __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\nmodule.exports = function(items, filter) {\n  return items.filter(function(item) {\n    var key, test, _ref;\n    for (key in filter) {\n      test = filter[key];\n      if (item[key] === void 0) {\n        return false;\n      }\n      if (test instanceof Array) {\n        if (_ref = item[key], __indexOf.call(test, _ref) < 0) {\n          return false;\n        }\n      } else {\n        if (item[key] !== test) {\n          return false;\n        }\n      }\n    }\n    return true;\n  });\n};\n","// Generated by CoffeeScript 1.8.0\nvar executequery, executesinglequery, fillproperties, fillproperty, jsonfilter;\n\njsonfilter = require('./filter');\n\nfillproperty = function(data, shape, subqueries) {\n  if (shape.__query != null) {\n    return subqueries[shape.__query](data, shape, subqueries);\n  }\n  return fillproperties(data, shape, subqueries);\n};\n\nfillproperties = function(data, shape, subqueries) {\n  var key, result, subshape;\n  if ((data == null) || data === null) {\n    return null;\n  }\n  if (typeof shape !== 'object') {\n    return data;\n  }\n  result = {};\n  for (key in shape) {\n    subshape = shape[key];\n    if (data[key] == null) {\n      continue;\n    }\n    if (!(subshape instanceof Array)) {\n      result[key] = fillproperty(data[key], subshape, subqueries);\n      continue;\n    }\n    if (!(data[key] instanceof Array)) {\n      throw Error('Expecting array found ' + typeof data);\n    }\n    subshape = subshape[0];\n    result[key] = data[key].map(function(d) {\n      return fillproperty(d, subshape, subqueries);\n    });\n  }\n  return result;\n};\n\nexecutesinglequery = function(data, query, subqueries) {\n  var results;\n  results = jsonfilter(data, query.__params.filter);\n  results = results.map(function(result) {\n    return fillproperties(result, query.__shape, subqueries);\n  });\n  if (results.length === 0) {\n    return null;\n  }\n  if (results.length !== 1) {\n    throw new Error('One needed, many found');\n  }\n  return results[0];\n};\n\nexecutequery = function(data, query, subqueries) {\n  var results;\n  if (!(query.__shape instanceof Array)) {\n    return executesinglequery(data, query, subqueries);\n  }\n  results = jsonfilter(data, query.__params.filter);\n  results = results.map(function(result) {\n    return fillproperties(result, query.__shape[0], subqueries);\n  });\n  return results;\n};\n\nmodule.exports = executequery;\n","// Generated by CoffeeScript 1.8.0\nvar jsonquery;\n\njsonquery = require('./query');\n\nmodule.exports = function(json) {\n  return function(query, cb) {\n    var e, key, result, value;\n    try {\n      result = {};\n      for (key in query) {\n        value = query[key];\n        result[key] = jsonquery(json, value, {\n          filter: jsonquery\n        });\n      }\n      cb(null, result);\n    } catch (_error) {\n      e = _error;\n      cb(e);\n    }\n    return function() {};\n  };\n};\n","// Generated by CoffeeScript 1.9.1\nmodule.exports = function(query, cb) {\n  var key, result, value;\n  result = {};\n  for (key in query) {\n    value = query[key];\n    result[key] = JSON.parse(localStorage[value.__params]);\n  }\n  cb(null, result);\n  return function() {\n    return clearTimeout(handle);\n  };\n};\n","\nvar Pipe = require('../pipe').Pipe;\n\nvar Context = function Context(){\n};\n\nContext.prototype.setResult = function(result) {\n\tthis.result = result;\n\tthis.hasResult = true;\n\treturn this;\n};\n\nContext.prototype.exit = function() {\n\tthis.exiting = true;\n\treturn this;\n};\n\nContext.prototype.switchTo = function(next, pipe) {\n\tif (typeof next === 'string' || next instanceof Pipe) {\n\t\tthis.nextPipe = next;\n\t} else {\n\t\tthis.next = next;\n\t\tif (pipe) {\n\t\t\tthis.nextPipe = pipe;\n\t\t}\n\t}\n\treturn this;\n};\n\nContext.prototype.push = function(child, name) {\n\tchild.parent = this;\n\tif (typeof name !== 'undefined') {\n\t\tchild.childName = name;\n\t}\n\tchild.root = this.root || this;\n\tchild.options = child.options || this.options;\n\tif (!this.children) {\n\t\tthis.children = [child];\n\t\tthis.nextAfterChildren = this.next || null;\n\t\tthis.next = child;\n\t} else {\n\t\tthis.children[this.children.length - 1].next = child;\n\t\tthis.children.push(child);\n\t}\n\tchild.next = this;\n\treturn this;\n};\n\nexports.Context = Context;\n","var Context = require('./context').Context;\n\nvar DiffContext = function DiffContext(left, right) {\n  this.left = left;\n  this.right = right;\n  this.pipe = 'diff';\n};\n\nDiffContext.prototype = new Context();\n\nexports.DiffContext = DiffContext;\n","var Context = require('./context').Context;\n\nvar PatchContext = function PatchContext(left, delta) {\n  this.left = left;\n  this.delta = delta;\n  this.pipe = 'patch';\n};\n\nPatchContext.prototype = new Context();\n\nexports.PatchContext = PatchContext;\n","var Context = require('./context').Context;\n\nvar ReverseContext = function ReverseContext(delta) {\n  this.delta = delta;\n  this.pipe = 'reverse';\n};\n\nReverseContext.prototype = new Context();\n\nexports.ReverseContext = ReverseContext;\n","// use as 2nd parameter for JSON.parse to revive Date instances\nmodule.exports = function dateReviver(key, value) {\n  var parts;\n  if (typeof value === 'string') {\n    parts = /^(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2})(?:\\.(\\d*))?(Z|([+\\-])(\\d{2}):(\\d{2}))$/.exec(value);\n    if (parts) {\n      return new Date(Date.UTC(+parts[1], +parts[2] - 1, +parts[3], +parts[4], +parts[5], +parts[6], +(parts[7] || 0)));\n    }\n  }\n  return value;\n};\n","var Processor = require('./processor').Processor;\nvar Pipe = require('./pipe').Pipe;\nvar DiffContext = require('./contexts/diff').DiffContext;\nvar PatchContext = require('./contexts/patch').PatchContext;\nvar ReverseContext = require('./contexts/reverse').ReverseContext;\n\nvar trivial = require('./filters/trivial');\nvar nested = require('./filters/nested');\nvar arrays = require('./filters/arrays');\nvar dates = require('./filters/dates');\nvar texts = require('./filters/texts');\n\nvar DiffPatcher = function DiffPatcher(options) {\n  this.processor = new Processor(options);\n  this.processor.pipe(new Pipe('diff').append(\n    nested.collectChildrenDiffFilter,\n    trivial.diffFilter,\n    dates.diffFilter,\n    texts.diffFilter,\n    nested.objectsDiffFilter,\n    arrays.diffFilter\n  ).shouldHaveResult());\n  this.processor.pipe(new Pipe('patch').append(\n    nested.collectChildrenPatchFilter,\n    arrays.collectChildrenPatchFilter,\n    trivial.patchFilter,\n    texts.patchFilter,\n    nested.patchFilter,\n    arrays.patchFilter\n  ).shouldHaveResult());\n  this.processor.pipe(new Pipe('reverse').append(\n    nested.collectChildrenReverseFilter,\n    arrays.collectChildrenReverseFilter,\n    trivial.reverseFilter,\n    texts.reverseFilter,\n    nested.reverseFilter,\n    arrays.reverseFilter\n  ).shouldHaveResult());\n};\n\nDiffPatcher.prototype.options = function() {\n  return this.processor.options.apply(this.processor, arguments);\n};\n\nDiffPatcher.prototype.diff = function(left, right) {\n  return this.processor.process(new DiffContext(left, right));\n};\n\nDiffPatcher.prototype.patch = function(left, delta) {\n  return this.processor.process(new PatchContext(left, delta));\n};\n\nDiffPatcher.prototype.reverse = function(delta) {\n  return this.processor.process(new ReverseContext(delta));\n};\n\nDiffPatcher.prototype.unpatch = function(right, delta) {\n  return this.patch(right, this.reverse(delta));\n};\n\nexports.DiffPatcher = DiffPatcher;\n","\nexports.isBrowser = typeof window !== 'undefined';\n","var DiffContext = require('../contexts/diff').DiffContext;\nvar PatchContext = require('../contexts/patch').PatchContext;\nvar ReverseContext = require('../contexts/reverse').ReverseContext;\n\nvar lcs = require('./lcs');\n\nvar ARRAY_MOVE = 3;\n\nvar isArray = (typeof Array.isArray === 'function') ?\n  // use native function\n  Array.isArray :\n  // use instanceof operator\n  function(a) {\n    return a instanceof Array;\n  };\n\nvar arrayIndexOf = typeof Array.prototype.indexOf === 'function' ?\n  function(array, item) {\n    return array.indexOf(item);\n  } : function(array, item) {\n    var length = array.length;\n    for (var i = 0; i < length; i++) {\n      if (array[i] === item) {\n        return i;\n      }\n    }\n    return -1;\n  };\n\nfunction arraysHaveMatchByRef(array1, array2, len1, len2) {\n  for (var index1 = 0; index1 < len1; index1++) {\n    var val1 = array1[index1];\n    for (var index2 = 0; index2 < len2; index2++) {\n      var val2 = array2[index2];\n      if (val1 === val2) {\n        return true;\n      }\n    }\n  }\n}\n\nfunction matchItems(array1, array2, index1, index2, context) {\n  var value1 = array1[index1];\n  var value2 = array2[index2];\n  if (value1 === value2) {\n    return true;\n  }\n  if (typeof value1 !== 'object' || typeof value2 !== 'object') {\n    return false;\n  }\n  var objectHash = context.objectHash;\n  if (!objectHash) {\n    // no way to match objects was provided, try match by position\n    return context.matchByPosition && index1 === index2;\n  }\n  var hash1;\n  var hash2;\n  if (typeof index1 === 'number') {\n    context.hashCache1 = context.hashCache1 || [];\n    hash1 = context.hashCache1[index1];\n    if (typeof hash1 === 'undefined') {\n      context.hashCache1[index1] = hash1 = objectHash(value1, index1);\n    }\n  } else {\n    hash1 = objectHash(value1);\n  }\n  if (typeof hash1 === 'undefined') {\n    return false;\n  }\n  if (typeof index2 === 'number') {\n    context.hashCache2 = context.hashCache2 || [];\n    hash2 = context.hashCache2[index2];\n    if (typeof hash2 === 'undefined') {\n      context.hashCache2[index2] = hash2 = objectHash(value2, index2);\n    }\n  } else {\n    hash2 = objectHash(value2);\n  }\n  if (typeof hash2 === 'undefined') {\n    return false;\n  }\n  return hash1 === hash2;\n}\n\nvar diffFilter = function arraysDiffFilter(context) {\n  if (!context.leftIsArray) {\n    return;\n  }\n\n  var matchContext = {\n    objectHash: context.options && context.options.objectHash,\n    matchByPosition: context.options && context.options.matchByPosition\n  };\n  var commonHead = 0;\n  var commonTail = 0;\n  var index;\n  var index1;\n  var index2;\n  var array1 = context.left;\n  var array2 = context.right;\n  var len1 = array1.length;\n  var len2 = array2.length;\n\n  var child;\n\n  if (len1 > 0 && len2 > 0 && !matchContext.objectHash &&\n    typeof matchContext.matchByPosition !== 'boolean') {\n    matchContext.matchByPosition = !arraysHaveMatchByRef(array1, array2, len1, len2);\n  }\n\n  // separate common head\n  while (commonHead < len1 && commonHead < len2 &&\n    matchItems(array1, array2, commonHead, commonHead, matchContext)) {\n    index = commonHead;\n    child = new DiffContext(context.left[index], context.right[index]);\n    context.push(child, index);\n    commonHead++;\n  }\n  // separate common tail\n  while (commonTail + commonHead < len1 && commonTail + commonHead < len2 &&\n    matchItems(array1, array2, len1 - 1 - commonTail, len2 - 1 - commonTail, matchContext)) {\n    index1 = len1 - 1 - commonTail;\n    index2 = len2 - 1 - commonTail;\n    child = new DiffContext(context.left[index1], context.right[index2]);\n    context.push(child, index2);\n    commonTail++;\n  }\n  var result;\n  if (commonHead + commonTail === len1) {\n    if (len1 === len2) {\n      // arrays are identical\n      context.setResult(undefined).exit();\n      return;\n    }\n    // trivial case, a block (1 or more consecutive items) was added\n    result = result || {\n      _t: 'a'\n    };\n    for (index = commonHead; index < len2 - commonTail; index++) {\n      result[index] = [array2[index]];\n    }\n    context.setResult(result).exit();\n    return;\n  }\n  if (commonHead + commonTail === len2) {\n    // trivial case, a block (1 or more consecutive items) was removed\n    result = result || {\n      _t: 'a'\n    };\n    for (index = commonHead; index < len1 - commonTail; index++) {\n      result['_' + index] = [array1[index], 0, 0];\n    }\n    context.setResult(result).exit();\n    return;\n  }\n  // reset hash cache\n  delete matchContext.hashCache1;\n  delete matchContext.hashCache2;\n\n  // diff is not trivial, find the LCS (Longest Common Subsequence)\n  var trimmed1 = array1.slice(commonHead, len1 - commonTail);\n  var trimmed2 = array2.slice(commonHead, len2 - commonTail);\n  var seq = lcs.get(\n    trimmed1, trimmed2,\n    matchItems,\n    matchContext\n  );\n  var removedItems = [];\n  result = result || {\n    _t: 'a'\n  };\n  for (index = commonHead; index < len1 - commonTail; index++) {\n    if (arrayIndexOf(seq.indices1, index - commonHead) < 0) {\n      // removed\n      result['_' + index] = [array1[index], 0, 0];\n      removedItems.push(index);\n    }\n  }\n\n  var detectMove = true;\n  if (context.options && context.options.arrays && context.options.arrays.detectMove === false) {\n    detectMove = false;\n  }\n  var includeValueOnMove = false;\n  if (context.options && context.options.arrays && context.options.arrays.includeValueOnMove) {\n    includeValueOnMove = true;\n  }\n\n  var removedItemsLength = removedItems.length;\n  for (index = commonHead; index < len2 - commonTail; index++) {\n    var indexOnArray2 = arrayIndexOf(seq.indices2, index - commonHead);\n    if (indexOnArray2 < 0) {\n      // added, try to match with a removed item and register as position move\n      var isMove = false;\n      if (detectMove && removedItemsLength > 0) {\n        for (var removeItemIndex1 = 0; removeItemIndex1 < removedItemsLength; removeItemIndex1++) {\n          index1 = removedItems[removeItemIndex1];\n          if (matchItems(trimmed1, trimmed2, index1 - commonHead,\n            index - commonHead, matchContext)) {\n            // store position move as: [originalValue, newPosition, ARRAY_MOVE]\n            result['_' + index1].splice(1, 2, index, ARRAY_MOVE);\n            if (!includeValueOnMove) {\n              // don't include moved value on diff, to save bytes\n              result['_' + index1][0] = '';\n            }\n\n            index2 = index;\n            child = new DiffContext(context.left[index1], context.right[index2]);\n            context.push(child, index2);\n            removedItems.splice(removeItemIndex1, 1);\n            isMove = true;\n            break;\n          }\n        }\n      }\n      if (!isMove) {\n        // added\n        result[index] = [array2[index]];\n      }\n    } else {\n      // match, do inner diff\n      index1 = seq.indices1[indexOnArray2] + commonHead;\n      index2 = seq.indices2[indexOnArray2] + commonHead;\n      child = new DiffContext(context.left[index1], context.right[index2]);\n      context.push(child, index2);\n    }\n  }\n\n  context.setResult(result).exit();\n\n};\ndiffFilter.filterName = 'arrays';\n\nvar compare = {\n  numerically: function(a, b) {\n    return a - b;\n  },\n  numericallyBy: function(name) {\n    return function(a, b) {\n      return a[name] - b[name];\n    };\n  }\n};\n\nvar patchFilter = function nestedPatchFilter(context) {\n  if (!context.nested) {\n    return;\n  }\n  if (context.delta._t !== 'a') {\n    return;\n  }\n  var index, index1;\n\n  var delta = context.delta;\n  var array = context.left;\n\n  // first, separate removals, insertions and modifications\n  var toRemove = [];\n  var toInsert = [];\n  var toModify = [];\n  for (index in delta) {\n    if (index !== '_t') {\n      if (index[0] === '_') {\n        // removed item from original array\n        if (delta[index][2] === 0 || delta[index][2] === ARRAY_MOVE) {\n          toRemove.push(parseInt(index.slice(1), 10));\n        } else {\n          throw new Error('only removal or move can be applied at original array indices' +\n            ', invalid diff type: ' + delta[index][2]);\n        }\n      } else {\n        if (delta[index].length === 1) {\n          // added item at new array\n          toInsert.push({\n            index: parseInt(index, 10),\n            value: delta[index][0]\n          });\n        } else {\n          // modified item at new array\n          toModify.push({\n            index: parseInt(index, 10),\n            delta: delta[index]\n          });\n        }\n      }\n    }\n  }\n\n  // remove items, in reverse order to avoid sawing our own floor\n  toRemove = toRemove.sort(compare.numerically);\n  for (index = toRemove.length - 1; index >= 0; index--) {\n    index1 = toRemove[index];\n    var indexDiff = delta['_' + index1];\n    var removedValue = array.splice(index1, 1)[0];\n    if (indexDiff[2] === ARRAY_MOVE) {\n      // reinsert later\n      toInsert.push({\n        index: indexDiff[1],\n        value: removedValue\n      });\n    }\n  }\n\n  // insert items, in reverse order to avoid moving our own floor\n  toInsert = toInsert.sort(compare.numericallyBy('index'));\n  var toInsertLength = toInsert.length;\n  for (index = 0; index < toInsertLength; index++) {\n    var insertion = toInsert[index];\n    array.splice(insertion.index, 0, insertion.value);\n  }\n\n  // apply modifications\n  var toModifyLength = toModify.length;\n  var child;\n  if (toModifyLength > 0) {\n    for (index = 0; index < toModifyLength; index++) {\n      var modification = toModify[index];\n      child = new PatchContext(context.left[modification.index], modification.delta);\n      context.push(child, modification.index);\n    }\n  }\n\n  if (!context.children) {\n    context.setResult(context.left).exit();\n    return;\n  }\n  context.exit();\n};\npatchFilter.filterName = 'arrays';\n\nvar collectChildrenPatchFilter = function collectChildrenPatchFilter(context) {\n  if (!context || !context.children) {\n    return;\n  }\n  if (context.delta._t !== 'a') {\n    return;\n  }\n  var length = context.children.length;\n  var child;\n  for (var index = 0; index < length; index++) {\n    child = context.children[index];\n    context.left[child.childName] = child.result;\n  }\n  context.setResult(context.left).exit();\n};\ncollectChildrenPatchFilter.filterName = 'arraysCollectChildren';\n\nvar reverseFilter = function arraysReverseFilter(context) {\n  if (!context.nested) {\n    if (context.delta[2] === ARRAY_MOVE) {\n      context.newName = '_' + context.delta[1];\n      context.setResult([context.delta[0], parseInt(context.childName.substr(1), 10), ARRAY_MOVE]).exit();\n    }\n    return;\n  }\n  if (context.delta._t !== 'a') {\n    return;\n  }\n  var name, child;\n  for (name in context.delta) {\n    if (name === '_t') {\n      continue;\n    }\n    child = new ReverseContext(context.delta[name]);\n    context.push(child, name);\n  }\n  context.exit();\n};\nreverseFilter.filterName = 'arrays';\n\nvar reverseArrayDeltaIndex = function(delta, index, itemDelta) {\n  if (typeof index === 'string' && index[0] === '_') {\n    return parseInt(index.substr(1), 10);\n  } else if (isArray(itemDelta) && itemDelta[2] === 0) {\n    return '_' + index;\n  }\n\n  var reverseIndex = +index;\n  for (var deltaIndex in delta) {\n    var deltaItem = delta[deltaIndex];\n    if (isArray(deltaItem)) {\n      if (deltaItem[2] === ARRAY_MOVE) {\n        var moveFromIndex = parseInt(deltaIndex.substr(1), 10);\n        var moveToIndex = deltaItem[1];\n        if (moveToIndex === +index) {\n          return moveFromIndex;\n        }\n        if (moveFromIndex <= reverseIndex && moveToIndex > reverseIndex) {\n          reverseIndex++;\n        } else if (moveFromIndex >= reverseIndex && moveToIndex < reverseIndex) {\n          reverseIndex--;\n        }\n      } else if (deltaItem[2] === 0) {\n        var deleteIndex = parseInt(deltaIndex.substr(1), 10);\n        if (deleteIndex <= reverseIndex) {\n          reverseIndex++;\n        }\n      } else if (deltaItem.length === 1 && deltaIndex <= reverseIndex) {\n        reverseIndex--;\n      }\n    }\n  }\n\n  return reverseIndex;\n};\n\nvar collectChildrenReverseFilter = function collectChildrenReverseFilter(context) {\n  if (!context || !context.children) {\n    return;\n  }\n  if (context.delta._t !== 'a') {\n    return;\n  }\n  var length = context.children.length;\n  var child;\n  var delta = {\n    _t: 'a'\n  };\n\n  for (var index = 0; index < length; index++) {\n    child = context.children[index];\n    var name = child.newName;\n    if (typeof name === 'undefined') {\n      name = reverseArrayDeltaIndex(context.delta, child.childName, child.result);\n    }\n    if (delta[name] !== child.result) {\n      delta[name] = child.result;\n    }\n  }\n  context.setResult(delta).exit();\n};\ncollectChildrenReverseFilter.filterName = 'arraysCollectChildren';\n\nexports.diffFilter = diffFilter;\nexports.patchFilter = patchFilter;\nexports.collectChildrenPatchFilter = collectChildrenPatchFilter;\nexports.reverseFilter = reverseFilter;\nexports.collectChildrenReverseFilter = collectChildrenReverseFilter;\n","var diffFilter = function datesDiffFilter(context) {\n  if (context.left instanceof Date) {\n    if (context.right instanceof Date) {\n      if (context.left.getTime() !== context.right.getTime()) {\n        context.setResult([context.left, context.right]);\n      } else {\n        context.setResult(undefined);\n      }\n    } else {\n      context.setResult([context.left, context.right]);\n    }\n    context.exit();\n  } else if (context.right instanceof Date) {\n    context.setResult([context.left, context.right]).exit();\n  }\n};\ndiffFilter.filterName = 'dates';\n\nexports.diffFilter = diffFilter;\n","/*\n\nLCS implementation that supports arrays or strings\n\nreference: http://en.wikipedia.org/wiki/Longest_common_subsequence_problem\n\n*/\n\nvar defaultMatch = function(array1, array2, index1, index2) {\n  return array1[index1] === array2[index2];\n};\n\nvar lengthMatrix = function(array1, array2, match, context) {\n  var len1 = array1.length;\n  var len2 = array2.length;\n  var x, y;\n\n  // initialize empty matrix of len1+1 x len2+1\n  var matrix = [len1 + 1];\n  for (x = 0; x < len1 + 1; x++) {\n    matrix[x] = [len2 + 1];\n    for (y = 0; y < len2 + 1; y++) {\n      matrix[x][y] = 0;\n    }\n  }\n  matrix.match = match;\n  // save sequence lengths for each coordinate\n  for (x = 1; x < len1 + 1; x++) {\n    for (y = 1; y < len2 + 1; y++) {\n      if (match(array1, array2, x - 1, y - 1, context)) {\n        matrix[x][y] = matrix[x - 1][y - 1] + 1;\n      } else {\n        matrix[x][y] = Math.max(matrix[x - 1][y], matrix[x][y - 1]);\n      }\n    }\n  }\n  return matrix;\n};\n\nvar backtrack = function(matrix, array1, array2, index1, index2, context) {\n  if (index1 === 0 || index2 === 0) {\n    return {\n      sequence: [],\n      indices1: [],\n      indices2: []\n    };\n  }\n\n  if (matrix.match(array1, array2, index1 - 1, index2 - 1, context)) {\n    var subsequence = backtrack(matrix, array1, array2, index1 - 1, index2 - 1, context);\n    subsequence.sequence.push(array1[index1 - 1]);\n    subsequence.indices1.push(index1 - 1);\n    subsequence.indices2.push(index2 - 1);\n    return subsequence;\n  }\n\n  if (matrix[index1][index2 - 1] > matrix[index1 - 1][index2]) {\n    return backtrack(matrix, array1, array2, index1, index2 - 1, context);\n  } else {\n    return backtrack(matrix, array1, array2, index1 - 1, index2, context);\n  }\n};\n\nvar get = function(array1, array2, match, context) {\n  context = context || {};\n  var matrix = lengthMatrix(array1, array2, match || defaultMatch, context);\n  var result = backtrack(matrix, array1, array2, array1.length, array2.length, context);\n  if (typeof array1 === 'string' && typeof array2 === 'string') {\n    result.sequence = result.sequence.join('');\n  }\n  return result;\n};\n\nexports.get = get;\n","var DiffContext = require('../contexts/diff').DiffContext;\nvar PatchContext = require('../contexts/patch').PatchContext;\nvar ReverseContext = require('../contexts/reverse').ReverseContext;\n\nvar collectChildrenDiffFilter = function collectChildrenDiffFilter(context) {\n  if (!context || !context.children) {\n    return;\n  }\n  var length = context.children.length;\n  var child;\n  var result = context.result;\n  for (var index = 0; index < length; index++) {\n    child = context.children[index];\n    if (typeof child.result === 'undefined') {\n      continue;\n    }\n    result = result || {};\n    result[child.childName] = child.result;\n  }\n  if (result && context.leftIsArray) {\n    result._t = 'a';\n  }\n  context.setResult(result).exit();\n};\ncollectChildrenDiffFilter.filterName = 'collectChildren';\n\nvar objectsDiffFilter = function objectsDiffFilter(context) {\n  if (context.leftIsArray || context.leftType !== 'object') {\n    return;\n  }\n\n  var name, child;\n  for (name in context.left) {\n    child = new DiffContext(context.left[name], context.right[name]);\n    context.push(child, name);\n  }\n  for (name in context.right) {\n    if (typeof context.left[name] === 'undefined') {\n      child = new DiffContext(undefined, context.right[name]);\n      context.push(child, name);\n    }\n  }\n\n  if (!context.children || context.children.length === 0) {\n    context.setResult(undefined).exit();\n    return;\n  }\n  context.exit();\n};\nobjectsDiffFilter.filterName = 'objects';\n\nvar patchFilter = function nestedPatchFilter(context) {\n  if (!context.nested) {\n    return;\n  }\n  if (context.delta._t) {\n    return;\n  }\n  var name, child;\n  for (name in context.delta) {\n    child = new PatchContext(context.left[name], context.delta[name]);\n    context.push(child, name);\n  }\n  context.exit();\n};\npatchFilter.filterName = 'objects';\n\nvar collectChildrenPatchFilter = function collectChildrenPatchFilter(context) {\n  if (!context || !context.children) {\n    return;\n  }\n  if (context.delta._t) {\n    return;\n  }\n  var length = context.children.length;\n  var child;\n  for (var index = 0; index < length; index++) {\n    child = context.children[index];\n    if (context.left.hasOwnProperty(child.childName) && child.result === undefined) {\n      delete context.left[child.childName];\n    } else if (context.left[child.childName] !== child.result) {\n      context.left[child.childName] = child.result;\n    }\n  }\n  context.setResult(context.left).exit();\n};\ncollectChildrenPatchFilter.filterName = 'collectChildren';\n\nvar reverseFilter = function nestedReverseFilter(context) {\n  if (!context.nested) {\n    return;\n  }\n  if (context.delta._t) {\n    return;\n  }\n  var name, child;\n  for (name in context.delta) {\n    child = new ReverseContext(context.delta[name]);\n    context.push(child, name);\n  }\n  context.exit();\n};\nreverseFilter.filterName = 'objects';\n\nvar collectChildrenReverseFilter = function collectChildrenReverseFilter(context) {\n  if (!context || !context.children) {\n    return;\n  }\n  if (context.delta._t) {\n    return;\n  }\n  var length = context.children.length;\n  var child;\n  var delta = {};\n  for (var index = 0; index < length; index++) {\n    child = context.children[index];\n    if (delta[child.childName] !== child.result) {\n      delta[child.childName] = child.result;\n    }\n  }\n  context.setResult(delta).exit();\n};\ncollectChildrenReverseFilter.filterName = 'collectChildren';\n\nexports.collectChildrenDiffFilter = collectChildrenDiffFilter;\nexports.objectsDiffFilter = objectsDiffFilter;\nexports.patchFilter = patchFilter;\nexports.collectChildrenPatchFilter = collectChildrenPatchFilter;\nexports.reverseFilter = reverseFilter;\nexports.collectChildrenReverseFilter = collectChildrenReverseFilter;\n","/* global diff_match_patch */\nvar TEXT_DIFF = 2;\nvar DEFAULT_MIN_LENGTH = 60;\nvar cachedDiffPatch = null;\n\nvar getDiffMatchPatch = function() {\n  /*jshint camelcase: false */\n\n  if (!cachedDiffPatch) {\n    var instance;\n    if (typeof diff_match_patch !== 'undefined') {\n      // already loaded, probably a browser\n      instance = typeof diff_match_patch === 'function' ?\n        new diff_match_patch() : new diff_match_patch.diff_match_patch();\n    } else if (typeof require === 'function') {\n      try {\n        var dmpModuleName = 'diff_match_patch_uncompressed';\n        var dmp = require('../../public/external/' + dmpModuleName);\n        instance = new dmp.diff_match_patch();\n      } catch (err) {\n        instance = null;\n      }\n    }\n    if (!instance) {\n      var error = new Error('text diff_match_patch library not found');\n      error.diff_match_patch_not_found = true;\n      throw error;\n    }\n    cachedDiffPatch = {\n      diff: function(txt1, txt2) {\n        return instance.patch_toText(instance.patch_make(txt1, txt2));\n      },\n      patch: function(txt1, patch) {\n        var results = instance.patch_apply(instance.patch_fromText(patch), txt1);\n        for (var i = 0; i < results[1].length; i++) {\n          if (!results[1][i]) {\n            var error = new Error('text patch failed');\n            error.textPatchFailed = true;\n          }\n        }\n        return results[0];\n      }\n    };\n  }\n  return cachedDiffPatch;\n};\n\nvar diffFilter = function textsDiffFilter(context) {\n  if (context.leftType !== 'string') {\n    return;\n  }\n  var minLength = (context.options && context.options.textDiff &&\n    context.options.textDiff.minLength) || DEFAULT_MIN_LENGTH;\n  if (context.left.length < minLength ||\n    context.right.length < minLength) {\n    context.setResult([context.left, context.right]).exit();\n    return;\n  }\n  // large text, use a text-diff algorithm\n  var diff = getDiffMatchPatch().diff;\n  context.setResult([diff(context.left, context.right), 0, TEXT_DIFF]).exit();\n};\ndiffFilter.filterName = 'texts';\n\nvar patchFilter = function textsPatchFilter(context) {\n  if (context.nested) {\n    return;\n  }\n  if (context.delta[2] !== TEXT_DIFF) {\n    return;\n  }\n\n  // text-diff, use a text-patch algorithm\n  var patch = getDiffMatchPatch().patch;\n  context.setResult(patch(context.left, context.delta[0])).exit();\n};\npatchFilter.filterName = 'texts';\n\nvar textDeltaReverse = function(delta) {\n  var i, l, lines, line, lineTmp, header = null,\n    headerRegex = /^@@ +\\-(\\d+),(\\d+) +\\+(\\d+),(\\d+) +@@$/,\n    lineHeader, lineAdd, lineRemove;\n  lines = delta.split('\\n');\n  for (i = 0, l = lines.length; i < l; i++) {\n    line = lines[i];\n    var lineStart = line.slice(0, 1);\n    if (lineStart === '@') {\n      header = headerRegex.exec(line);\n      lineHeader = i;\n      lineAdd = null;\n      lineRemove = null;\n\n      // fix header\n      lines[lineHeader] = '@@ -' + header[3] + ',' + header[4] + ' +' + header[1] + ',' + header[2] + ' @@';\n    } else if (lineStart === '+') {\n      lineAdd = i;\n      lines[i] = '-' + lines[i].slice(1);\n      if (lines[i - 1].slice(0, 1) === '+') {\n        // swap lines to keep default order (-+)\n        lineTmp = lines[i];\n        lines[i] = lines[i - 1];\n        lines[i - 1] = lineTmp;\n      }\n    } else if (lineStart === '-') {\n      lineRemove = i;\n      lines[i] = '+' + lines[i].slice(1);\n    }\n  }\n  return lines.join('\\n');\n};\n\nvar reverseFilter = function textsReverseFilter(context) {\n  if (context.nested) {\n    return;\n  }\n  if (context.delta[2] !== TEXT_DIFF) {\n    return;\n  }\n\n  // text-diff, use a text-diff algorithm\n  context.setResult([textDeltaReverse(context.delta[0]), 0, TEXT_DIFF]).exit();\n};\nreverseFilter.filterName = 'texts';\n\nexports.diffFilter = diffFilter;\nexports.patchFilter = patchFilter;\nexports.reverseFilter = reverseFilter;\n","var isArray = (typeof Array.isArray === 'function') ?\n  // use native function\n  Array.isArray :\n  // use instanceof operator\n  function(a) {\n    return a instanceof Array;\n  };\n\nvar diffFilter = function trivialMatchesDiffFilter(context) {\n  if (context.left === context.right) {\n    context.setResult(undefined).exit();\n    return;\n  }\n  if (typeof context.left === 'undefined') {\n    if (typeof context.right === 'function') {\n      throw new Error('functions are not supported');\n    }\n    context.setResult([context.right]).exit();\n    return;\n  }\n  if (typeof context.right === 'undefined') {\n    context.setResult([context.left, 0, 0]).exit();\n    return;\n  }\n  if (typeof context.left === 'function' || typeof context.right === 'function') {\n    throw new Error('functions are not supported');\n  }\n  context.leftType = context.left === null ? 'null' : typeof context.left;\n  context.rightType = context.right === null ? 'null' : typeof context.right;\n  if (context.leftType !== context.rightType) {\n    context.setResult([context.left, context.right]).exit();\n    return;\n  }\n  if (context.leftType === 'boolean' || context.leftType === 'number') {\n    context.setResult([context.left, context.right]).exit();\n    return;\n  }\n  if (context.leftType === 'object') {\n    context.leftIsArray = isArray(context.left);\n  }\n  if (context.rightType === 'object') {\n    context.rightIsArray = isArray(context.right);\n  }\n  if (context.leftIsArray !== context.rightIsArray) {\n    context.setResult([context.left, context.right]).exit();\n    return;\n  }\n};\ndiffFilter.filterName = 'trivial';\n\nvar patchFilter = function trivialMatchesPatchFilter(context) {\n  if (typeof context.delta === 'undefined') {\n    context.setResult(context.left).exit();\n    return;\n  }\n  context.nested = !isArray(context.delta);\n  if (context.nested) {\n    return;\n  }\n  if (context.delta.length === 1) {\n    context.setResult(context.delta[0]).exit();\n    return;\n  }\n  if (context.delta.length === 2) {\n    context.setResult(context.delta[1]).exit();\n    return;\n  }\n  if (context.delta.length === 3 && context.delta[2] === 0) {\n    context.setResult(undefined).exit();\n    return;\n  }\n};\npatchFilter.filterName = 'trivial';\n\nvar reverseFilter = function trivialReferseFilter(context) {\n  if (typeof context.delta === 'undefined') {\n    context.setResult(context.delta).exit();\n    return;\n  }\n  context.nested = !isArray(context.delta);\n  if (context.nested) {\n    return;\n  }\n  if (context.delta.length === 1) {\n    context.setResult([context.delta[0], 0, 0]).exit();\n    return;\n  }\n  if (context.delta.length === 2) {\n    context.setResult([context.delta[1], context.delta[0]]).exit();\n    return;\n  }\n  if (context.delta.length === 3 && context.delta[2] === 0) {\n    context.setResult([context.delta[0]]).exit();\n    return;\n  }\n};\nreverseFilter.filterName = 'trivial';\n\nexports.diffFilter = diffFilter;\nexports.patchFilter = patchFilter;\nexports.reverseFilter = reverseFilter;\n","\nvar environment = require('./environment');\n\nvar DiffPatcher = require('./diffpatcher').DiffPatcher;\nexports.DiffPatcher = DiffPatcher;\n\nexports.create = function(options){\n\treturn new DiffPatcher(options);\n};\n\nexports.dateReviver = require('./date-reviver');\n\nvar defaultInstance;\n\nexports.diff = function() {\n\tif (!defaultInstance) {\n\t\tdefaultInstance = new DiffPatcher();\n\t}\n\treturn defaultInstance.diff.apply(defaultInstance, arguments);\n};\n\nexports.patch = function() {\n\tif (!defaultInstance) {\n\t\tdefaultInstance = new DiffPatcher();\n\t}\n\treturn defaultInstance.patch.apply(defaultInstance, arguments);\n};\n\nexports.unpatch = function() {\n\tif (!defaultInstance) {\n\t\tdefaultInstance = new DiffPatcher();\n\t}\n\treturn defaultInstance.unpatch.apply(defaultInstance, arguments);\n};\n\nexports.reverse = function() {\n\tif (!defaultInstance) {\n\t\tdefaultInstance = new DiffPatcher();\n\t}\n\treturn defaultInstance.reverse.apply(defaultInstance, arguments);\n};\n\nif (environment.isBrowser) {\n\texports.homepage = '{{package-homepage}}';\n\texports.version = '{{package-version}}';\n} else {\n\tvar packageInfoModuleName = '../package.json';\n\tvar packageInfo = require(packageInfoModuleName);\n\texports.homepage = packageInfo.homepage;\n\texports.version = packageInfo.version;\n\n\tvar formatterModuleName = './formatters';\n\tvar formatters = require(formatterModuleName);\n\texports.formatters = formatters;\n\t// shortcut for console\n\texports.console = formatters.console;\n}\n","var Pipe = function Pipe(name) {\n  this.name = name;\n  this.filters = [];\n};\n\nPipe.prototype.process = function(input) {\n  if (!this.processor) {\n    throw new Error('add this pipe to a processor before using it');\n  }\n  var debug = this.debug;\n  var length = this.filters.length;\n  var context = input;\n  for (var index = 0; index < length; index++) {\n    var filter = this.filters[index];\n    if (debug) {\n      this.log('filter: ' + filter.filterName);\n    }\n    filter(context);\n    if (typeof context === 'object' && context.exiting) {\n      context.exiting = false;\n      break;\n    }\n  }\n  if (!context.next && this.resultCheck) {\n    this.resultCheck(context);\n  }\n};\n\nPipe.prototype.log = function(msg) {\n  console.log('[jsondiffpatch] ' + this.name + ' pipe, ' + msg);\n};\n\nPipe.prototype.append = function() {\n  this.filters.push.apply(this.filters, arguments);\n  return this;\n};\n\nPipe.prototype.prepend = function() {\n  this.filters.unshift.apply(this.filters, arguments);\n  return this;\n};\n\nPipe.prototype.indexOf = function(filterName) {\n  if (!filterName) {\n    throw new Error('a filter name is required');\n  }\n  for (var index = 0; index < this.filters.length; index++) {\n    var filter = this.filters[index];\n    if (filter.filterName === filterName) {\n      return index;\n    }\n  }\n  throw new Error('filter not found: ' + filterName);\n};\n\nPipe.prototype.list = function() {\n  var names = [];\n  for (var index = 0; index < this.filters.length; index++) {\n    var filter = this.filters[index];\n    names.push(filter.filterName);\n  }\n  return names;\n};\n\nPipe.prototype.after = function(filterName) {\n  var index = this.indexOf(filterName);\n  var params = Array.prototype.slice.call(arguments, 1);\n  if (!params.length) {\n    throw new Error('a filter is required');\n  }\n  params.unshift(index + 1, 0);\n  Array.prototype.splice.apply(this.filters, params);\n  return this;\n};\n\nPipe.prototype.before = function(filterName) {\n  var index = this.indexOf(filterName);\n  var params = Array.prototype.slice.call(arguments, 1);\n  if (!params.length) {\n    throw new Error('a filter is required');\n  }\n  params.unshift(index, 0);\n  Array.prototype.splice.apply(this.filters, params);\n  return this;\n};\n\nPipe.prototype.clear = function() {\n  this.filters.length = 0;\n  return this;\n};\n\nPipe.prototype.shouldHaveResult = function(should) {\n  if (should === false) {\n    this.resultCheck = null;\n    return;\n  }\n  if (this.resultCheck) {\n    return;\n  }\n  var pipe = this;\n  this.resultCheck = function(context) {\n    if (!context.hasResult) {\n      console.log(context);\n      var error = new Error(pipe.name + ' failed');\n      error.noResult = true;\n      throw error;\n    }\n  };\n  return this;\n};\n\nexports.Pipe = Pipe;\n","\nvar Processor = function Processor(options){\n\tthis.selfOptions = options;\n\tthis.pipes = {};\n};\n\nProcessor.prototype.options = function(options) {\n\tif (options) {\n\t\tthis.selfOptions = options;\n\t}\n\treturn this.selfOptions;\n};\n\nProcessor.prototype.pipe = function(name, pipe) {\n\tif (typeof name === 'string') {\n\t\tif (typeof pipe === 'undefined') {\n\t\t\treturn this.pipes[name];\n\t\t} else {\n\t\t\tthis.pipes[name] = pipe;\n\t\t}\n\t}\n\tif (name && name.name) {\n\t\tpipe = name;\n\t\tif (pipe.processor === this) { return pipe; }\n\t\tthis.pipes[pipe.name] = pipe;\n\t}\n\tpipe.processor = this;\n\treturn pipe;\n};\n\nProcessor.prototype.process = function(input, pipe) {\n\tvar context = input;\n\tcontext.options = this.options();\n\tvar nextPipe = pipe || input.pipe || 'default';\n\tvar lastPipe, lastContext;\n\twhile (nextPipe) {\n\t\tif (typeof context.nextAfterChildren !== 'undefined') {\n\t\t\t// children processed and coming back to parent\n\t\t\tcontext.next = context.nextAfterChildren;\n\t\t\tcontext.nextAfterChildren = null;\n\t\t}\n\n\t\tif (typeof nextPipe === 'string') {\n\t\t\tnextPipe = this.pipe(nextPipe);\n\t\t}\n\t\tnextPipe.process(context);\n\t\tlastContext = context;\n\t\tlastPipe = nextPipe;\n\t\tnextPipe = null;\n\t\tif (context) {\n\t\t\tif (context.next) {\n\t\t\t\tcontext = context.next;\n\t\t\t\tnextPipe = lastContext.nextPipe || context.pipe || lastPipe;\n\t\t\t}\n\t\t}\n\t}\n\treturn context.hasResult ? context.result : undefined;\n};\n\nexports.Processor = Processor;\n","// Generated by CoffeeScript 1.8.0\nmodule.exports = function(component, spec) {\n  if (spec.query == null) {\n    return component.query = function() {\n      return {};\n    };\n  }\n  return component.query = function(params) {\n    return spec.query.call(component, params);\n  };\n};\n","module.exports =\n  query: (name, params, shape) ->\n    __query: name\n    __params: params\n    __shape: shape\n  freshquery: (name, params, shape) ->\n    __query: name\n    __params: params\n    __shape: shape\n    __fresh: yes\n  desc: require './ql/desc'\n  merge: require './ql/merge'\n  split: require './ql/split'\n  diff: require './ql/diff'\n  build: require './ql/build'\n  exec: require './ql/exec'","// Generated by CoffeeScript 1.8.0\nmodule.exports = {\n  query: function(name, params, shape) {\n    return {\n      __query: name,\n      __params: params,\n      __shape: shape\n    };\n  },\n  freshquery: function(name, params, shape) {\n    return {\n      __query: name,\n      __params: params,\n      __shape: shape,\n      __fresh: true\n    };\n  },\n  desc: require('./ql/desc'),\n  merge: require('./ql/merge'),\n  split: require('./ql/split'),\n  diff: require('./ql/diff'),\n  build: require('./ql/build'),\n  exec: require('./ql/exec')\n};\n","split = require './split'\n\nmodule.exports = (query, stores) ->\n  queries = {}\n  query = split query, Object.keys stores\n  for key, graph of query.known\n    if !queries[graph.__query]?\n      queries[graph.__query] =\n        __query: graph.__query\n        keys: []\n        queries: {}\n    queries[graph.__query].keys.push key\n    queries[graph.__query].queries[key] = graph\n  result = []\n  for _, item of queries\n    do (item) ->\n      item.query = (cb) -> stores[item.__query] item.queries, cb\n      result.push item\n  if Object.keys(query.unknown).length is 0\n    return result\n  if !stores.__dynamic?\n    return cb new Error 'Unknown queries'\n  result.push\n    __query: '__dynamic'\n    keys: Object.keys query.unknown\n    query: (cb) -> stores.__dynamic query.unknown, cb\n    queries: query.unknown\n  result","// Generated by CoffeeScript 1.8.0\nvar split;\n\nsplit = require('./split');\n\nmodule.exports = function(query, stores) {\n  var graph, item, key, queries, result, _, _fn, _ref;\n  queries = {};\n  query = split(query, Object.keys(stores));\n  _ref = query.known;\n  for (key in _ref) {\n    graph = _ref[key];\n    if (queries[graph.__query] == null) {\n      queries[graph.__query] = {\n        __query: graph.__query,\n        keys: [],\n        queries: {}\n      };\n    }\n    queries[graph.__query].keys.push(key);\n    queries[graph.__query].queries[key] = graph;\n  }\n  result = [];\n  _fn = function(item) {\n    item.query = function(cb) {\n      return stores[item.__query](item.queries, cb);\n    };\n    return result.push(item);\n  };\n  for (_ in queries) {\n    item = queries[_];\n    _fn(item);\n  }\n  if (Object.keys(query.unknown).length === 0) {\n    return result;\n  }\n  if (stores.__dynamic == null) {\n    return cb(new Error('Unknown queries'));\n  }\n  result.push({\n    __query: '__dynamic',\n    keys: Object.keys(query.unknown),\n    query: function(cb) {\n      return stores.__dynamic(query.unknown, cb);\n    },\n    queries: query.unknown\n  });\n  return result;\n};\n","module.exports = (query) ->\n  return '-- no query --' if Object.keys(query).length is 0\n  'query\\n' + Object.keys query\n    .map (prop) ->\n      \"  #{prop} from #{query[prop].__query}\"\n    .join '\\n'","// Generated by CoffeeScript 1.8.0\nmodule.exports = function(query) {\n  if (Object.keys(query).length === 0) {\n    return '-- no query --';\n  }\n  return 'query\\n' + Object.keys(query).map(function(prop) {\n    return \"  \" + prop + \" from \" + query[prop].__query;\n  }).join('\\n');\n};\n","jsondiffpatch = require 'jsondiffpatch'\n\ndiffisdelete = (diff) ->\n  diff instanceof Array and diff.length is 3 and diff[1] is 0 and diff[2] is 0\n\nmodule.exports = (prev, next) ->\n  result = {}\n  diff = jsondiffpatch.diff prev, next\n  for key, value of diff\n    continue if diffisdelete value\n    # any changes require a re-query\n    result[key] = next[key]\n  for key, value of next\n    if value?.__fresh?\n      result[key] = value\n  result","// Generated by CoffeeScript 1.8.0\nvar diffisdelete, jsondiffpatch;\n\njsondiffpatch = require('jsondiffpatch');\n\ndiffisdelete = function(diff) {\n  return diff instanceof Array && diff.length === 3 && diff[1] === 0 && diff[2] === 0;\n};\n\nmodule.exports = function(prev, next) {\n  var diff, key, result, value;\n  result = {};\n  diff = jsondiffpatch.diff(prev, next);\n  for (key in diff) {\n    value = diff[key];\n    if (diffisdelete(value)) {\n      continue;\n    }\n    result[key] = next[key];\n  }\n  for (key in next) {\n    value = next[key];\n    if ((value != null ? value.__fresh : void 0) != null) {\n      result[key] = value;\n    }\n  }\n  return result;\n};\n","build = require './build'\nasync = require 'odo-async'\nextend = require 'extend'\n\nmodule.exports = (query, stores, callback) ->\n  query = build query, stores\n  errors = []\n  tasks = []\n  state = {}\n  for q in query\n    do (q) ->\n      tasks.push (cb) -> q.query (err, results) ->\n        if err?\n          errors.push err\n        else\n          extend state, results\n        cb()\n  async.parallel tasks, ->\n    if errors.length isnt 0\n      return callback errors, state\n    return callback null, state","// Generated by CoffeeScript 1.8.0\nvar async, build, extend;\n\nbuild = require('./build');\n\nasync = require('odo-async');\n\nextend = require('extend');\n\nmodule.exports = function(query, stores, callback) {\n  var errors, q, state, tasks, _fn, _i, _len;\n  query = build(query, stores);\n  errors = [];\n  tasks = [];\n  state = {};\n  _fn = function(q) {\n    return tasks.push(function(cb) {\n      return q.query(function(err, results) {\n        if (err != null) {\n          errors.push(err);\n        } else {\n          extend(state, results);\n        }\n        return cb();\n      });\n    });\n  };\n  for (_i = 0, _len = query.length; _i < _len; _i++) {\n    q = query[_i];\n    _fn(q);\n  }\n  return async.parallel(tasks, function() {\n    if (errors.length !== 0) {\n      return callback(errors, state);\n    }\n    return callback(null, state);\n  });\n};\n","extend = require 'extend'\n\neq = (a, b) ->\n  return yes if a is b\n  return no if typeof a isnt 'object' or typeof b isnt 'object'\n  return no if a is null or b is null\n  aarray = a instanceof Array\n  barray = b instanceof Array\n  return no if aarray isnt barray\n  if aarray\n    return no if a.length isnt b.length\n    for i in [0...a.length]\n      return no unless eq a[i], b[i]\n    return yes\n  akeys = Object.keys a\n  bkeys = Object.keys b\n  return no if akeys.length isnt bkeys.length\n  for key, value of a\n    return no unless eq value, b[key]\n  yes\n\nmerge = (base, extra) ->\n  aarray = base instanceof Array\n  barray = extra instanceof Array\n  if aarray\n    if !barray\n      console.log 'Not an array, ignoring'\n      console.log extra\n      return base\n    if base.length isnt 1 or extra.length isnt 1\n      console.log 'Expecting length 1 arrays'\n      console.log extra\n      return base\n    return [merge base[0], extra[0]]\n  if base.__query?\n    if !extra.__query?\n      console.log 'Non query, ignoring'\n      console.log extra\n      return base\n    unless eq base.__params, extra.__params\n      console.log 'Query does not match, ignoring'\n      console.log extra\n      return base\n    if !base.__shape? or !extra.__shape?\n      return base\n    merge base.__shape, extra.__shape\n    return\n  else if extra.__query?\n    console.log 'Query, ignoring'\n    console.log extra\n    return base\n  for key, value of extra\n    if base[key]? and typeof value is 'object'\n      merge base[key], value\n      continue\n    base[key] = value\n\nmodule.exports = (queries) ->\n  return null if arguments.length is 0\n  if arguments.length isnt 1\n    queries = Array::slice.call arguments, 0\n  return null if queries.length is 0\n  result = {}\n  merge result, extend {}, query for query in queries\n  result","// Generated by CoffeeScript 1.8.0\nvar eq, extend, merge;\n\nextend = require('extend');\n\neq = function(a, b) {\n  var aarray, akeys, barray, bkeys, i, key, value, _i, _ref;\n  if (a === b) {\n    return true;\n  }\n  if (typeof a !== 'object' || typeof b !== 'object') {\n    return false;\n  }\n  if (a === null || b === null) {\n    return false;\n  }\n  aarray = a instanceof Array;\n  barray = b instanceof Array;\n  if (aarray !== barray) {\n    return false;\n  }\n  if (aarray) {\n    if (a.length !== b.length) {\n      return false;\n    }\n    for (i = _i = 0, _ref = a.length; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {\n      if (!eq(a[i], b[i])) {\n        return false;\n      }\n    }\n    return true;\n  }\n  akeys = Object.keys(a);\n  bkeys = Object.keys(b);\n  if (akeys.length !== bkeys.length) {\n    return false;\n  }\n  for (key in a) {\n    value = a[key];\n    if (!eq(value, b[key])) {\n      return false;\n    }\n  }\n  return true;\n};\n\nmerge = function(base, extra) {\n  var aarray, barray, key, value, _results;\n  aarray = base instanceof Array;\n  barray = extra instanceof Array;\n  if (aarray) {\n    if (!barray) {\n      console.log('Not an array, ignoring');\n      console.log(extra);\n      return base;\n    }\n    if (base.length !== 1 || extra.length !== 1) {\n      console.log('Expecting length 1 arrays');\n      console.log(extra);\n      return base;\n    }\n    return [merge(base[0], extra[0])];\n  }\n  if (base.__query != null) {\n    if (extra.__query == null) {\n      console.log('Non query, ignoring');\n      console.log(extra);\n      return base;\n    }\n    if (!eq(base.__params, extra.__params)) {\n      console.log('Query does not match, ignoring');\n      console.log(extra);\n      return base;\n    }\n    if ((base.__shape == null) || (extra.__shape == null)) {\n      return base;\n    }\n    merge(base.__shape, extra.__shape);\n    return;\n  } else if (extra.__query != null) {\n    console.log('Query, ignoring');\n    console.log(extra);\n    return base;\n  }\n  _results = [];\n  for (key in extra) {\n    value = extra[key];\n    if ((base[key] != null) && typeof value === 'object') {\n      merge(base[key], value);\n      continue;\n    }\n    _results.push(base[key] = value);\n  }\n  return _results;\n};\n\nmodule.exports = function(queries) {\n  var query, result, _i, _len;\n  if (arguments.length === 0) {\n    return null;\n  }\n  if (arguments.length !== 1) {\n    queries = Array.prototype.slice.call(arguments, 0);\n  }\n  if (queries.length === 0) {\n    return null;\n  }\n  result = {};\n  for (_i = 0, _len = queries.length; _i < _len; _i++) {\n    query = queries[_i];\n    merge(result, extend({}, query));\n  }\n  return result;\n};\n","# Return two queries, ones that match names and others that don't\nmodule.exports = (query, names) ->\n  known = {}\n  unknown = {}\n  for key, value of query\n    if value.__query in names\n      known[key] = value\n    else\n      unknown[key] = value\n  known: known\n  unknown: unknown","// Generated by CoffeeScript 1.8.0\nvar __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\nmodule.exports = function(query, names) {\n  var key, known, unknown, value, _ref;\n  known = {};\n  unknown = {};\n  for (key in query) {\n    value = query[key];\n    if (_ref = value.__query, __indexOf.call(names, _ref) >= 0) {\n      known[key] = value;\n    } else {\n      unknown[key] = value;\n    }\n  }\n  return {\n    known: known,\n    unknown: unknown\n  };\n};\n","  /* globals require, module */\n\n  'use strict';\n\n  /**\n   * Module dependencies.\n   */\n\n  var pathtoRegexp = require('path-to-regexp');\n\n  /**\n   * Module exports.\n   */\n\n  module.exports = page;\n\n  /**\n   * To work properly with the URL\n   * history.location generated polyfill in https://github.com/devote/HTML5-History-API\n   */\n\n  var location = ('undefined' !== typeof window) && (window.history.location || window.location);\n\n  /**\n   * Perform initial dispatch.\n   */\n\n  var dispatch = true;\n\n  /**\n   * Decode URL components (query string, pathname, hash).\n   * Accommodates both regular percent encoding and x-www-form-urlencoded format.\n   */\n  var decodeURLComponents = true;\n\n  /**\n   * Base path.\n   */\n\n  var base = '';\n\n  /**\n   * Running flag.\n   */\n\n  var running;\n\n  /**\n   * HashBang option\n   */\n\n  var hashbang = false;\n\n  /**\n   * Previous context, for capturing\n   * page exit events.\n   */\n\n  var prevContext;\n\n  /**\n   * Register `path` with callback `fn()`,\n   * or route `path`, or redirection,\n   * or `page.start()`.\n   *\n   *   page(fn);\n   *   page('*', fn);\n   *   page('/user/:id', load, user);\n   *   page('/user/' + user.id, { some: 'thing' });\n   *   page('/user/' + user.id);\n   *   page('/from', '/to')\n   *   page();\n   *\n   * @param {String|Function} path\n   * @param {Function} fn...\n   * @api public\n   */\n\n  function page(path, fn) {\n    // <callback>\n    if ('function' === typeof path) {\n      return page('*', path);\n    }\n\n    // route <path> to <callback ...>\n    if ('function' === typeof fn) {\n      var route = new Route(path);\n      for (var i = 1; i < arguments.length; ++i) {\n        page.callbacks.push(route.middleware(arguments[i]));\n      }\n      // show <path> with [state]\n    } else if ('string' === typeof path) {\n      page['string' === typeof fn ? 'redirect' : 'show'](path, fn);\n      // start [options]\n    } else {\n      page.start(path);\n    }\n  }\n\n  /**\n   * Callback functions.\n   */\n\n  page.callbacks = [];\n  page.exits = [];\n\n  /**\n   * Current path being processed\n   * @type {String}\n   */\n  page.current = '';\n\n  /**\n   * Number of pages navigated to.\n   * @type {number}\n   *\n   *     page.len == 0;\n   *     page('/login');\n   *     page.len == 1;\n   */\n\n  page.len = 0;\n\n  /**\n   * Get or set basepath to `path`.\n   *\n   * @param {String} path\n   * @api public\n   */\n\n  page.base = function(path) {\n    if (0 === arguments.length) return base;\n    base = path;\n  };\n\n  /**\n   * Bind with the given `options`.\n   *\n   * Options:\n   *\n   *    - `click` bind to click events [true]\n   *    - `popstate` bind to popstate [true]\n   *    - `dispatch` perform initial dispatch [true]\n   *\n   * @param {Object} options\n   * @api public\n   */\n\n  page.start = function(options) {\n    options = options || {};\n    if (running) return;\n    running = true;\n    if (false === options.dispatch) dispatch = false;\n    if (false === options.decodeURLComponents) decodeURLComponents = false;\n    if (false !== options.popstate) window.addEventListener('popstate', onpopstate, false);\n    if (false !== options.click) window.addEventListener('click', onclick, false);\n    if (true === options.hashbang) hashbang = true;\n    if (!dispatch) return;\n    var url = (hashbang && ~location.hash.indexOf('#!')) ? location.hash.substr(2) + location.search : location.pathname + location.search + location.hash;\n    page.replace(url, null, true, dispatch);\n  };\n\n  /**\n   * Unbind click and popstate event handlers.\n   *\n   * @api public\n   */\n\n  page.stop = function() {\n    if (!running) return;\n    page.current = '';\n    page.len = 0;\n    running = false;\n    window.removeEventListener('click', onclick, false);\n    window.removeEventListener('popstate', onpopstate, false);\n  };\n\n  /**\n   * Show `path` with optional `state` object.\n   *\n   * @param {String} path\n   * @param {Object} state\n   * @param {Boolean} dispatch\n   * @return {Context}\n   * @api public\n   */\n\n  page.show = function(path, state, dispatch, push) {\n    var ctx = new Context(path, state);\n    page.current = ctx.path;\n    if (false !== dispatch) page.dispatch(ctx);\n    if (false !== ctx.handled && false !== push) ctx.pushState();\n    return ctx;\n  };\n\n  /**\n   * Goes back in the history\n   * Back should always let the current route push state and then go back.\n   *\n   * @param {String} path - fallback path to go back if no more history exists, if undefined defaults to page.base\n   * @param {Object} [state]\n   * @api public\n   */\n\n  page.back = function(path, state) {\n    if (page.len > 0) {\n      // this may need more testing to see if all browsers\n      // wait for the next tick to go back in history\n      history.back();\n      page.len--;\n    } else if (path) {\n      setTimeout(function() {\n        page.show(path, state);\n      });\n    }else{\n      setTimeout(function() {\n        page.show(base, state);\n      });\n    }\n  };\n\n\n  /**\n   * Register route to redirect from one path to other\n   * or just redirect to another route\n   *\n   * @param {String} from - if param 'to' is undefined redirects to 'from'\n   * @param {String} [to]\n   * @api public\n   */\n  page.redirect = function(from, to) {\n    // Define route from a path to another\n    if ('string' === typeof from && 'string' === typeof to) {\n      page(from, function(e) {\n        setTimeout(function() {\n          page.replace(to);\n        }, 0);\n      });\n    }\n\n    // Wait for the push state and replace it with another\n    if ('string' === typeof from && 'undefined' === typeof to) {\n      setTimeout(function() {\n        page.replace(from);\n      }, 0);\n    }\n  };\n\n  /**\n   * Replace `path` with optional `state` object.\n   *\n   * @param {String} path\n   * @param {Object} state\n   * @return {Context}\n   * @api public\n   */\n\n\n  page.replace = function(path, state, init, dispatch) {\n    var ctx = new Context(path, state);\n    page.current = ctx.path;\n    ctx.init = init;\n    ctx.save(); // save before dispatching, which may redirect\n    if (false !== dispatch) page.dispatch(ctx);\n    return ctx;\n  };\n\n  /**\n   * Dispatch the given `ctx`.\n   *\n   * @param {Object} ctx\n   * @api private\n   */\n\n  page.dispatch = function(ctx) {\n    var prev = prevContext,\n      i = 0,\n      j = 0;\n\n    prevContext = ctx;\n\n    function nextExit() {\n      var fn = page.exits[j++];\n      if (!fn) return nextEnter();\n      fn(prev, nextExit);\n    }\n\n    function nextEnter() {\n      var fn = page.callbacks[i++];\n\n      if (ctx.path !== page.current) {\n        ctx.handled = false;\n        return;\n      }\n      if (!fn) return unhandled(ctx);\n      fn(ctx, nextEnter);\n    }\n\n    if (prev) {\n      nextExit();\n    } else {\n      nextEnter();\n    }\n  };\n\n  /**\n   * Unhandled `ctx`. When it's not the initial\n   * popstate then redirect. If you wish to handle\n   * 404s on your own use `page('*', callback)`.\n   *\n   * @param {Context} ctx\n   * @api private\n   */\n\n  function unhandled(ctx) {\n    if (ctx.handled) return;\n    var current;\n\n    if (hashbang) {\n      current = base + location.hash.replace('#!', '');\n    } else {\n      current = location.pathname + location.search;\n    }\n\n    if (current === ctx.canonicalPath) return;\n    page.stop();\n    ctx.handled = false;\n    location.href = ctx.canonicalPath;\n  }\n\n  /**\n   * Register an exit route on `path` with\n   * callback `fn()`, which will be called\n   * on the previous context when a new\n   * page is visited.\n   */\n  page.exit = function(path, fn) {\n    if (typeof path === 'function') {\n      return page.exit('*', path);\n    }\n\n    var route = new Route(path);\n    for (var i = 1; i < arguments.length; ++i) {\n      page.exits.push(route.middleware(arguments[i]));\n    }\n  };\n\n  /**\n   * Remove URL encoding from the given `str`.\n   * Accommodates whitespace in both x-www-form-urlencoded\n   * and regular percent-encoded form.\n   *\n   * @param {str} URL component to decode\n   */\n  function decodeURLEncodedURIComponent(val) {\n    if (typeof val !== 'string') { return val; }\n    return decodeURLComponents ? decodeURIComponent(val.replace(/\\+/g, ' ')) : val;\n  }\n\n  /**\n   * Initialize a new \"request\" `Context`\n   * with the given `path` and optional initial `state`.\n   *\n   * @param {String} path\n   * @param {Object} state\n   * @api public\n   */\n\n  function Context(path, state) {\n    if ('/' === path[0] && 0 !== path.indexOf(base)) path = base + (hashbang ? '#!' : '') + path;\n    var i = path.indexOf('?');\n\n    this.canonicalPath = path;\n    this.path = path.replace(base, '') || '/';\n    if (hashbang) this.path = this.path.replace('#!', '') || '/';\n\n    this.title = document.title;\n    this.state = state || {};\n    this.state.path = path;\n    this.querystring = ~i ? decodeURLEncodedURIComponent(path.slice(i + 1)) : '';\n    this.pathname = decodeURLEncodedURIComponent(~i ? path.slice(0, i) : path);\n    this.params = {};\n\n    // fragment\n    this.hash = '';\n    if (!hashbang) {\n      if (!~this.path.indexOf('#')) return;\n      var parts = this.path.split('#');\n      this.path = parts[0];\n      this.hash = decodeURLEncodedURIComponent(parts[1]) || '';\n      this.querystring = this.querystring.split('#')[0];\n    }\n  }\n\n  /**\n   * Expose `Context`.\n   */\n\n  page.Context = Context;\n\n  /**\n   * Push state.\n   *\n   * @api private\n   */\n\n  Context.prototype.pushState = function() {\n    page.len++;\n    history.pushState(this.state, this.title, hashbang && this.path !== '/' ? '#!' + this.path : this.canonicalPath);\n  };\n\n  /**\n   * Save the context state.\n   *\n   * @api public\n   */\n\n  Context.prototype.save = function() {\n    history.replaceState(this.state, this.title, hashbang && this.path !== '/' ? '#!' + this.path : this.canonicalPath);\n  };\n\n  /**\n   * Initialize `Route` with the given HTTP `path`,\n   * and an array of `callbacks` and `options`.\n   *\n   * Options:\n   *\n   *   - `sensitive`    enable case-sensitive routes\n   *   - `strict`       enable strict matching for trailing slashes\n   *\n   * @param {String} path\n   * @param {Object} options.\n   * @api private\n   */\n\n  function Route(path, options) {\n    options = options || {};\n    this.path = (path === '*') ? '(.*)' : path;\n    this.method = 'GET';\n    this.regexp = pathtoRegexp(this.path,\n      this.keys = [],\n      options.sensitive,\n      options.strict);\n  }\n\n  /**\n   * Expose `Route`.\n   */\n\n  page.Route = Route;\n\n  /**\n   * Return route middleware with\n   * the given callback `fn()`.\n   *\n   * @param {Function} fn\n   * @return {Function}\n   * @api public\n   */\n\n  Route.prototype.middleware = function(fn) {\n    var self = this;\n    return function(ctx, next) {\n      if (self.match(ctx.path, ctx.params)) return fn(ctx, next);\n      next();\n    };\n  };\n\n  /**\n   * Check if this route matches `path`, if so\n   * populate `params`.\n   *\n   * @param {String} path\n   * @param {Object} params\n   * @return {Boolean}\n   * @api private\n   */\n\n  Route.prototype.match = function(path, params) {\n    var keys = this.keys,\n      qsIndex = path.indexOf('?'),\n      pathname = ~qsIndex ? path.slice(0, qsIndex) : path,\n      m = this.regexp.exec(decodeURIComponent(pathname));\n\n    if (!m) return false;\n\n    for (var i = 1, len = m.length; i < len; ++i) {\n      var key = keys[i - 1];\n      var val = decodeURLEncodedURIComponent(m[i]);\n      if (val !== undefined || !(hasOwnProperty.call(params, key.name))) {\n        params[key.name] = val;\n      }\n    }\n\n    return true;\n  };\n\n  /**\n   * Handle \"populate\" events.\n   */\n\n  function onpopstate(e) {\n    if (e.state) {\n      var path = e.state.path;\n      page.replace(path, e.state);\n    } else {\n      page.show(location.pathname + location.hash, undefined, undefined, false);\n    }\n  }\n\n  /**\n   * Handle \"click\" events.\n   */\n\n  function onclick(e) {\n\n    if (1 !== which(e)) return;\n\n    if (e.metaKey || e.ctrlKey || e.shiftKey) return;\n    if (e.defaultPrevented) return;\n\n\n\n    // ensure link\n    var el = e.target;\n    while (el && 'A' !== el.nodeName) el = el.parentNode;\n    if (!el || 'A' !== el.nodeName) return;\n\n\n\n    // Ignore if tag has\n    // 1. \"download\" attribute\n    // 2. rel=\"external\" attribute\n    if (el.getAttribute('download') || el.getAttribute('rel') === 'external') return;\n\n    // ensure non-hash for the same path\n    var link = el.getAttribute('href');\n    if (!hashbang && el.pathname === location.pathname && (el.hash || '#' === link)) return;\n\n\n\n    // Check for mailto: in the href\n    if (link && link.indexOf('mailto:') > -1) return;\n\n    // check target\n    if (el.target) return;\n\n    // x-origin\n    if (!sameOrigin(el.href)) return;\n\n\n\n    // rebuild path\n    var path = el.pathname + el.search + (el.hash || '');\n\n    // same page\n    var orig = path;\n\n    path = path.replace(base, '');\n    if (hashbang) path = path.replace('#!', '');\n\n\n\n    if (base && orig === path) return;\n\n    e.preventDefault();\n    page.show(orig);\n  }\n\n  /**\n   * Event button.\n   */\n\n  function which(e) {\n    e = e || window.event;\n    return null === e.which ? e.button : e.which;\n  }\n\n  /**\n   * Check if `href` is the same origin.\n   */\n\n  function sameOrigin(href) {\n    var origin = location.protocol + '//' + location.hostname;\n    if (location.port) origin += ':' + location.port;\n    return (href && (0 === href.indexOf(origin)));\n  }\n\n  page.sameOrigin = sameOrigin;\n","var isArray = require('isarray');\n\n/**\n * Expose `pathToRegexp`.\n */\nmodule.exports = pathToRegexp;\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \"/:test(\\\\d+)?\" => [\"/\", \"test\", \"\\d+\", undefined, \"?\"]\n  // \"/route(\\\\d+)\" => [undefined, undefined, undefined, \"\\d+\", undefined]\n  '([\\\\/.])?(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^)])*)\\\\))?|\\\\(((?:\\\\\\\\.|[^)])*)\\\\))([+*?])?',\n  // Match regexp special characters that are always escaped.\n  '([.+*?=^!:${}()[\\\\]|\\\\/])'\n].join('|'), 'g');\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {String} group\n * @return {String}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$\\/()])/g, '\\\\$1');\n}\n\n/**\n * Attach the keys as a property of the regexp.\n *\n * @param  {RegExp} re\n * @param  {Array}  keys\n * @return {RegExp}\n */\nfunction attachKeys (re, keys) {\n  re.keys = keys;\n  return re;\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {String}\n */\nfunction flags (options) {\n  return options.sensitive ? '' : 'i';\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {RegExp} path\n * @param  {Array}  keys\n * @return {RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g);\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name:      i,\n        delimiter: null,\n        optional:  false,\n        repeat:    false\n      });\n    }\n  }\n\n  return attachKeys(path, keys);\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {Array}  path\n * @param  {Array}  keys\n * @param  {Object} options\n * @return {RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = [];\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source);\n  }\n\n  var regexp = new RegExp('(?:' + parts.join('|') + ')', flags(options));\n  return attachKeys(regexp, keys);\n}\n\n/**\n * Replace the specific tags with regexp strings.\n *\n * @param  {String} path\n * @param  {Array}  keys\n * @return {String}\n */\nfunction replacePath (path, keys) {\n  var index = 0;\n\n  function replace (_, escaped, prefix, key, capture, group, suffix, escape) {\n    if (escaped) {\n      return escaped;\n    }\n\n    if (escape) {\n      return '\\\\' + escape;\n    }\n\n    var repeat   = suffix === '+' || suffix === '*';\n    var optional = suffix === '?' || suffix === '*';\n\n    keys.push({\n      name:      key || index++,\n      delimiter: prefix || '/',\n      optional:  optional,\n      repeat:    repeat\n    });\n\n    prefix = prefix ? ('\\\\' + prefix) : '';\n    capture = escapeGroup(capture || group || '[^' + (prefix || '\\\\/') + ']+?');\n\n    if (repeat) {\n      capture = capture + '(?:' + prefix + capture + ')*';\n    }\n\n    if (optional) {\n      return '(?:' + prefix + '(' + capture + '))?';\n    }\n\n    // Basic parameter support.\n    return prefix + '(' + capture + ')';\n  }\n\n  return path.replace(PATH_REGEXP, replace);\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(String|RegExp|Array)} path\n * @param  {Array}                 [keys]\n * @param  {Object}                [options]\n * @return {RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  keys = keys || [];\n\n  if (!isArray(keys)) {\n    options = keys;\n    keys = [];\n  } else if (!options) {\n    options = {};\n  }\n\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, keys, options);\n  }\n\n  if (isArray(path)) {\n    return arrayToRegexp(path, keys, options);\n  }\n\n  var strict = options.strict;\n  var end = options.end !== false;\n  var route = replacePath(path, keys);\n  var endsWithSlash = path.charAt(path.length - 1) === '/';\n\n  // In non-strict mode we allow a slash at the end of match. If the path to\n  // match already ends with a slash, we remove it for consistency. The slash\n  // is valid at the end of a path match, not in the middle. This is important\n  // in non-ending mode, where \"/test/\" shouldn't match \"/test//route\".\n  if (!strict) {\n    route = (endsWithSlash ? route.slice(0, -2) : route) + '(?:\\\\/(?=$))?';\n  }\n\n  if (end) {\n    route += '$';\n  } else {\n    // In non-ending mode, we need the capturing groups to match as much as\n    // possible by using a positive lookahead to the end or next path segment.\n    route += strict && endsWithSlash ? '' : '(?=\\\\/|$)';\n  }\n\n  return attachKeys(new RegExp('^' + route, flags(options)), keys);\n}\n","module.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n","/**\n * Module dependencies.\n */\n\nvar Emitter = require('emitter');\nvar reduce = require('reduce');\n\n/**\n * Root reference for iframes.\n */\n\nvar root = 'undefined' == typeof window\n  ? (this || self)\n  : window;\n\n/**\n * Noop.\n */\n\nfunction noop(){};\n\n/**\n * Check if `obj` is a host object,\n * we don't want to serialize these :)\n *\n * TODO: future proof, move to compoent land\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isHost(obj) {\n  var str = {}.toString.call(obj);\n\n  switch (str) {\n    case '[object File]':\n    case '[object Blob]':\n    case '[object FormData]':\n      return true;\n    default:\n      return false;\n  }\n}\n\n/**\n * Determine XHR.\n */\n\nrequest.getXHR = function () {\n  if (root.XMLHttpRequest\n      && (!root.location || 'file:' != root.location.protocol\n          || !root.ActiveXObject)) {\n    return new XMLHttpRequest;\n  } else {\n    try { return new ActiveXObject('Microsoft.XMLHTTP'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP.6.0'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP.3.0'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP'); } catch(e) {}\n  }\n  return false;\n};\n\n/**\n * Removes leading and trailing whitespace, added to support IE.\n *\n * @param {String} s\n * @return {String}\n * @api private\n */\n\nvar trim = ''.trim\n  ? function(s) { return s.trim(); }\n  : function(s) { return s.replace(/(^\\s*|\\s*$)/g, ''); };\n\n/**\n * Check if `obj` is an object.\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isObject(obj) {\n  return obj === Object(obj);\n}\n\n/**\n * Serialize the given `obj`.\n *\n * @param {Object} obj\n * @return {String}\n * @api private\n */\n\nfunction serialize(obj) {\n  if (!isObject(obj)) return obj;\n  var pairs = [];\n  for (var key in obj) {\n    if (null != obj[key]) {\n      pairs.push(encodeURIComponent(key)\n        + '=' + encodeURIComponent(obj[key]));\n    }\n  }\n  return pairs.join('&');\n}\n\n/**\n * Expose serialization method.\n */\n\n request.serializeObject = serialize;\n\n /**\n  * Parse the given x-www-form-urlencoded `str`.\n  *\n  * @param {String} str\n  * @return {Object}\n  * @api private\n  */\n\nfunction parseString(str) {\n  var obj = {};\n  var pairs = str.split('&');\n  var parts;\n  var pair;\n\n  for (var i = 0, len = pairs.length; i < len; ++i) {\n    pair = pairs[i];\n    parts = pair.split('=');\n    obj[decodeURIComponent(parts[0])] = decodeURIComponent(parts[1]);\n  }\n\n  return obj;\n}\n\n/**\n * Expose parser.\n */\n\nrequest.parseString = parseString;\n\n/**\n * Default MIME type map.\n *\n *     superagent.types.xml = 'application/xml';\n *\n */\n\nrequest.types = {\n  html: 'text/html',\n  json: 'application/json',\n  xml: 'application/xml',\n  urlencoded: 'application/x-www-form-urlencoded',\n  'form': 'application/x-www-form-urlencoded',\n  'form-data': 'application/x-www-form-urlencoded'\n};\n\n/**\n * Default serialization map.\n *\n *     superagent.serialize['application/xml'] = function(obj){\n *       return 'generated xml here';\n *     };\n *\n */\n\n request.serialize = {\n   'application/x-www-form-urlencoded': serialize,\n   'application/json': JSON.stringify\n };\n\n /**\n  * Default parsers.\n  *\n  *     superagent.parse['application/xml'] = function(str){\n  *       return { object parsed from str };\n  *     };\n  *\n  */\n\nrequest.parse = {\n  'application/x-www-form-urlencoded': parseString,\n  'application/json': JSON.parse\n};\n\n/**\n * Parse the given header `str` into\n * an object containing the mapped fields.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction parseHeader(str) {\n  var lines = str.split(/\\r?\\n/);\n  var fields = {};\n  var index;\n  var line;\n  var field;\n  var val;\n\n  lines.pop(); // trailing CRLF\n\n  for (var i = 0, len = lines.length; i < len; ++i) {\n    line = lines[i];\n    index = line.indexOf(':');\n    field = line.slice(0, index).toLowerCase();\n    val = trim(line.slice(index + 1));\n    fields[field] = val;\n  }\n\n  return fields;\n}\n\n/**\n * Return the mime type for the given `str`.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nfunction type(str){\n  return str.split(/ *; */).shift();\n};\n\n/**\n * Return header field parameters.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction params(str){\n  return reduce(str.split(/ *; */), function(obj, str){\n    var parts = str.split(/ *= */)\n      , key = parts.shift()\n      , val = parts.shift();\n\n    if (key && val) obj[key] = val;\n    return obj;\n  }, {});\n};\n\n/**\n * Initialize a new `Response` with the given `xhr`.\n *\n *  - set flags (.ok, .error, etc)\n *  - parse header\n *\n * Examples:\n *\n *  Aliasing `superagent` as `request` is nice:\n *\n *      request = superagent;\n *\n *  We can use the promise-like API, or pass callbacks:\n *\n *      request.get('/').end(function(res){});\n *      request.get('/', function(res){});\n *\n *  Sending data can be chained:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' })\n *        .end(function(res){});\n *\n *  Or passed to `.send()`:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' }, function(res){});\n *\n *  Or passed to `.post()`:\n *\n *      request\n *        .post('/user', { name: 'tj' })\n *        .end(function(res){});\n *\n * Or further reduced to a single call for simple cases:\n *\n *      request\n *        .post('/user', { name: 'tj' }, function(res){});\n *\n * @param {XMLHTTPRequest} xhr\n * @param {Object} options\n * @api private\n */\n\nfunction Response(req, options) {\n  options = options || {};\n  this.req = req;\n  this.xhr = this.req.xhr;\n  // responseText is accessible only if responseType is '' or 'text' and on older browsers\n  this.text = ((this.req.method !='HEAD' && (this.xhr.responseType === '' || this.xhr.responseType === 'text')) || typeof this.xhr.responseType === 'undefined')\n     ? this.xhr.responseText\n     : null;\n  this.statusText = this.req.xhr.statusText;\n  this.setStatusProperties(this.xhr.status);\n  this.header = this.headers = parseHeader(this.xhr.getAllResponseHeaders());\n  // getAllResponseHeaders sometimes falsely returns \"\" for CORS requests, but\n  // getResponseHeader still works. so we get content-type even if getting\n  // other headers fails.\n  this.header['content-type'] = this.xhr.getResponseHeader('content-type');\n  this.setHeaderProperties(this.header);\n  this.body = this.req.method != 'HEAD'\n    ? this.parseBody(this.text ? this.text : this.xhr.response)\n    : null;\n}\n\n/**\n * Get case-insensitive `field` value.\n *\n * @param {String} field\n * @return {String}\n * @api public\n */\n\nResponse.prototype.get = function(field){\n  return this.header[field.toLowerCase()];\n};\n\n/**\n * Set header related properties:\n *\n *   - `.type` the content type without params\n *\n * A response of \"Content-Type: text/plain; charset=utf-8\"\n * will provide you with a `.type` of \"text/plain\".\n *\n * @param {Object} header\n * @api private\n */\n\nResponse.prototype.setHeaderProperties = function(header){\n  // content-type\n  var ct = this.header['content-type'] || '';\n  this.type = type(ct);\n\n  // params\n  var obj = params(ct);\n  for (var key in obj) this[key] = obj[key];\n};\n\n/**\n * Parse the given body `str`.\n *\n * Used for auto-parsing of bodies. Parsers\n * are defined on the `superagent.parse` object.\n *\n * @param {String} str\n * @return {Mixed}\n * @api private\n */\n\nResponse.prototype.parseBody = function(str){\n  var parse = request.parse[this.type];\n  return parse && str && (str.length || str instanceof Object)\n    ? parse(str)\n    : null;\n};\n\n/**\n * Set flags such as `.ok` based on `status`.\n *\n * For example a 2xx response will give you a `.ok` of __true__\n * whereas 5xx will be __false__ and `.error` will be __true__. The\n * `.clientError` and `.serverError` are also available to be more\n * specific, and `.statusType` is the class of error ranging from 1..5\n * sometimes useful for mapping respond colors etc.\n *\n * \"sugar\" properties are also defined for common cases. Currently providing:\n *\n *   - .noContent\n *   - .badRequest\n *   - .unauthorized\n *   - .notAcceptable\n *   - .notFound\n *\n * @param {Number} status\n * @api private\n */\n\nResponse.prototype.setStatusProperties = function(status){\n  // handle IE9 bug: http://stackoverflow.com/questions/10046972/msie-returns-status-code-of-1223-for-ajax-request\n  if (status === 1223) {\n    status = 204;\n  }\n\n  var type = status / 100 | 0;\n\n  // status / class\n  this.status = status;\n  this.statusType = type;\n\n  // basics\n  this.info = 1 == type;\n  this.ok = 2 == type;\n  this.clientError = 4 == type;\n  this.serverError = 5 == type;\n  this.error = (4 == type || 5 == type)\n    ? this.toError()\n    : false;\n\n  // sugar\n  this.accepted = 202 == status;\n  this.noContent = 204 == status;\n  this.badRequest = 400 == status;\n  this.unauthorized = 401 == status;\n  this.notAcceptable = 406 == status;\n  this.notFound = 404 == status;\n  this.forbidden = 403 == status;\n};\n\n/**\n * Return an `Error` representative of this response.\n *\n * @return {Error}\n * @api public\n */\n\nResponse.prototype.toError = function(){\n  var req = this.req;\n  var method = req.method;\n  var url = req.url;\n\n  var msg = 'cannot ' + method + ' ' + url + ' (' + this.status + ')';\n  var err = new Error(msg);\n  err.status = this.status;\n  err.method = method;\n  err.url = url;\n\n  return err;\n};\n\n/**\n * Expose `Response`.\n */\n\nrequest.Response = Response;\n\n/**\n * Initialize a new `Request` with the given `method` and `url`.\n *\n * @param {String} method\n * @param {String} url\n * @api public\n */\n\nfunction Request(method, url) {\n  var self = this;\n  Emitter.call(this);\n  this._query = this._query || [];\n  this.method = method;\n  this.url = url;\n  this.header = {};\n  this._header = {};\n  this.on('end', function(){\n    var err = null;\n    var res = null;\n\n    try {\n      res = new Response(self);\n    } catch(e) {\n      err = new Error('Parser is unable to parse the response');\n      err.parse = true;\n      err.original = e;\n      return self.callback(err);\n    }\n\n    self.emit('response', res);\n\n    if (err) {\n      return self.callback(err, res);\n    }\n\n    if (res.status >= 200 && res.status < 300) {\n      return self.callback(err, res);\n    }\n\n    var new_err = new Error(res.statusText || 'Unsuccessful HTTP response');\n    new_err.original = err;\n    new_err.response = res;\n    new_err.status = res.status;\n\n    self.callback(err || new_err, res);\n  });\n}\n\n/**\n * Mixin `Emitter`.\n */\n\nEmitter(Request.prototype);\n\n/**\n * Allow for extension\n */\n\nRequest.prototype.use = function(fn) {\n  fn(this);\n  return this;\n}\n\n/**\n * Set timeout to `ms`.\n *\n * @param {Number} ms\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.timeout = function(ms){\n  this._timeout = ms;\n  return this;\n};\n\n/**\n * Clear previous timeout.\n *\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.clearTimeout = function(){\n  this._timeout = 0;\n  clearTimeout(this._timer);\n  return this;\n};\n\n/**\n * Abort the request, and clear potential timeout.\n *\n * @return {Request}\n * @api public\n */\n\nRequest.prototype.abort = function(){\n  if (this.aborted) return;\n  this.aborted = true;\n  this.xhr.abort();\n  this.clearTimeout();\n  this.emit('abort');\n  return this;\n};\n\n/**\n * Set header `field` to `val`, or multiple fields with one object.\n *\n * Examples:\n *\n *      req.get('/')\n *        .set('Accept', 'application/json')\n *        .set('X-API-Key', 'foobar')\n *        .end(callback);\n *\n *      req.get('/')\n *        .set({ Accept: 'application/json', 'X-API-Key': 'foobar' })\n *        .end(callback);\n *\n * @param {String|Object} field\n * @param {String} val\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.set = function(field, val){\n  if (isObject(field)) {\n    for (var key in field) {\n      this.set(key, field[key]);\n    }\n    return this;\n  }\n  this._header[field.toLowerCase()] = val;\n  this.header[field] = val;\n  return this;\n};\n\n/**\n * Remove header `field`.\n *\n * Example:\n *\n *      req.get('/')\n *        .unset('User-Agent')\n *        .end(callback);\n *\n * @param {String} field\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.unset = function(field){\n  delete this._header[field.toLowerCase()];\n  delete this.header[field];\n  return this;\n};\n\n/**\n * Get case-insensitive header `field` value.\n *\n * @param {String} field\n * @return {String}\n * @api private\n */\n\nRequest.prototype.getHeader = function(field){\n  return this._header[field.toLowerCase()];\n};\n\n/**\n * Set Content-Type to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.xml = 'application/xml';\n *\n *      request.post('/')\n *        .type('xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n *      request.post('/')\n *        .type('application/xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n * @param {String} type\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.type = function(type){\n  this.set('Content-Type', request.types[type] || type);\n  return this;\n};\n\n/**\n * Set Accept to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.json = 'application/json';\n *\n *      request.get('/agent')\n *        .accept('json')\n *        .end(callback);\n *\n *      request.get('/agent')\n *        .accept('application/json')\n *        .end(callback);\n *\n * @param {String} accept\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.accept = function(type){\n  this.set('Accept', request.types[type] || type);\n  return this;\n};\n\n/**\n * Set Authorization field value with `user` and `pass`.\n *\n * @param {String} user\n * @param {String} pass\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.auth = function(user, pass){\n  var str = btoa(user + ':' + pass);\n  this.set('Authorization', 'Basic ' + str);\n  return this;\n};\n\n/**\n* Add query-string `val`.\n*\n* Examples:\n*\n*   request.get('/shoes')\n*     .query('size=10')\n*     .query({ color: 'blue' })\n*\n* @param {Object|String} val\n* @return {Request} for chaining\n* @api public\n*/\n\nRequest.prototype.query = function(val){\n  if ('string' != typeof val) val = serialize(val);\n  if (val) this._query.push(val);\n  return this;\n};\n\n/**\n * Write the field `name` and `val` for \"multipart/form-data\"\n * request bodies.\n *\n * ``` js\n * request.post('/upload')\n *   .field('foo', 'bar')\n *   .end(callback);\n * ```\n *\n * @param {String} name\n * @param {String|Blob|File} val\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.field = function(name, val){\n  if (!this._formData) this._formData = new root.FormData();\n  this._formData.append(name, val);\n  return this;\n};\n\n/**\n * Queue the given `file` as an attachment to the specified `field`,\n * with optional `filename`.\n *\n * ``` js\n * request.post('/upload')\n *   .attach(new Blob(['<a id=\"a\"><b id=\"b\">hey!</b></a>'], { type: \"text/html\"}))\n *   .end(callback);\n * ```\n *\n * @param {String} field\n * @param {Blob|File} file\n * @param {String} filename\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.attach = function(field, file, filename){\n  if (!this._formData) this._formData = new root.FormData();\n  this._formData.append(field, file, filename);\n  return this;\n};\n\n/**\n * Send `data`, defaulting the `.type()` to \"json\" when\n * an object is given.\n *\n * Examples:\n *\n *       // querystring\n *       request.get('/search')\n *         .end(callback)\n *\n *       // multiple data \"writes\"\n *       request.get('/search')\n *         .send({ search: 'query' })\n *         .send({ range: '1..5' })\n *         .send({ order: 'desc' })\n *         .end(callback)\n *\n *       // manual json\n *       request.post('/user')\n *         .type('json')\n *         .send('{\"name\":\"tj\"})\n *         .end(callback)\n *\n *       // auto json\n *       request.post('/user')\n *         .send({ name: 'tj' })\n *         .end(callback)\n *\n *       // manual x-www-form-urlencoded\n *       request.post('/user')\n *         .type('form')\n *         .send('name=tj')\n *         .end(callback)\n *\n *       // auto x-www-form-urlencoded\n *       request.post('/user')\n *         .type('form')\n *         .send({ name: 'tj' })\n *         .end(callback)\n *\n *       // defaults to x-www-form-urlencoded\n  *      request.post('/user')\n  *        .send('name=tobi')\n  *        .send('species=ferret')\n  *        .end(callback)\n *\n * @param {String|Object} data\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.send = function(data){\n  var obj = isObject(data);\n  var type = this.getHeader('Content-Type');\n\n  // merge\n  if (obj && isObject(this._data)) {\n    for (var key in data) {\n      this._data[key] = data[key];\n    }\n  } else if ('string' == typeof data) {\n    if (!type) this.type('form');\n    type = this.getHeader('Content-Type');\n    if ('application/x-www-form-urlencoded' == type) {\n      this._data = this._data\n        ? this._data + '&' + data\n        : data;\n    } else {\n      this._data = (this._data || '') + data;\n    }\n  } else {\n    this._data = data;\n  }\n\n  if (!obj || isHost(data)) return this;\n  if (!type) this.type('json');\n  return this;\n};\n\n/**\n * Invoke the callback with `err` and `res`\n * and handle arity check.\n *\n * @param {Error} err\n * @param {Response} res\n * @api private\n */\n\nRequest.prototype.callback = function(err, res){\n  var fn = this._callback;\n  this.clearTimeout();\n  fn(err, res);\n};\n\n/**\n * Invoke callback with x-domain error.\n *\n * @api private\n */\n\nRequest.prototype.crossDomainError = function(){\n  var err = new Error('Origin is not allowed by Access-Control-Allow-Origin');\n  err.crossDomain = true;\n  this.callback(err);\n};\n\n/**\n * Invoke callback with timeout error.\n *\n * @api private\n */\n\nRequest.prototype.timeoutError = function(){\n  var timeout = this._timeout;\n  var err = new Error('timeout of ' + timeout + 'ms exceeded');\n  err.timeout = timeout;\n  this.callback(err);\n};\n\n/**\n * Enable transmission of cookies with x-domain requests.\n *\n * Note that for this to work the origin must not be\n * using \"Access-Control-Allow-Origin\" with a wildcard,\n * and also must set \"Access-Control-Allow-Credentials\"\n * to \"true\".\n *\n * @api public\n */\n\nRequest.prototype.withCredentials = function(){\n  this._withCredentials = true;\n  return this;\n};\n\n/**\n * Initiate request, invoking callback `fn(res)`\n * with an instanceof `Response`.\n *\n * @param {Function} fn\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.end = function(fn){\n  var self = this;\n  var xhr = this.xhr = request.getXHR();\n  var query = this._query.join('&');\n  var timeout = this._timeout;\n  var data = this._formData || this._data;\n\n  // store callback\n  this._callback = fn || noop;\n\n  // state change\n  xhr.onreadystatechange = function(){\n    if (4 != xhr.readyState) return;\n\n    // In IE9, reads to any property (e.g. status) off of an aborted XHR will\n    // result in the error \"Could not complete the operation due to error c00c023f\"\n    var status;\n    try { status = xhr.status } catch(e) { status = 0; }\n\n    if (0 == status) {\n      if (self.timedout) return self.timeoutError();\n      if (self.aborted) return;\n      return self.crossDomainError();\n    }\n    self.emit('end');\n  };\n\n  // progress\n  var handleProgress = function(e){\n    if (e.total > 0) {\n      e.percent = e.loaded / e.total * 100;\n    }\n    self.emit('progress', e);\n  };\n  if (this.hasListeners('progress')) {\n    xhr.onprogress = handleProgress;\n  }\n  try {\n    if (xhr.upload && this.hasListeners('progress')) {\n      xhr.upload.onprogress = handleProgress;\n    }\n  } catch(e) {\n    // Accessing xhr.upload fails in IE from a web worker, so just pretend it doesn't exist.\n    // Reported here:\n    // https://connect.microsoft.com/IE/feedback/details/837245/xmlhttprequest-upload-throws-invalid-argument-when-used-from-web-worker-context\n  }\n\n  // timeout\n  if (timeout && !this._timer) {\n    this._timer = setTimeout(function(){\n      self.timedout = true;\n      self.abort();\n    }, timeout);\n  }\n\n  // querystring\n  if (query) {\n    query = request.serializeObject(query);\n    this.url += ~this.url.indexOf('?')\n      ? '&' + query\n      : '?' + query;\n  }\n\n  // initiate request\n  xhr.open(this.method, this.url, true);\n\n  // CORS\n  if (this._withCredentials) xhr.withCredentials = true;\n\n  // body\n  if ('GET' != this.method && 'HEAD' != this.method && 'string' != typeof data && !isHost(data)) {\n    // serialize stuff\n    var serialize = request.serialize[this.getHeader('Content-Type')];\n    if (serialize) data = serialize(data);\n  }\n\n  // set header fields\n  for (var field in this.header) {\n    if (null == this.header[field]) continue;\n    xhr.setRequestHeader(field, this.header[field]);\n  }\n\n  // send stuff\n  this.emit('request', this);\n  xhr.send(data);\n  return this;\n};\n\n/**\n * Expose `Request`.\n */\n\nrequest.Request = Request;\n\n/**\n * Issue a request:\n *\n * Examples:\n *\n *    request('GET', '/users').end(callback)\n *    request('/users').end(callback)\n *    request('/users', callback)\n *\n * @param {String} method\n * @param {String|Function} url or callback\n * @return {Request}\n * @api public\n */\n\nfunction request(method, url) {\n  // callback\n  if ('function' == typeof url) {\n    return new Request('GET', method).end(url);\n  }\n\n  // url first\n  if (1 == arguments.length) {\n    return new Request('GET', method);\n  }\n\n  return new Request(method, url);\n}\n\n/**\n * GET `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} data or fn\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.get = function(url, data, fn){\n  var req = request('GET', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.query(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * HEAD `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} data or fn\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.head = function(url, data, fn){\n  var req = request('HEAD', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * DELETE `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.del = function(url, fn){\n  var req = request('DELETE', url);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * PATCH `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} data\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.patch = function(url, data, fn){\n  var req = request('PATCH', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * POST `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} data\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.post = function(url, data, fn){\n  var req = request('POST', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * PUT `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} data or fn\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.put = function(url, data, fn){\n  var req = request('PUT', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * Expose `request`.\n */\n\nmodule.exports = request;\n","\n/**\n * Expose `Emitter`.\n */\n\nmodule.exports = Emitter;\n\n/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nfunction Emitter(obj) {\n  if (obj) return mixin(obj);\n};\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks[event] = this._callbacks[event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  var self = this;\n  this._callbacks = this._callbacks || {};\n\n  function on() {\n    self.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks[event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks[event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n  var args = [].slice.call(arguments, 1)\n    , callbacks = this._callbacks[event];\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks[event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n","\n/**\n * Reduce `arr` with `fn`.\n *\n * @param {Array} arr\n * @param {Function} fn\n * @param {Mixed} initial\n *\n * TODO: combatible error handling?\n */\n\nmodule.exports = function(arr, fn, initial){  \n  var idx = 0;\n  var len = arr.length;\n  var curr = arguments.length == 3\n    ? initial\n    : arr[idx++];\n\n  while (idx < len) {\n    curr = fn.call(null, curr, arr[idx], ++idx, arr);\n  }\n  \n  return curr;\n};","(function (document, uses, requestAnimationFrame, CACHE, IE9TO11) {\n\tfunction embed(svg, g) {\n\t\tif (g) {\n\t\t\tvar\n\t\t\tviewBox = g.getAttribute('viewBox'),\n\t\t\tfragment = document.createDocumentFragment(),\n\t\t\tclone = g.cloneNode(true);\n\n\t\t\tif (viewBox) {\n\t\t\t\tsvg.setAttribute('viewBox', viewBox);\n\t\t\t}\n\n\t\t\twhile (clone.childNodes.length) {\n\t\t\t\tfragment.appendChild(clone.childNodes[0]);\n\t\t\t}\n\n\t\t\tsvg.appendChild(fragment);\n\t\t}\n\t}\n\n\tfunction onload() {\n\t\tvar xhr = this, x = document.createElement('x'), s = xhr.s;\n\n\t\tx.innerHTML = xhr.responseText;\n\n\t\txhr.onload = function () {\n\t\t\ts.splice(0).map(function (array) {\n\t\t\t\tembed(array[0], x.querySelector('#' + array[1].replace(/(\\W)/g, '\\\\$1')));\n\t\t\t});\n\t\t};\n\n\t\txhr.onload();\n\t}\n\n\tfunction onframe() {\n\t\tvar use;\n\n\t\twhile ((use = uses[0])) {\n\t\t\tvar\n\t\t\tsvg = use.parentNode,\n\t\t\turl = use.getAttribute('xlink:href').split('#'),\n\t\t\turl_root = url[0],\n\t\t\turl_hash = url[1];\n\n\t\t\tsvg.removeChild(use);\n\n\t\t\tif (url_root.length) {\n\t\t\t\tvar xhr = CACHE[url_root] = CACHE[url_root] || new XMLHttpRequest();\n\n\t\t\t\tif (!xhr.s) {\n\t\t\t\t\txhr.s = [];\n\n\t\t\t\t\txhr.open('GET', url_root);\n\n\t\t\t\t\txhr.onload = onload;\n\n\t\t\t\t\txhr.send();\n\t\t\t\t}\n\n\t\t\t\txhr.s.push([svg, url_hash]);\n\n\t\t\t\tif (xhr.readyState === 4) {\n\t\t\t\t\txhr.onload();\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tembed(svg, document.getElementById(url_hash));\n\t\t\t}\n\t\t}\n\n\t\trequestAnimationFrame(onframe);\n\t}\n\n\tif (IE9TO11) {\n\t\tonframe();\n\t}\n})(\n\tdocument,\n\tdocument.getElementsByTagName('use'),\n\twindow.requestAnimationFrame || window.setTimeout,\n\t{},\n\t/Trident\\/[567]\\b/.test(navigator.userAgent) || (navigator.userAgent.match(/AppleWebKit\\/(\\d+)/) || [])[1] < 537\n);\n","\"use strict\";\nvar window = require(\"global/window\")\nvar once = require(\"once\")\nvar parseHeaders = require(\"parse-headers\")\n\n\nvar XHR = window.XMLHttpRequest || noop\nvar XDR = \"withCredentials\" in (new XHR()) ? XHR : window.XDomainRequest\n\nmodule.exports = createXHR\n\nfunction createXHR(options, callback) {\n    function readystatechange() {\n        if (xhr.readyState === 4) {\n            loadFunc()\n        }\n    }\n\n    function getBody() {\n        // Chrome with requestType=blob throws errors arround when even testing access to responseText\n        var body = undefined\n\n        if (xhr.response) {\n            body = xhr.response\n        } else if (xhr.responseType === \"text\" || !xhr.responseType) {\n            body = xhr.responseText || xhr.responseXML\n        }\n\n        if (isJson) {\n            try {\n                body = JSON.parse(body)\n            } catch (e) {}\n        }\n\n        return body\n    }\n    \n    var failureResponse = {\n                body: undefined,\n                headers: {},\n                statusCode: 0,\n                method: method,\n                url: uri,\n                rawRequest: xhr\n            }\n    \n    function errorFunc(evt) {\n        clearTimeout(timeoutTimer)\n        if(!(evt instanceof Error)){\n            evt = new Error(\"\" + (evt || \"unknown\") )\n        }\n        evt.statusCode = 0\n        callback(evt, failureResponse)\n    }\n\n    // will load the data & process the response in a special response object\n    function loadFunc() {\n        clearTimeout(timeoutTimer)\n        \n        var status = (xhr.status === 1223 ? 204 : xhr.status)\n        var response = failureResponse\n        var err = null\n        \n        if (status !== 0){\n            response = {\n                body: getBody(),\n                statusCode: status,\n                method: method,\n                headers: {},\n                url: uri,\n                rawRequest: xhr\n            }\n            if(xhr.getAllResponseHeaders){ //remember xhr can in fact be XDR for CORS in IE\n                response.headers = parseHeaders(xhr.getAllResponseHeaders())\n            }\n        } else {\n            err = new Error(\"Internal XMLHttpRequest Error\")\n        }\n        callback(err, response, response.body)\n        \n    }\n    \n    if (typeof options === \"string\") {\n        options = { uri: options }\n    }\n\n    options = options || {}\n    if(typeof callback === \"undefined\"){\n        throw new Error(\"callback argument missing\")\n    }\n    callback = once(callback)\n\n    var xhr = options.xhr || null\n\n    if (!xhr) {\n        if (options.cors || options.useXDR) {\n            xhr = new XDR()\n        }else{\n            xhr = new XHR()\n        }\n    }\n\n    var key\n    var uri = xhr.url = options.uri || options.url\n    var method = xhr.method = options.method || \"GET\"\n    var body = options.body || options.data\n    var headers = xhr.headers = options.headers || {}\n    var sync = !!options.sync\n    var isJson = false\n    var timeoutTimer\n\n    if (\"json\" in options) {\n        isJson = true\n        headers[\"Accept\"] || (headers[\"Accept\"] = \"application/json\") //Don't override existing accept header declared by user\n        if (method !== \"GET\" && method !== \"HEAD\") {\n            headers[\"Content-Type\"] = \"application/json\"\n            body = JSON.stringify(options.json)\n        }\n    }\n\n    xhr.onreadystatechange = readystatechange\n    xhr.onload = loadFunc\n    xhr.onerror = errorFunc\n    // IE9 must have onprogress be set to a unique function.\n    xhr.onprogress = function () {\n        // IE must die\n    }\n    xhr.ontimeout = errorFunc\n    xhr.open(method, uri, !sync)\n    //has to be after open\n    xhr.withCredentials = !!options.withCredentials\n    \n    // Cannot set timeout with sync request\n    // not setting timeout on the xhr object, because of old webkits etc. not handling that correctly\n    // both npm's request and jquery 1.x use this kind of timeout, so this is being consistent\n    if (!sync && options.timeout > 0 ) {\n        timeoutTimer = setTimeout(function(){\n            xhr.abort(\"timeout\");\n        }, options.timeout+2 );\n    }\n\n    if (xhr.setRequestHeader) {\n        for(key in headers){\n            if(headers.hasOwnProperty(key)){\n                xhr.setRequestHeader(key, headers[key])\n            }\n        }\n    } else if (options.headers) {\n        throw new Error(\"Headers cannot be set on an XDomainRequest object\")\n    }\n\n    if (\"responseType\" in options) {\n        xhr.responseType = options.responseType\n    }\n    \n    if (\"beforeSend\" in options && \n        typeof options.beforeSend === \"function\"\n    ) {\n        options.beforeSend(xhr)\n    }\n\n    xhr.send(body)\n\n    return xhr\n\n\n}\n\n\nfunction noop() {}\n","if (typeof window !== \"undefined\") {\n    module.exports = window;\n} else if (typeof global !== \"undefined\") {\n    module.exports = global;\n} else if (typeof self !== \"undefined\"){\n    module.exports = self;\n} else {\n    module.exports = {};\n}\n","module.exports = once\n\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function () {\n      return once(this)\n    },\n    configurable: true\n  })\n})\n\nfunction once (fn) {\n  var called = false\n  return function () {\n    if (called) return\n    called = true\n    return fn.apply(this, arguments)\n  }\n}\n","var isFunction = require('is-function')\n\nmodule.exports = forEach\n\nvar toString = Object.prototype.toString\nvar hasOwnProperty = Object.prototype.hasOwnProperty\n\nfunction forEach(list, iterator, context) {\n    if (!isFunction(iterator)) {\n        throw new TypeError('iterator must be a function')\n    }\n\n    if (arguments.length < 3) {\n        context = this\n    }\n    \n    if (toString.call(list) === '[object Array]')\n        forEachArray(list, iterator, context)\n    else if (typeof list === 'string')\n        forEachString(list, iterator, context)\n    else\n        forEachObject(list, iterator, context)\n}\n\nfunction forEachArray(array, iterator, context) {\n    for (var i = 0, len = array.length; i < len; i++) {\n        if (hasOwnProperty.call(array, i)) {\n            iterator.call(context, array[i], i, array)\n        }\n    }\n}\n\nfunction forEachString(string, iterator, context) {\n    for (var i = 0, len = string.length; i < len; i++) {\n        // no such thing as a sparse string.\n        iterator.call(context, string.charAt(i), i, string)\n    }\n}\n\nfunction forEachObject(object, iterator, context) {\n    for (var k in object) {\n        if (hasOwnProperty.call(object, k)) {\n            iterator.call(context, object[k], k, object)\n        }\n    }\n}\n","module.exports = isFunction\n\nvar toString = Object.prototype.toString\n\nfunction isFunction (fn) {\n  var string = toString.call(fn)\n  return string === '[object Function]' ||\n    (typeof fn === 'function' && string !== '[object RegExp]') ||\n    (typeof window !== 'undefined' &&\n     // IE8 and below\n     (fn === window.setTimeout ||\n      fn === window.alert ||\n      fn === window.confirm ||\n      fn === window.prompt))\n};\n","\nexports = module.exports = trim;\n\nfunction trim(str){\n  return str.replace(/^\\s*|\\s*$/g, '');\n}\n\nexports.left = function(str){\n  return str.replace(/^\\s*/, '');\n};\n\nexports.right = function(str){\n  return str.replace(/\\s*$/, '');\n};\n","var trim = require('trim')\n  , forEach = require('for-each')\n  , isArray = function(arg) {\n      return Object.prototype.toString.call(arg) === '[object Array]';\n    }\n\nmodule.exports = function (headers) {\n  if (!headers)\n    return {}\n\n  var result = {}\n\n  forEach(\n      trim(headers).split('\\n')\n    , function (row) {\n        var index = row.indexOf(':')\n          , key = trim(row.slice(0, index)).toLowerCase()\n          , value = trim(row.slice(index + 1))\n\n        if (typeof(result[key]) === 'undefined') {\n          result[key] = value\n        } else if (isArray(result[key])) {\n          result[key].push(value)\n        } else {\n          result[key] = [ result[key], value ]\n        }\n      }\n  )\n\n  return result\n}","// Generated by CoffeeScript 1.9.1\n\n/**\n * Copyright (c) 2010 Maxim Vasiliev\n#\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n#\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n#\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n#\n * @author Maxim Vasiliev\n * Date: 09.09.2010\n * Time: 19:02:33\n */\n(function(root, factory) {\n  if (typeof exports !== 'undefined' && typeof module !== 'undefined' && module.exports) {\n    module.exports = factory();\n  } else if (typeof define === 'function' && define.amd) {\n    define(factory);\n  } else {\n    root.form2js = factory();\n  }\n})(this, function() {\n\n  /**\n   * Returns form values represented as Javascript object\n   * \"name\" attribute defines structure of resulting object\n  #\n   * @param rootNode {Element|String} root form element (or it's id) or array of root elements\n   * @param delimiter {String} structure parts delimiter defaults to '.'\n   * @param skipEmpty {Boolean} should skip empty text values, defaults to true\n   * @param nodeCallback {Function} custom function to get node value\n   * @param useIdIfEmptyName {Boolean} if true value of id attribute of field will be used if name of field is empty\n   */\n  var extractNodeValues, form2js, getFieldName, getFieldValue, getFormValues, getSelectedOptionValue, getSubFormValues, processNameValues;\n  form2js = function(rootNode, delimiter, skipEmpty, nodeCallback, useIdIfEmptyName, getDisabled) {\n    var currNode, formValues, i;\n    getDisabled = getDisabled ? true : false;\n    if (typeof skipEmpty === 'undefined' || skipEmpty === null) {\n      skipEmpty = true;\n    }\n    if (typeof delimiter === 'undefined' || delimiter === null) {\n      delimiter = '.';\n    }\n    if (arguments.length < 5) {\n      useIdIfEmptyName = false;\n    }\n    rootNode = typeof rootNode === 'string' ? document.getElementById(rootNode) : rootNode;\n    formValues = [];\n    currNode = void 0;\n    i = 0;\n\n    /* If rootNode is array - combine values */\n    if (rootNode.constructor === Array || typeof NodeList !== 'undefined' && rootNode.constructor === NodeList) {\n      while (currNode = rootNode[i++]) {\n        formValues = formValues.concat(getFormValues(currNode, nodeCallback, useIdIfEmptyName, getDisabled));\n      }\n    } else {\n      formValues = getFormValues(rootNode, nodeCallback, useIdIfEmptyName, getDisabled);\n    }\n    return processNameValues(formValues, skipEmpty, delimiter);\n  };\n\n  /**\n   * Processes collection of { name: 'name', value: 'value' } objects.\n   * @param nameValues\n   * @param skipEmpty if true skips elements with value == '' or value == null\n   * @param delimiter\n   */\n  processNameValues = function(nameValues, skipEmpty, delimiter) {\n    var _nameParts, arrIdx, arrName, arrNameFull, arrays, currResult, i, j, k, l, name, namePart, nameParts, result, value;\n    result = {};\n    arrays = {};\n    i = void 0;\n    j = void 0;\n    k = void 0;\n    l = void 0;\n    value = void 0;\n    nameParts = void 0;\n    currResult = void 0;\n    arrNameFull = void 0;\n    arrName = void 0;\n    arrIdx = void 0;\n    namePart = void 0;\n    name = void 0;\n    _nameParts = void 0;\n    i = 0;\n    while (i < nameValues.length) {\n      value = nameValues[i].value;\n      if (skipEmpty && (value === '' || value === null)) {\n        i++;\n        continue;\n      }\n      name = nameValues[i].name;\n      _nameParts = name.split(delimiter);\n      nameParts = [];\n      currResult = result;\n      arrNameFull = '';\n      j = 0;\n      while (j < _nameParts.length) {\n        namePart = _nameParts[j].split('][');\n        if (namePart.length > 1) {\n          k = 0;\n          while (k < namePart.length) {\n            if (k === 0) {\n              namePart[k] = namePart[k] + ']';\n            } else if (k === namePart.length - 1) {\n              namePart[k] = '[' + namePart[k];\n            } else {\n              namePart[k] = '[' + namePart[k] + ']';\n            }\n            arrIdx = namePart[k].match(/([a-z_]+)?\\[([a-z_][a-z0-9_]+?)\\]/i);\n            if (arrIdx) {\n              l = 1;\n              while (l < arrIdx.length) {\n                if (arrIdx[l]) {\n                  nameParts.push(arrIdx[l]);\n                }\n                l++;\n              }\n            } else {\n              nameParts.push(namePart[k]);\n            }\n            k++;\n          }\n        } else {\n          nameParts = nameParts.concat(namePart);\n        }\n        j++;\n      }\n      j = 0;\n      while (j < nameParts.length) {\n        namePart = nameParts[j];\n        if (namePart.indexOf('[]') > -1 && j === nameParts.length - 1) {\n          arrName = namePart.substr(0, namePart.indexOf('['));\n          arrNameFull += arrName;\n          if (!currResult[arrName]) {\n            currResult[arrName] = [];\n          }\n          currResult[arrName].push(value);\n        } else if (namePart.indexOf('[') > -1) {\n          arrName = namePart.substr(0, namePart.indexOf('['));\n          arrIdx = namePart.replace(/(^([a-z_]+)?\\[)|(\\]$)/gi, '');\n\n          /* Unique array name */\n          arrNameFull += '_' + arrName + '_' + arrIdx;\n\n          /*\n           * Because arrIdx in field name can be not zero-based and step can be\n           * other than 1, we can't use them in target array directly.\n           * Instead we're making a hash where key is arrIdx and value is a reference to\n           * added array element\n           */\n          if (!arrays[arrNameFull]) {\n            arrays[arrNameFull] = {};\n          }\n          if (arrName !== '' && !currResult[arrName]) {\n            currResult[arrName] = [];\n          }\n          if (j === nameParts.length - 1) {\n            if (arrName === '') {\n              currResult.push(value);\n              arrays[arrNameFull][arrIdx] = currResult[currResult.length - 1];\n            } else {\n              currResult[arrName].push(value);\n              arrays[arrNameFull][arrIdx] = currResult[arrName][currResult[arrName].length - 1];\n            }\n          } else {\n            if (!arrays[arrNameFull][arrIdx]) {\n              if (/^[0-9a-z_]+\\[?/i.test(nameParts[j + 1])) {\n                currResult[arrName].push({});\n              } else {\n                currResult[arrName].push([]);\n              }\n              arrays[arrNameFull][arrIdx] = currResult[arrName][currResult[arrName].length - 1];\n            }\n          }\n          currResult = arrays[arrNameFull][arrIdx];\n        } else {\n          arrNameFull += namePart;\n          if (j < nameParts.length - 1) {\n            if (!currResult[namePart]) {\n              currResult[namePart] = {};\n            }\n            currResult = currResult[namePart];\n          } else {\n            currResult[namePart] = value;\n          }\n        }\n        j++;\n      }\n      i++;\n    }\n    return result;\n  };\n  getFormValues = function(rootNode, nodeCallback, useIdIfEmptyName, getDisabled) {\n    var result;\n    result = extractNodeValues(rootNode, nodeCallback, useIdIfEmptyName, getDisabled);\n    if (result.length > 0) {\n      return result;\n    } else {\n      return getSubFormValues(rootNode, nodeCallback, useIdIfEmptyName, getDisabled);\n    }\n  };\n  getSubFormValues = function(rootNode, nodeCallback, useIdIfEmptyName, getDisabled) {\n    var currentNode, result;\n    result = [];\n    currentNode = rootNode.firstChild;\n    while (currentNode) {\n      result = result.concat(extractNodeValues(currentNode, nodeCallback, useIdIfEmptyName, getDisabled));\n      currentNode = currentNode.nextSibling;\n    }\n    return result;\n  };\n  extractNodeValues = function(node, nodeCallback, useIdIfEmptyName, getDisabled) {\n    var callbackResult, fieldName, fieldValue, result;\n    if (node.disabled && !getDisabled) {\n      return [];\n    }\n    callbackResult = void 0;\n    fieldValue = void 0;\n    result = void 0;\n    fieldName = getFieldName(node, useIdIfEmptyName);\n    callbackResult = nodeCallback && nodeCallback(node);\n    if (callbackResult && callbackResult.name) {\n      result = [callbackResult];\n    } else if (fieldName !== '' && node.nodeName.match(/INPUT|TEXTAREA/i)) {\n      fieldValue = getFieldValue(node, getDisabled);\n      if (null === fieldValue) {\n        result = [];\n      } else {\n        result = [\n          {\n            name: fieldName,\n            value: fieldValue\n          }\n        ];\n      }\n    } else if (fieldName !== '' && node.nodeName.match(/SELECT/i)) {\n      fieldValue = getFieldValue(node, getDisabled);\n      result = [\n        {\n          name: fieldName.replace(/\\[\\]$/, ''),\n          value: fieldValue\n        }\n      ];\n    } else {\n      result = getSubFormValues(node, nodeCallback, useIdIfEmptyName, getDisabled);\n    }\n    return result;\n  };\n  getFieldName = function(node, useIdIfEmptyName) {\n    if (node.name && node.name !== '') {\n      return node.name;\n    } else if (useIdIfEmptyName && node.id && node.id !== '') {\n      return node.id;\n    } else {\n      return '';\n    }\n  };\n  getFieldValue = function(fieldNode, getDisabled) {\n    if (fieldNode.disabled && !getDisabled) {\n      return null;\n    }\n    switch (fieldNode.nodeName) {\n      case 'INPUT':\n      case 'TEXTAREA':\n        switch (fieldNode.type.toLowerCase()) {\n          case 'radio':\n            if (fieldNode.checked && fieldNode.value === 'false') {\n              return false;\n            }\n            break;\n          case 'checkbox':\n            if (fieldNode.checked && fieldNode.value === 'true') {\n              return true;\n            }\n            if (!fieldNode.checked && fieldNode.value === 'true') {\n              return false;\n            }\n            if (fieldNode.checked) {\n              return fieldNode.value;\n            }\n            break;\n          case 'button':\n          case 'reset':\n          case 'submit':\n          case 'image':\n            return '';\n          default:\n            return fieldNode.value;\n            break;\n        }\n        break;\n      case 'SELECT':\n        return getSelectedOptionValue(fieldNode);\n      default:\n        break;\n    }\n    return null;\n  };\n  getSelectedOptionValue = function(selectNode) {\n    var i, l, multiple, options, result;\n    multiple = selectNode.multiple;\n    result = [];\n    options = void 0;\n    i = void 0;\n    l = void 0;\n    if (!multiple) {\n      return selectNode.value;\n    }\n    options = selectNode.getElementsByTagName('option');\n    i = 0;\n    l = options.length;\n    while (i < l) {\n      if (options[i].selected) {\n        result.push(options[i].value);\n      }\n      i++;\n    }\n    return result;\n  };\n  'use strict';\n  return form2js;\n});\n","// Generated by CoffeeScript 1.9.1\n\n/*\n  Register things to do when various events fire\n */\nvar hub, request, scene, xhr;\n\nhub = require('odo-hub');\n\nscene = require('./scene');\n\nrequest = require('superagent');\n\nxhr = require('xhr');\n\nhub.all(function(e, description, p, cb) {\n  var timings;\n  if (e === 'queries starting') {\n    console.log(\"? \" + p.description);\n  } else if (e === 'queries completed') {\n    timings = Object.keys(p).map(function(prop) {\n      return \"  \" + prop + \" in \" + p[prop] + \"ms\";\n    }).join('\\n');\n    console.log(\" completed\\n\" + timings);\n  } else {\n    console.log(\"+ \" + description);\n  }\n  return cb();\n});\n\nhub.every('{eventid} RSVP {attending}', function(p, cb) {\n  var delta, transaction;\n  delta = {\n    invite: {}\n  };\n  delta.invite[p.eventid] = {\n    going: p.attending\n  };\n  transaction = scene.layer(delta);\n  scene.update();\n  return cb();\n});\n\nhub.every('{eventid} attendee {index} is {name}', function(p, cb) {\n  var attending, delta, transaction;\n  attending = scene.state().invite[p.eventid].attending.slice(0);\n  attending[p.index] = name;\n  delta = {\n    invite: {}\n  };\n  delta.invite[p.eventid] = {\n    attending: attending\n  };\n  transaction = scene.layer(delta);\n  scene.update();\n  return cb();\n});\n\nhub.every('navigate to the default page', function(p, cb) {\n  scene.update({\n    page: {\n      name: 'default',\n      code: p.code\n    }\n  });\n  return cb();\n});\n\nhub.every('navigation error, {pathname} not found', function(p, cb) {\n  scene.update({\n    page: {\n      name: 'error',\n      message: \"Sorry, the \\\"\" + p.pathname + \"\\\" page was not found.\"\n    }\n  });\n  return cb();\n});\n\nhub.every('event error, {code} not found', function(p, cb) {\n  scene.update({\n    page: {\n      name: 'error',\n      message: \"Sorry, the event code \\\"\" + p.code + \"\\\" was not found.\"\n    }\n  });\n  return cb();\n});\n\nhub.every('event error, {code} submit failed', function(p, cb) {\n  scene.update({\n    page: {\n      name: 'error',\n      message: 'Sorry, something went wrong. Refresh to try again?'\n    }\n  });\n  return cb();\n});\n\nhub.every('event submit {code} success', function(p, cb) {\n  scene.update({\n    success: true\n  });\n  return cb();\n});\n\nhub.every('event code {code} submitted', function(p, cb) {\n  require('page').stop();\n  return request.post('/submit').query({\n    code: p.code\n  }).send(p.data).end(function(err, res) {\n    cb();\n    if ((err != null) || !res.ok) {\n      console.error(err);\n      hub.emit('event error, {code} submit failed', p);\n      return;\n    }\n    return hub.emit('event submit {code} success', p);\n  });\n});\n","// Generated by CoffeeScript 1.9.1\nvar Router, component, dom, getpage, hub, inject, page, ref;\n\nref = require('odojs'), component = ref.component, dom = ref.dom;\n\ninject = require('injectinto');\n\nhub = require('odo-hub');\n\npage = require('page');\n\npage('/:code', function(e) {\n  return hub.emit('navigate to the default page', e.params);\n});\n\npage(function(details) {\n  return hub.emit('navigation error, {pathname} not found', details);\n});\n\ngetpage = function(params) {\n  var ref1;\n  page = (ref1 = params.page) != null ? ref1 : 'default';\n  if (page instanceof Object) {\n    page = page.name;\n  }\n  return inject.one(\"page:\" + page);\n};\n\nRouter = component({\n  query: function(params) {\n    return getpage(params).query(params);\n  },\n  render: function(state, params) {\n    return getpage(params)(state, params);\n  }\n});\n\ninject.bind('router', Router);\n\nmodule.exports = Router;\n","// Generated by CoffeeScript 1.9.1\nvar Router, body, component, odoql, ref, relay, scene, stores, widget;\n\nref = require('odojs'), component = ref.component, widget = ref.widget;\n\nodoql = require('odoql/plugin');\n\nrelay = require('odo-relay');\n\ncomponent.use(odoql);\n\nwidget.use(odoql);\n\nrequire('../components/');\n\nrequire('../ui/');\n\nRouter = require('./router');\n\nRouter.use(relay);\n\nbody = document.querySelector('body');\n\nstores = require('./stores');\n\nscene = relay(body, Router, stores);\n\nmodule.exports = scene;\n","// Generated by CoffeeScript 1.9.1\nvar get, jsonstore, localstore, stores;\n\njsonstore = require('odoql-json/store');\n\nlocalstore = require('odoql-localstorage/store');\n\nget = function(url, cb) {\n  var http;\n  http = new XMLHttpRequest();\n  http.onreadystatechange = function() {\n    if (http.readyState !== XMLHttpRequest.DONE) {\n      return;\n    }\n    if (http.status === 200) {\n      return cb(null, JSON.parse(http.responseText));\n    }\n    return cb({\n      status: http.status,\n      message: http.responseText\n    });\n  };\n  http.open('GET', url, true);\n  return http.send();\n};\n\nstores = {\n  localstorage: localstore,\n  __dynamic: function(query, cb) {\n    query = encodeURIComponent(JSON.stringify(query));\n    return get(\"/query?q=\" + query, cb);\n  }\n};\n\nmodule.exports = stores;\n","// Generated by CoffeeScript 1.9.1\nvar Icon, component, dom, inject, ref, svg;\n\nref = require('odojs'), component = ref.component, dom = ref.dom, svg = ref.svg;\n\ninject = require('injectinto');\n\nrequire('svg4everybody');\n\nIcon = component({\n  render: function(state, params) {\n    return dom('span', [\n      svg('svg', {\n        attributes: {\n          role: 'img',\n          \"class\": 'icon'\n        }\n      }, [\n        svg('use', {\n          'xlink:href': \"/dist/wedding-1.0.0.min.svg#\" + params.i\n        })\n      ])\n    ]);\n  }\n});\n\ninject.bind('icon', Icon);\n\nmodule.exports = Icon;\n","// Generated by CoffeeScript 1.8.0\nrequire('./icons');\n"]}